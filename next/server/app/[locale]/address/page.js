(()=>{var e={};e.id=202,e.ids=[202],e.modules={382:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var r=s(60687);s(43210);var a=s(29640),i=s(16189);function l({message:e,isVisible:t,onClose:s}){let l="en"===(0,i.usePathname)().split("/")[1]?"en":"ar";return t?(0,r.jsx)(a.P.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},transition:{duration:.3},className:"fixed top-[13vh] left-1/2 transform -translate-x-1/2 bg-[var(--accent-color)] text-[var(--text-white)] px-6 py-3 rounded-lg shadow-[var(--shadow-md)] max-w-md w-full text-center z-50",dir:"ar"===l?"rtl":"ltr",role:"alert","aria-live":"polite",children:e}):null}},881:(e,t,s)=>{Promise.resolve().then(s.bind(s,9350))},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9350:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var r=s(60687),a=s(43210),i=s(77618),l=s(16189),n=s(29640),d=s(88920),o=s(63143),c=s(88233),u=s(96474);function h({onClose:e,onSave:t,initialAddress:s,mode:l}){let d=(0,i.c3)("addresses"),[o,c]=(0,a.useState)({title:s?.title||"",country_id:s?.country_id||1,city:s?.city||"",address_line:s?.address_line||""}),[u,h]=(0,a.useState)([]),[p,m]=(0,a.useState)({}),x=e=>{c({...o,[e.target.name]:e.target.value}),m({...p,[e.target.name]:""})},y=()=>{let e={};return o.title||(e.title=d("titleRequired")),o.country_id||(e.country_id=d("countryRequired")),o.city||(e.city=d("cityRequired")),o.address_line||(e.address_line=d("addressLineRequired")),m(e),0===Object.keys(e).length};return(0,r.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-4",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-green-700",children:"add"===l?d("addAddress"):d("editAddress")}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),y()&&t(o,l)},className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"title",className:"block text-gray-700 mb-1",children:d("title")}),(0,r.jsx)("input",{type:"text",id:"title",name:"title",value:o.title,onChange:x,className:"w-full px-4 py-2 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-green-700",placeholder:d("titlePlaceholder")}),p.title&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:p.title})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"country_id",className:"block text-gray-700 mb-1",children:d("country")}),(0,r.jsx)("select",{id:"country_id",name:"country_id",value:o.country_id,onChange:x,className:"w-full px-4 py-2 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-green-700 bg-gray-100 cursor-not-allowed",disabled:!0,children:u.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))}),p.country_id&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:p.country_id})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"city",className:"block text-gray-700 mb-1",children:d("city")}),(0,r.jsx)("input",{type:"text",id:"city",name:"city",value:o.city,onChange:x,className:"w-full px-4 py-2 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-green-700",placeholder:d("cityPlaceholder")}),p.city&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:p.city})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"address_line",className:"block text-gray-700 mb-1",children:d("addressLine")}),(0,r.jsx)("input",{type:"text",id:"address_line",name:"address_line",value:o.address_line,onChange:x,className:"w-full px-4 py-2 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-green-700",placeholder:d("addressLinePlaceholder")}),p.address_line&&(0,r.jsx)("p",{className:"text-red-500 text-sm",children:p.address_line})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,r.jsx)(n.P.button,{type:"button",onClick:e,className:"px-4 py-2 text-gray-600 hover:text-gray-800 rounded-md",whileHover:{scale:1.05},whileTap:{scale:.95},children:d("cancel")}),(0,r.jsx)(n.P.button,{type:"submit",className:"px-4 py-2 bg-green-700 text-white rounded-md hover:bg-green-800",whileHover:{scale:1.05},whileTap:{scale:.95},children:"add"===l?d("save"):d("update")})]})]})]})}function p({count:e=2}){return(0,r.jsx)("div",{className:"space-y-4",children:Array.from({length:e}).map((e,t)=>(0,r.jsx)("div",{className:"bg-green-100 rounded-lg p-4 shadow-sm animate-pulse",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-5 h-5 rounded-full bg-gray-300"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"h-5 w-32 bg-gray-300 rounded"}),(0,r.jsx)("div",{className:"h-4 w-48 bg-gray-300 rounded"}),(0,r.jsx)("div",{className:"h-4 w-48 bg-gray-300 rounded"})]})]}),(0,r.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,r.jsx)("div",{className:"h-8 w-16 bg-gray-300 rounded-md"}),(0,r.jsx)("div",{className:"h-8 w-16 bg-gray-300 rounded-md"})]})]})},t))})}function m({isOpen:e,onConfirm:t,onCancel:s,title:a,message:l,confirmText:o,cancelText:c}){let u=(0,i.c3)("addresses");return(0,r.jsx)(d.N,{children:e&&(0,r.jsx)(n.P.div,{className:"fixed inset-0  bg-opacity-50 flex items-center justify-center z-50",style:{backdropFilter:"blur(0.8px)"},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:(0,r.jsxs)(n.P.div,{className:"bg-[var(--primary-bg)] rounded-lg p-6 max-w-md w-full mx-4 shadow-[var(--shadow-md)]",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{duration:.2},children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-[var(--text-primary)] mb-4",children:a||u("confirmDeleteTitle")}),(0,r.jsx)("p",{className:"text-[var(--text-gray)] mb-6",children:l||u("confirmDeleteMessage")}),(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,r.jsx)(n.P.button,{onClick:s,className:"px-4 py-2 border border-[var(--secondary-bg)] text-[var(--text-primary)] rounded-lg hover:bg-[var(--secondary-bg)] transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:c||u("confirmDeleteCancel")}),(0,r.jsx)(n.P.button,{onClick:t,className:"px-4 py-2 bg-[var(--accent-color)] text-[var(--text-white)] rounded-lg hover:bg-[var(--footer-accent)] transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:o||u("confirmDeleteConfirm")})]})]})})})}var x=s(382),y=s(69977);function f(){let e=(0,i.c3)("addresses"),t=(0,l.usePathname)();(0,l.useRouter)();let s="en"===t.split("/")[1]?"en":"ar",[f,g]=(0,a.useState)([]),[v,b]=(0,a.useState)(!1),[j,w]=(0,a.useState)(null),[N,P]=(0,a.useState)("add"),[_,k]=(0,a.useState)(!1),[C,M]=(0,a.useState)(""),[A,E]=(0,a.useState)(!0),[S,R]=(0,a.useState)(!1),[q,D]=(0,a.useState)(null),H=async t=>{try{await (0,y.y_)(t),g(f.map(e=>({...e,is_default:e.id===t}))),M(e("defaultSet")),k(!0)}catch(t){console.error("Error setting default address:",t),M(e("defaultSetError")),k(!0)}},T=e=>{w(e),P("edit"),b(!0)},z=async t=>{try{await (0,y.ab)(t),g(f.filter(e=>e.id!==t)),M(e("addressDeleted")),k(!0)}catch(t){M(t instanceof Error?t.message:e("deleteError")),k(!0)}},U=e=>{D(e),R(!0)},L=async()=>{null!==q&&(await z(q),R(!1),D(null))},$=async(t,s)=>{try{if("add"===s){let s=await (0,y.E1)(t);g([...f,s]),M(e("addressAdded"))}else if(j){let s=await (0,y.yU)(j.id,t);g(f.map(e=>e.id===j.id?s:e)),M(e("addressUpdated"))}b(!1),w(null),P("add"),k(!0)}catch(t){M(t instanceof Error?t.message:e("saveError")),k(!0)}};return A?(0,r.jsx)("div",{className:"min-h-screen bg-[var(--primary-bg)] flex flex-col",children:(0,r.jsxs)("div",{className:"max-w-3xl mx-auto w-full px-4 md:px-8 py-[7vh]",children:[(0,r.jsx)("div",{className:"h-8 w-48 bg-gray-300 rounded animate-pulse mb-6"}),(0,r.jsx)(p,{})]})}):(0,r.jsxs)("div",{className:"min-h-screen bg-[var(--primary-bg)] flex flex-col",dir:"ar"===s?"rtl":"ltr",children:[(0,r.jsx)("div",{className:"max-w-3xl mx-auto w-full px-4 md:px-8 py-[7vh]",children:(0,r.jsxs)(n.P.div,{className:"w-full max-w-3xl",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:[.4,0,.2,1]},children:[(0,r.jsx)(n.P.h1,{className:"text-2xl font-semibold text-green-700 mb-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4,ease:[.4,0,.2,1]},children:e("title")}),0===f.length?(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:e("noAddresses")}):(0,r.jsx)("div",{className:"space-y-4 mb-6",children:(0,r.jsx)(d.N,{children:f.map((t,s)=>(0,r.jsx)(n.P.div,{className:"bg-green-100 rounded-lg p-4 shadow-sm",initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.98},transition:{duration:.4,ease:[.4,0,.2,1],delay:.05*s},layout:!0,children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(n.P.button,{className:"w-6 h-6 flex items-center justify-center",onClick:()=>H(t.id),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},transition:{duration:.2,ease:[.4,0,.2,1]},children:t.is_default?(0,r.jsx)(n.P.div,{initial:{scale:0},animate:{scale:1},className:"w-5 h-5 rounded-full border-2 border-green-700 flex items-center justify-center",children:(0,r.jsx)(n.P.div,{className:"w-2.5 h-2.5 bg-green-700 rounded-full",initial:{scale:0},animate:{scale:1},transition:{delay:.1,ease:[.4,0,.2,1]}})}):(0,r.jsx)("div",{className:"w-5 h-5 rounded-full border-2 border-gray-300"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium text-green-700",children:t.title}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[t.city,", ",t.country_name||t.country_id]}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:t.address_line})]})]}),(0,r.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,r.jsxs)(n.P.button,{className:"text-green-700 hover:text-green-800 hover:bg-green-200 px-3 py-1 rounded-md flex flex-row items-center whitespace-nowrap",onClick:()=>T(t),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},transition:{duration:.2,ease:[.4,0,.2,1]},children:[(0,r.jsx)("span",{className:"inline-flex",children:e("edit")}),(0,r.jsx)(o.A,{size:16,className:"ms-1"})]}),(0,r.jsxs)(n.P.button,{className:"text-red-700 hover:text-red-800 hover:bg-red-200 px-3 py-1 rounded-md flex flex-row items-center whitespace-nowrap",onClick:()=>U(t.id),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},transition:{duration:.2,ease:[.4,0,.2,1]},children:[(0,r.jsx)("span",{className:"inline-flex",children:e("delete")}),(0,r.jsx)(c.A,{size:16,className:"ms-1"})]})]})]})},t.id))})}),(0,r.jsxs)(n.P.button,{className:"flex flex-row items-center gap-2 text-green-700 hover:text-green-800 hover:bg-green-200 px-3 py-1 rounded-md whitespace-nowrap mb-6",onClick:()=>{w(null),P("add"),b(!0)},whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},transition:{duration:.2,ease:[.4,0,.2,1]},children:[(0,r.jsx)("span",{className:"inline-flex",children:e("addAddress")}),(0,r.jsx)(u.A,{size:18,className:"ms-1"})]}),v&&(0,r.jsx)("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:(0,r.jsx)(h,{onClose:()=>b(!1),onSave:$,initialAddress:j,mode:N,setMode:P})})]})}),(0,r.jsx)(x.A,{message:C,isVisible:_,onClose:()=>k(!1)}),(0,r.jsx)(m,{isOpen:S,onConfirm:L,onCancel:()=>{R(!1),D(null)}})]})}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},15870:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>o});var r=s(65239),a=s(48088),i=s(88170),l=s.n(i),n=s(30893),d={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let o={children:["",{children:["[locale]",{children:["address",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,80138)),"C:\\Users\\Moham\\Desktop\\shatleh\\client\\src\\app\\[locale]\\address\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,11434)),"C:\\Users\\Moham\\Desktop\\shatleh\\client\\src\\app\\[locale]\\layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["C:\\Users\\Moham\\Desktop\\shatleh\\client\\src\\app\\[locale]\\address\\page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/[locale]/address/page",pathname:"/[locale]/address",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},35729:(e,t,s)=>{Promise.resolve().then(s.bind(s,80138))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63143:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},80138:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Moham\\\\Desktop\\\\shatleh\\\\client\\\\src\\\\app\\\\[locale]\\\\address\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Moham\\Desktop\\shatleh\\client\\src\\app\\[locale]\\address\\page.tsx","default")},88233:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},88920:(e,t,s)=>{"use strict";s.d(t,{N:()=>f});var r=s(60687),a=s(43210),i=s(12157),l=s(72789),n=s(15124),d=s(21279),o=s(32582);class c extends a.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,s=e instanceof HTMLElement&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=s-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function u({children:e,isPresent:t,anchorX:s}){let i=(0,a.useId)(),l=(0,a.useRef)(null),n=(0,a.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=(0,a.useContext)(o.Q);return(0,a.useInsertionEffect)(()=>{let{width:e,height:r,top:a,left:o,right:c}=n.current;if(t||!l.current||!e||!r)return;let u="left"===s?`left: ${o}`:`right: ${c}`;l.current.dataset.motionPopId=i;let h=document.createElement("style");return d&&(h.nonce=d),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${r}px !important;
            ${u}px !important;
            top: ${a}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[t]),(0,r.jsx)(c,{isPresent:t,childRef:l,sizeRef:n,children:a.cloneElement(e,{ref:l})})}let h=({children:e,initial:t,isPresent:s,onExitComplete:i,custom:n,presenceAffectsLayout:o,mode:c,anchorX:h})=>{let m=(0,l.M)(p),x=(0,a.useId)(),y=(0,a.useCallback)(e=>{for(let t of(m.set(e,!0),m.values()))if(!t)return;i&&i()},[m,i]),f=(0,a.useMemo)(()=>({id:x,initial:t,isPresent:s,custom:n,onExitComplete:y,register:e=>(m.set(e,!1),()=>m.delete(e))}),o?[Math.random(),y]:[s,y]);return(0,a.useMemo)(()=>{m.forEach((e,t)=>m.set(t,!1))},[s]),a.useEffect(()=>{s||m.size||!i||i()},[s]),"popLayout"===c&&(e=(0,r.jsx)(u,{isPresent:s,anchorX:h,children:e})),(0,r.jsx)(d.t.Provider,{value:f,children:e})};function p(){return new Map}var m=s(86044);let x=e=>e.key||"";function y(e){let t=[];return a.Children.forEach(e,e=>{(0,a.isValidElement)(e)&&t.push(e)}),t}let f=({children:e,custom:t,initial:s=!0,onExitComplete:d,presenceAffectsLayout:o=!0,mode:c="sync",propagate:u=!1,anchorX:p="left"})=>{let[f,g]=(0,m.xQ)(u),v=(0,a.useMemo)(()=>y(e),[e]),b=u&&!f?[]:v.map(x),j=(0,a.useRef)(!0),w=(0,a.useRef)(v),N=(0,l.M)(()=>new Map),[P,_]=(0,a.useState)(v),[k,C]=(0,a.useState)(v);(0,n.E)(()=>{j.current=!1,w.current=v;for(let e=0;e<k.length;e++){let t=x(k[e]);b.includes(t)?N.delete(t):!0!==N.get(t)&&N.set(t,!1)}},[k,b.length,b.join("-")]);let M=[];if(v!==P){let e=[...v];for(let t=0;t<k.length;t++){let s=k[t],r=x(s);b.includes(r)||(e.splice(t,0,s),M.push(s))}return"wait"===c&&M.length&&(e=M),C(y(e)),_(v),null}let{forceRender:A}=(0,a.useContext)(i.L);return(0,r.jsx)(r.Fragment,{children:k.map(e=>{let a=x(e),i=(!u||!!f)&&(v===k||b.includes(a));return(0,r.jsx)(h,{isPresent:i,initial:(!j.current||!!s)&&void 0,custom:t,presenceAffectsLayout:o,mode:c,onExitComplete:i?void 0:()=>{if(!N.has(a))return;N.set(a,!0);let e=!0;N.forEach(t=>{t||(e=!1)}),e&&(A?.(),C(w.current),u&&g?.(),d&&d())},anchorX:p,children:e},a)})})}},96474:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[825,485,640,932],()=>s(15870));module.exports=r})();