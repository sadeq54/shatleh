(()=>{var e={};e.id=280,e.ids=[280],e.modules={547:(e,s,r)=>{Promise.resolve().then(r.bind(r,98110))},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5748:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(62688).A)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14952:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(62688).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},39192:(e,s,r)=>{"use strict";r.d(s,{A:()=>m});var t=r(60687),a=r(85814),l=r.n(a),o=r(47033),c=r(14952),n=r(77618),i=r(16189),d=r(43210);let m=(0,d.memo)(function({pageName:e,product:s}){let r=(0,n.c3)(""),a=(0,i.usePathname)(),m=a.split("/")[1]||"ar",x=r(`pages.${e.toLocaleLowerCase()}`);return"ar"===m?(0,t.jsxs)("div",{className:"flex items-center text-sm mb-2",children:[(0,t.jsx)(l(),{href:"/",className:"text-[#025162]",children:r("home.title")}),(0,t.jsx)(o.A,{className:"h-4 w-4 mx-1 text-[#80ce97]"}),(0,t.jsx)(l(),{href:`/${m}/${e}`,className:"text-[#025162]",children:(0,t.jsx)("span",{className:"text-[#025162]",children:x})}),s&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.A,{className:"h-4 w-4 mx-1 text-[#80ce97]"}),(0,t.jsx)("span",{className:"text-[#025162]",children:s})]})]}):(0,t.jsxs)("div",{className:"flex items-center text-sm mb-2",children:[(0,t.jsx)(l(),{href:"/",className:"text-[#025162]",children:r("home.title")}),a.split("/").map((e,s)=>1!==s&&0!==s&&isNaN(parseInt(e))?(0,t.jsxs)(d.Fragment,{children:[(0,t.jsx)(c.A,{className:"h-4 w-4 mx-1 text-[#80ce97]"}),(0,t.jsx)(l(),{href:`/${e}`,className:"text-[#025162]",children:(0,t.jsx)("span",{className:"text-[#025162]",children:e})})]},e):null),s&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.A,{className:"h-4 w-4 mx-1 text-[#80ce97]"}),(0,t.jsx)("span",{className:"text-[#025162]",children:s})]})]})})},42703:(e,s,r)=>{"use strict";r.d(s,{_:()=>a});var t=r(43210);function a(e){let[s,r]=(0,t.useState)(!1);return s}},43172:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>o.a,__next_app__:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>i});var t=r(65239),a=r(48088),l=r(88170),o=r.n(l),c=r(30893),n={};for(let e in c)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>c[e]);r.d(s,n);let i={children:["",{children:["[locale]",{children:["cart",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,98110)),"C:\\Users\\Moham\\Desktop\\shatleh\\client\\src\\app\\[locale]\\cart\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,11434)),"C:\\Users\\Moham\\Desktop\\shatleh\\client\\src\\app\\[locale]\\layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["C:\\Users\\Moham\\Desktop\\shatleh\\client\\src\\app\\[locale]\\cart\\page.tsx"],m={require:r,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/[locale]/cart/page",pathname:"/[locale]/cart",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},47033:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(62688).A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66203:(e,s,r)=>{Promise.resolve().then(r.bind(r,69919))},69919:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>N});var t=r(60687),a=r(43210),l=r(77618),o=r(16189),c=r(42703),n=r(24785);function i(e,s){let r="string"==typeof e?parseFloat(e):e;if(isNaN(r))return"ar"===s?"غير متوفر":"Not available";let t=new Intl.NumberFormat("ar"===s?"ar-JO":"en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return`${t.format(r)} ${"ar"===s?"د.أ":"JD"}`}let d=(0,a.memo)(function(){let e=(0,l.c3)("Cart"),s=(0,o.useRouter)(),r="en"===(0,o.usePathname)().split("/")[1]?"en":"ar",{items:d}=(0,n.useCartStore)(),[m,x]=(0,a.useState)(!1),{subtotal:u,shipping:h,tax:p,total:v}=((0,c._)(".footer"),(0,a.useMemo)(()=>{let e=d.reduce((e,s)=>e+(parseFloat(s.price)||0)*s.quantity,0);return{subtotal:e,shipping:2,tax:0,total:e+2+0}},[d])),y=(0,a.useCallback)(()=>{if(0===d.length){alert(e("empty"));return}x(!0),s.push(`/${r}/checkout`),x(!1)},[d.length,r,s,e]);return(0,t.jsxs)("div",{className:"sticky-container p-6 w-full max-w-md sm:max-w-lg lg:max-w-lg min-h-[450px] sm:mx-auto lg:mx-0 flex flex-col z-10 lg:sticky lg:top-24",role:"region","aria-label":e("summary"),children:[(0,t.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold mb-10",style:{color:"var(--text-primary)"},children:e("summary")}),(0,t.jsxs)("div",{className:"space-y-6 mb-10 flex-grow",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm sm:text-base",children:[(0,t.jsx)("span",{style:{color:"var(--text-gray)"},children:e("subtotal")}),(0,t.jsx)("span",{className:"font-medium",children:i(u,r)})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm sm:text-base",children:[(0,t.jsx)("span",{style:{color:"var(--text-gray)"},dir:"ar"===r?"rtl":"ltr",children:e("shipping")}),(0,t.jsx)("span",{className:"font-medium",children:i(h,r)})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm sm:text-base",children:[(0,t.jsx)("span",{style:{color:"var(--text-gray)"},children:e("tax")}),(0,t.jsx)("span",{className:"font-medium",children:i(p,r)})]})]}),(0,t.jsx)("div",{className:"border-t pt-8 mb-10",style:{borderColor:"var(--accent-color)"},children:(0,t.jsxs)("div",{className:"flex justify-between items-center text-base sm:text-xl",children:[(0,t.jsx)("span",{className:"font-semibold",children:e("total")}),(0,t.jsx)("span",{className:"font-bold",children:i(v,r)})]})}),(0,t.jsx)("button",{onClick:y,disabled:m||0===d.length,className:"w-full py-4 text-white text-sm sm:text-base font-medium rounded-md transition-colors disabled:opacity-70 mt-auto hover:bg-[var(--text-hover)] hover:cursor-pointer",style:{backgroundColor:m||0===d.length?"var(--text-gray)":"var(--accent-color)"},"aria-label":m?e("processing"):e("checkout"),children:m?e("processing"):e("checkout")})]})});var m=r(30474),x=r(5748),u=r(96474),h=r(88233),p=r(85814),v=r.n(p),y=r(32319);let b=(0,a.memo)(function({item:e,currentLocale:s}){let r=(0,l.c3)("Cart"),[o,c]=(0,a.useState)(null),[d,p]=(0,a.useState)(!1),{updateQuantity:b,removeItem:g}=(0,n.useCartStore)(),{userId:f}=(0,y.A)(),[j,N]=(0,a.useState)(e.quantity);(0,a.useEffect)(()=>{let s=n.useCartStore.subscribe(s=>s.items.find(s=>s.product_id===e.product_id)?.quantity,e=>{void 0!==e&&N(e)});return()=>s()},[e.product_id]);let w=null,k=(0,a.useCallback)(async t=>{if(t.preventDefault(),t.stopPropagation(),j<=1)return;let a=j-1;p(!0),c(null),w&&clearTimeout(w),w=setTimeout(async()=>{try{await b(e.product_id,a,f,s)}catch(e){c(r("updateQuantityError")),console.error("Error updating quantity:",e)}finally{p(!1)}},300)},[j,e.product_id,f,s,b,r]),C=(0,a.useCallback)(async t=>{t.preventDefault(),t.stopPropagation();let a=j+1;p(!0),c(null),w&&clearTimeout(w),w=setTimeout(async()=>{try{await b(e.product_id,a,f,s)}catch(e){c(r("updateQuantityError")),console.error("Error updating quantity:",e)}finally{p(!1)}},300)},[j,e.product_id,f,s,b,r]),_=(0,a.useCallback)(async t=>{t.preventDefault(),t.stopPropagation(),p(!0),c(null);try{await g(e.product_id,f,s)}catch(e){c(r("removeItemError")),console.error("Error removing item:",e)}finally{p(!1)}},[e.product_id,f,s,g,r]);return(0,t.jsxs)("div",{className:"rounded-lg overflow-hidden border shadow-sm w-full my-2 sm:my-3",style:{borderColor:"var(--secondary-bg)",backgroundColor:"var(--accent-color)"},children:[o&&(0,t.jsx)("div",{className:"text-red-500 text-xs sm:text-sm p-2 text-center",role:"alert",children:o}),(0,t.jsxs)("div",{className:"flex  sm:flex-row items-start sm:items-center p-3 sm:p-4",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center sm:items-start mx-1 sm:mx-3 mb-3 sm:mb-0",children:[(0,t.jsx)("div",{className:"w-20 h-20 sm:w-24 sm:h-24 relative",children:(0,t.jsx)(v(),{href:`/${s}/products/${e.product_id}`,passHref:!0,children:(0,t.jsx)(m.default,{src:"http://127.0.0.1:8000"+e.image[0],alt:e.name_en||e.name_ar||"",fill:!0,className:"object-cover rounded",loading:"lazy"})})}),(0,t.jsxs)("p",{className:"font-semibold text-xs sm:hidden mt-2 text-center",style:{color:"var(--text-white)"},children:[r("price"),": ",i(e.price,s)]})]}),(0,t.jsx)("div",{className:"flex-1 w-[40%]",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[(0,t.jsxs)("div",{className:"mb-3 sm:mb-0 max-w-[40%] sm:max-w-[60%]",children:[(0,t.jsx)("h3",{className:"font-medium text-sm sm:text-base",style:{color:"var(--text-white)"},children:"en"===s?e.name_en:e.name_ar}),(e.description_en||e.description_ar)&&(0,t.jsx)("p",{className:"text-xs sm:text-sm text-[#dbdada] line-clamp-2 overflow-hidden",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflowWrap:"break-word",direction:"ar"===s?"rtl":"ltr"},children:"en"===s?e.description_en:e.description_ar})]}),(0,t.jsxs)("div",{className:"flex items-center sm:items-start space-x-2 sm:space-x-4 w-full sm:w-auto",children:[(0,t.jsx)("div",{className:"flex flex-col items-center",children:(0,t.jsxs)("div",{className:"flex items-center border rounded",style:{borderColor:"var(--secondary-bg)"},children:[(0,t.jsx)("button",{onClick:k,className:"w-7 h-7 flex items-center justify-center hover:cousor-pointer",style:{color:"var(--text-white)"},disabled:d||j<=1,"aria-label":r("decrement"),children:(0,t.jsx)(x.A,{className:"h-4 w-4"})}),(0,t.jsx)("span",{className:"w-7 text-center text-sm",style:{color:"var(--text-white)"},"aria-live":"polite",children:j}),(0,t.jsx)("button",{onClick:C,className:"w-7 h-7 flex items-center justify-center hover:cousor-pointer",style:{color:"var(--text-white)"},disabled:d,"aria-label":r("increment"),children:(0,t.jsx)(u.A,{className:"h-4 w-4"})})]})}),(0,t.jsxs)("div",{className:"flex flex-col items-end",children:[(0,t.jsxs)("p",{className:"font-semibold    text-sm hidden sm:block",style:{color:"var(--text-white)"},children:[r("price"),": ",i(e.price,s)]}),(0,t.jsx)("button",{onClick:_,className:"mt-2 hover:text-[var(--text-hover)] hover:cursor-pointer",style:{color:"#ef4444"},disabled:d,"aria-label":r("remove"),children:(0,t.jsx)(h.A,{className:"w-6 h-6"})})]})]})]})})]})]})}),g=(0,a.memo)(function(){let e=(0,l.c3)("Cart"),s="en"===(0,o.usePathname)().split("/")[1]?"en":"ar",{items:r}=(0,n.useCartStore)();return 0===r.length?(0,t.jsxs)("div",{className:"text-center py-8 sm:py-10",children:[(0,t.jsx)("p",{className:"text-base sm:text-lg",style:{color:"var(--text-primary)"},children:e("empty")}),(0,t.jsx)(v(),{href:`/${s}/products`,className:"mt-4 inline-block px-4 py-2 text-white text-sm sm:text-base rounded-md",style:{backgroundColor:"var(--accent-color)"},children:e("continueShopping")})]}):(0,t.jsx)("div",{className:"space-y-3 sm:space-y-4 w-full",children:r.map(e=>(0,t.jsx)(b,{item:e,currentLocale:s},e.id))})}),f=(0,a.memo)(function(){return(0,t.jsx)("div",{className:"min-h-screen",style:{backgroundColor:"var(--primary-bg)"},children:(0,t.jsxs)("main",{className:"container mx-auto max-w-5/6 px-4 sm:px-6 lg:px-8 py-6 animate-pulse",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"h-4 w-24 rounded",style:{backgroundColor:"var(--secondary-bg)"}}),(0,t.jsx)("div",{className:"h-4 w-4 rounded",style:{backgroundColor:"var(--secondary-bg)"}}),(0,t.jsx)("div",{className:"h-4 w-16 rounded",style:{backgroundColor:"var(--secondary-bg)"}})]}),(0,t.jsx)("div",{className:"h-8 w-48 mt-4 rounded",style:{backgroundColor:"var(--secondary-bg)"}})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-4 sm:gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-3 space-y-3 sm:space-y-4",children:Array.from({length:3}).map((e,s)=>(0,t.jsx)("div",{className:"rounded-lg overflow-hidden border shadow-sm w-full my-2 sm:my-3",style:{borderColor:"var(--secondary-bg)",backgroundColor:"var(--accent-color)"},children:(0,t.jsxs)("div",{className:"flex sm:flex-row items-start sm:items-center p-3 sm:p-4",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center sm:items-start mx-1 sm:mx-3 mb-3 sm:mb-0",children:[(0,t.jsx)("div",{className:"w-20 h-20 sm:w-24 sm:h-24 rounded",style:{backgroundColor:"var(--secondary-bg)"}}),(0,t.jsx)("div",{className:"h-4 w-16 sm:hidden mt-2 rounded",style:{backgroundColor:"var(--secondary-bg)"}})]}),(0,t.jsx)("div",{className:"flex-1 w-[40%]",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[(0,t.jsxs)("div",{className:"mb-3 sm:mb-0 max-w-[40%] sm:max-w-[60%]",children:[(0,t.jsx)("div",{className:"h-5 w-32 sm:w-48 rounded",style:{backgroundColor:"var(--secondary-bg)"}}),(0,t.jsx)("div",{className:"h-4 w-24 sm:w-36 mt-2 rounded",style:{backgroundColor:"var(--secondary-bg)"}}),(0,t.jsx)("div",{className:"h-4 w-20 sm:w-32 mt-1 rounded",style:{backgroundColor:"var(--secondary-bg)"}})]}),(0,t.jsxs)("div",{className:"flex items-center sm:items-start space-x-2 sm:space-x-4 w-full sm:w-auto",children:[(0,t.jsx)("div",{className:"flex flex-col items-center",children:(0,t.jsxs)("div",{className:"flex items-center border rounded",style:{borderColor:"var(--secondary-bg)"},children:[(0,t.jsx)("div",{className:"w-7 h-7 rounded",style:{backgroundColor:"var(--secondary-bg)"}}),(0,t.jsx)("div",{className:"w-7 h-4 mx-1 rounded",style:{backgroundColor:"var(--secondary-bg)"}}),(0,t.jsx)("div",{className:"w-7 h-7 rounded",style:{backgroundColor:"var(--secondary-bg)"}})]})}),(0,t.jsxs)("div",{className:"flex flex-col items-end",children:[(0,t.jsx)("div",{className:"h-4 w-16 hidden sm:block rounded",style:{backgroundColor:"var(--secondary-bg)"}}),(0,t.jsx)("div",{className:"h-6 w-6 mt-2 rounded",style:{backgroundColor:"var(--secondary-bg)"}})]})]})]})})]})},s))}),(0,t.jsx)("div",{className:"lg:col-span-2 py-6 lg:py-0",children:(0,t.jsxs)("div",{className:"p-6 w-full max-w-md sm:max-w-lg lg:max-w-lg min-h-[450px] flex flex-col",style:{backgroundColor:"var(--accent-color)"},children:[(0,t.jsx)("div",{className:"h-6 w-32 mb-10 rounded",style:{backgroundColor:"var(--secondary-bg)"}}),(0,t.jsxs)("div",{className:"space-y-6 mb-10 flex-grow",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("div",{className:"h-4 w-20 rounded",style:{backgroundColor:"var(--secondary-bg)"}}),(0,t.jsx)("div",{className:"h-4 w-16 rounded",style:{backgroundColor:"var(--secondary-bg)"}})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("div",{className:"h-4 w-20 rounded",style:{backgroundColor:"var(--secondary-bg)"}}),(0,t.jsx)("div",{className:"h-4 w-16 rounded",style:{backgroundColor:"var(--secondary-bg)"}})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("div",{className:"h-4 w-20 rounded",style:{backgroundColor:"var(--secondary-bg)"}}),(0,t.jsx)("div",{className:"h-4 w-16 rounded",style:{backgroundColor:"var(--secondary-bg)"}})]})]}),(0,t.jsx)("div",{className:"border-t pt-8 mb-10",style:{borderColor:"var(--accent-color)"},children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("div",{className:"h-5 w-20 rounded",style:{backgroundColor:"var(--secondary-bg)"}}),(0,t.jsx)("div",{className:"h-5 w-24 rounded",style:{backgroundColor:"var(--secondary-bg)"}})]})}),(0,t.jsx)("div",{className:"h-12 w-full rounded-md mt-auto",style:{backgroundColor:"var(--secondary-bg)"}})]})})]})]})})});var j=r(39192);function N(){let e=(0,l.c3)("Cart"),s="en"===(0,o.usePathname)().split("/")[1]?"en":"ar",{userId:r}=(0,y.A)(),c=(0,n.useCartStore)(e=>e.syncWithBackend),[i,m]=(0,a.useState)(!0);return((0,a.useCallback)(async()=>{if(r)try{await c(r,s)}finally{m(!1)}else m(!1)},[r,s,c]),i)?(0,t.jsx)(f,{}):(0,t.jsx)("div",{className:"min-h-screen",style:{backgroundColor:"var(--primary-bg)"},children:(0,t.jsxs)("main",{className:"container mx-auto max-w-5/6 px-4 sm:px-6 lg:px-8 py-6",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)(j.A,{pageName:"cart"}),(0,t.jsx)("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold mt-4",style:{color:"var(--text-primary)"},children:e("title")})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-4 sm:gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-3",children:(0,t.jsx)(g,{})}),(0,t.jsx)("div",{className:"lg:col-span-2 py-6 lg:py-0",children:(0,t.jsx)(d,{})})]})]})})}},88233:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(62688).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},96474:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(62688).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},98110:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Moham\\\\Desktop\\\\shatleh\\\\client\\\\src\\\\app\\\\[locale]\\\\cart\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Moham\\Desktop\\shatleh\\client\\src\\app\\[locale]\\cart\\page.tsx","default")}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[825,485,932],()=>r(43172));module.exports=t})();