(()=>{var e={};e.id=721,e.ids=[721],e.modules={382:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var a=r(60687);r(43210);var s=r(29640),i=r(16189);function l({message:e,isVisible:t,onClose:r}){let l="en"===(0,i.usePathname)().split("/")[1]?"en":"ar";return t?(0,a.jsx)(s.P.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},transition:{duration:.3},className:"fixed top-[13vh] left-1/2 transform -translate-x-1/2 bg-[var(--accent-color)] text-[var(--text-white)] px-6 py-3 rounded-lg shadow-[var(--shadow-md)] max-w-md w-full text-center z-50",dir:"ar"===l?"rtl":"ltr",role:"alert","aria-live":"polite",children:e}):null}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11816:(e,t,r)=>{Promise.resolve().then(r.bind(r,64579))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},46857:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var a=r(60687),s=r(43210),i=r(77618),l=r(16189),n=r(29640),d=r(88920),o=r(85778),c=r(63143),u=r(88233),p=r(96474),m=r(382);function x(){let e=(0,i.c3)("payments"),t="en"===(0,l.usePathname)().split("/")[1]?"en":"ar",[r,x]=(0,s.useState)("pay1");console.log("Selected payment:",r);let[h,f]=(0,s.useState)(!1),[y,v]=(0,s.useState)(null),[g,b]=(0,s.useState)(""),[j,N]=(0,s.useState)("add"),[w,D]=(0,s.useState)(!1),[P,C]=(0,s.useState)(""),[k,H]=(0,s.useState)({}),[M,A]=(0,s.useState)([{id:"pay1",cardNumber:"4242 4242 4242 4242",cardHolder:"John Doe",expiryDate:"12/25",isDefault:!0},{id:"pay2",cardNumber:"5555 5555 5555 4444",cardHolder:"John Doe",expiryDate:"06/24"}]),$=(0,s.useRef)(null),E=(0,s.useRef)(null),R=(0,s.useRef)(null),_=(0,s.useRef)(null),S=e=>e.replace(/\D/g,"").slice(0,16).replace(/(\d{4})(?=\d)/g,"$1 ").trim(),z=e=>{let t=e.replace(/\D/g,"").slice(0,4);return t.length<=2?t:`${t.slice(0,2)}/${t.slice(2,4)}`},q=e=>{let{name:t,value:r}=e.target,a=r;if("cardNumber"===t)a=S(r);else if("expiryDate"===t)a=z(r);else if("cvv"===t){b(a=r.replace(/\D/g,"").slice(0,4)),H(e=>({...e,cvv:void 0}));return}v(e=>({...e||{id:"",cardNumber:"",cardHolder:"",expiryDate:"",isDefault:!1},[t]:a})),H(e=>({...e,[t]:void 0}))},L=(t,r)=>{let a={};if(/^\d{4} \d{4} \d{4} \d{4}$/.test(t.cardNumber)||(a.cardNumber=e("errors.invalidCardNumber")),t.cardHolder.trim()||(a.cardHolder=e("errors.cardHolderRequired")),/^(0[1-9]|1[0-2])\/([2-9][0-9])$/.test(t.expiryDate)){let[r,s]=t.expiryDate.split("/").map(Number),i=2e3+s,l=new Date,n=l.getFullYear(),d=l.getMonth()+1;(i<n||i===n&&r<d)&&(a.expiryDate=e("errors.expiredCard"))}else a.expiryDate=e("errors.invalidExpiryDate");return/^\d{3,4}$/.test(r)||(a.cvv=e("errors.invalidCvv")),a},T=t=>{x(t),A(M.map(e=>({...e,isDefault:e.id===t}))),C(e("defaultSet")),D(!0)},U=e=>{v(e),b(""),N("edit"),f(!0),H({})},I=t=>{if(M.length<=1){C(e("cannotDeleteLast")),D(!0);return}let r=M.filter(e=>e.id!==t);M.find(e=>e.id===t)?.isDefault&&(r[0].isDefault=!0,x(r[0].id)),A(r),C(e("paymentDeleted")),D(!0)},G=e=>{if(!e)return"•••• •••• •••• ••••";let t=e.replace(/\D/g,"");return t.length<=4?t:`•••• •••• •••• ${t.slice(-4)}`};return(0,a.jsxs)("div",{className:"min-h-screen bg-[var(--primary-bg)] flex flex-col",children:[(0,a.jsx)("div",{className:"max-w-3xl mx-auto w-full px-4 md:px-8 py-[7vh]",children:(0,a.jsxs)(n.P.div,{className:"w-full max-w-3xl",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:[.4,0,.2,1]},children:[(0,a.jsx)(n.P.h1,{className:"text-2xl font-semibold text-green-700 mb-6",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4,ease:[.4,0,.2,1]},children:e("paymentMethods")}),(0,a.jsx)("div",{className:"space-y-4 mb-6",children:(0,a.jsx)(d.N,{children:M.map((r,s)=>(0,a.jsx)(n.P.div,{className:"bg-green-100 rounded-lg p-4 shadow-sm",initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.98},transition:{duration:.4,ease:[.4,0,.2,1],delay:.05*s},layout:!0,children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(n.P.button,{className:"w-6 h-6 flex items-center justify-center",onClick:()=>T(r.id),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},transition:{duration:.2,ease:[.4,0,.2,1]},children:r.isDefault?(0,a.jsx)(n.P.div,{initial:{scale:0},animate:{scale:1},className:"w-5 h-5 rounded-full border-2 border-green-700 flex items-center justify-center",children:(0,a.jsx)(n.P.div,{className:"w-2.5 h-2.5 bg-green-700 rounded-full",initial:{scale:0},animate:{scale:1},transition:{delay:.1,ease:[.4,0,.2,1]}})}):(0,a.jsx)("div",{className:"w-5 h-5 rounded-full border-2 border-gray-300"})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.A,{className:"text-green-700",size:20}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-green-700",children:G(r.cardNumber)}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[r.cardHolder," • ",e("expiryDate")," ",r.expiryDate,r.isDefault&&(0,a.jsx)("span",{className:"ml-2 text-xs bg-green-200 text-green-800 px-2 py-0.5 rounded-full",children:e("default")})]})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,a.jsxs)(n.P.button,{className:"text-green-700 hover:text-green-800 hover:bg-green-200 px-3 py-1 rounded-md flex flex-row items-center whitespace-nowrap",onClick:()=>U(r),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},transition:{duration:.2,ease:[.4,0,.2,1]},children:[(0,a.jsx)("span",{className:"inline-flex",children:e("edit")}),(0,a.jsx)(c.A,{size:16,className:"ar"===t?"me-1":"ms-1"})]}),(0,a.jsxs)(n.P.button,{className:"text-red-700 hover:text-red-800 hover:bg-red-200 px-3 py-1 rounded-md flex flex-row items-center whitespace-nowrap",onClick:()=>I(r.id),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},transition:{duration:.2,ease:[.4,0,.2,1]},children:[(0,a.jsx)("span",{className:"inline-flex",children:e("delete")}),(0,a.jsx)(u.A,{size:16,className:"ar"===t?"me-1":"ms-1"})]})]})]})},r.id))})}),(0,a.jsxs)(n.P.button,{className:"flex flex-row items-center gap-2 text-green-700 hover:text-green-800 hover:bg-green-200 px-3 py-1 rounded-md whitespace-nowrap mb-6",onClick:()=>{v(null),b(""),N("add"),f(!0),H({})},whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},transition:{duration:.2,ease:[.4,0,.2,1]},children:[(0,a.jsx)("span",{className:"inline-flex",children:e("addPayment")}),(0,a.jsx)(p.A,{size:18,className:"ar"===t?"me-1":"ms-1"})]}),h&&(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-green-700 mb-4",children:"add"===j?e("addPayment"):e("editPayment")}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"text",name:"cardNumber",placeholder:e("cardNumber"),value:y?.cardNumber||"",onChange:q,className:`w-full rounded-md border px-4 py-3 text-sm focus:outline-none focus:ring-2 transition-colors ${k.cardNumber?"border-red-500":"border-gray-300"}`,maxLength:19,"aria-invalid":!!k.cardNumber,"aria-describedby":k.cardNumber?"cardNumber-error":void 0,ref:$}),k.cardNumber&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",id:"cardNumber-error",children:k.cardNumber})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"text",name:"cardHolder",placeholder:e("cardHolder"),value:y?.cardHolder||"",onChange:q,className:`w-full rounded-md border px-4 py-3 text-sm focus:outline-none focus:ring-2 transition-colors ${k.cardHolder?"border-red-500":"border-gray-300"}`,"aria-invalid":!!k.cardHolder,"aria-describedby":k.cardHolder?"cardHolder-error":void 0,ref:E}),k.cardHolder&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",id:"cardHolder-error",children:k.cardHolder})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"text",name:"expiryDate",placeholder:"MM/YY",value:y?.expiryDate||"",onChange:q,className:`w-full rounded-md border px-4 py-3 text-sm focus:outline-none focus:ring-2 transition-colors ${k.expiryDate?"border-red-500":"border-gray-300"}`,maxLength:7,"aria-invalid":!!k.expiryDate,"aria-describedby":k.expiryDate?"expiryDate-error":void 0,ref:R}),k.expiryDate&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",id:"expiryDate-error",children:k.expiryDate})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"text",name:"cvv",placeholder:e("cvv"),value:g,onChange:q,className:`w-full rounded-md border px-4 py-3 text-sm focus:outline-none focus:ring-2 transition-colors ${k.cvv?"border-red-500":"border-gray-300"}`,maxLength:4,"aria-invalid":!!k.cvv,"aria-describedby":k.cvv?"cvv-error":void 0,ref:_}),k.cvv&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",id:"cvv-error",children:k.cvv})]})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,a.jsx)(n.P.button,{className:"px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-md",onClick:()=>{f(!1),H({}),b("")},whileHover:{scale:1.03},whileTap:{scale:.97},children:e("cancel")}),(0,a.jsx)(n.P.button,{className:"px-4 py-2 bg-green-700 text-white hover:bg-green-800 rounded-md",onClick:()=>{if(!y)return;let t=L(y,g);if(Object.keys(t).length>0){H(t),t.cardNumber?$.current?.focus():t.cardHolder?E.current?.focus():t.expiryDate?R.current?.focus():t.cvv&&_.current?.focus();return}"add"===j?(A([...M,{...y,id:`pay${M.length+1}`,isDefault:0===M.length}]),C(e("paymentAdded"))):(A(M.map(e=>e.id===y.id?{...y,isDefault:e.isDefault}:e)),C(e("paymentUpdated"))),f(!1),v(null),b(""),N("add"),D(!0)},whileHover:{scale:1.03},whileTap:{scale:.97},children:"add"===j?e("add"):e("save")})]})]})]})}),(0,a.jsx)(m.A,{message:P,isVisible:w,onClose:()=>D(!1)})]})}},47480:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>o});var a=r(65239),s=r(48088),i=r(88170),l=r.n(i),n=r(30893),d={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);r.d(t,d);let o={children:["",{children:["[locale]",{children:["payments",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,64579)),"C:\\Users\\Moham\\Desktop\\shatleh\\client\\src\\app\\[locale]\\payments\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,11434)),"C:\\Users\\Moham\\Desktop\\shatleh\\client\\src\\app\\[locale]\\layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["C:\\Users\\Moham\\Desktop\\shatleh\\client\\src\\app\\[locale]\\payments\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/[locale]/payments/page",pathname:"/[locale]/payments",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63143:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(62688).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},64579:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Moham\\\\Desktop\\\\shatleh\\\\client\\\\src\\\\app\\\\[locale]\\\\payments\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Moham\\Desktop\\shatleh\\client\\src\\app\\[locale]\\payments\\page.tsx","default")},85778:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(62688).A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},88233:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(62688).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},88920:(e,t,r)=>{"use strict";r.d(t,{N:()=>y});var a=r(60687),s=r(43210),i=r(12157),l=r(72789),n=r(15124),d=r(21279),o=r(32582);class c extends s.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=e instanceof HTMLElement&&e.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=r-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function u({children:e,isPresent:t,anchorX:r}){let i=(0,s.useId)(),l=(0,s.useRef)(null),n=(0,s.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=(0,s.useContext)(o.Q);return(0,s.useInsertionEffect)(()=>{let{width:e,height:a,top:s,left:o,right:c}=n.current;if(t||!l.current||!e||!a)return;let u="left"===r?`left: ${o}`:`right: ${c}`;l.current.dataset.motionPopId=i;let p=document.createElement("style");return d&&(p.nonce=d),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${a}px !important;
            ${u}px !important;
            top: ${s}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[t]),(0,a.jsx)(c,{isPresent:t,childRef:l,sizeRef:n,children:s.cloneElement(e,{ref:l})})}let p=({children:e,initial:t,isPresent:r,onExitComplete:i,custom:n,presenceAffectsLayout:o,mode:c,anchorX:p})=>{let x=(0,l.M)(m),h=(0,s.useId)(),f=(0,s.useCallback)(e=>{for(let t of(x.set(e,!0),x.values()))if(!t)return;i&&i()},[x,i]),y=(0,s.useMemo)(()=>({id:h,initial:t,isPresent:r,custom:n,onExitComplete:f,register:e=>(x.set(e,!1),()=>x.delete(e))}),o?[Math.random(),f]:[r,f]);return(0,s.useMemo)(()=>{x.forEach((e,t)=>x.set(t,!1))},[r]),s.useEffect(()=>{r||x.size||!i||i()},[r]),"popLayout"===c&&(e=(0,a.jsx)(u,{isPresent:r,anchorX:p,children:e})),(0,a.jsx)(d.t.Provider,{value:y,children:e})};function m(){return new Map}var x=r(86044);let h=e=>e.key||"";function f(e){let t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}let y=({children:e,custom:t,initial:r=!0,onExitComplete:d,presenceAffectsLayout:o=!0,mode:c="sync",propagate:u=!1,anchorX:m="left"})=>{let[y,v]=(0,x.xQ)(u),g=(0,s.useMemo)(()=>f(e),[e]),b=u&&!y?[]:g.map(h),j=(0,s.useRef)(!0),N=(0,s.useRef)(g),w=(0,l.M)(()=>new Map),[D,P]=(0,s.useState)(g),[C,k]=(0,s.useState)(g);(0,n.E)(()=>{j.current=!1,N.current=g;for(let e=0;e<C.length;e++){let t=h(C[e]);b.includes(t)?w.delete(t):!0!==w.get(t)&&w.set(t,!1)}},[C,b.length,b.join("-")]);let H=[];if(g!==D){let e=[...g];for(let t=0;t<C.length;t++){let r=C[t],a=h(r);b.includes(a)||(e.splice(t,0,r),H.push(r))}return"wait"===c&&H.length&&(e=H),k(f(e)),P(g),null}let{forceRender:M}=(0,s.useContext)(i.L);return(0,a.jsx)(a.Fragment,{children:C.map(e=>{let s=h(e),i=(!u||!!y)&&(g===C||b.includes(s));return(0,a.jsx)(p,{isPresent:i,initial:(!j.current||!!r)&&void 0,custom:t,presenceAffectsLayout:o,mode:c,onExitComplete:i?void 0:()=>{if(!w.has(s))return;w.set(s,!0);let e=!0;w.forEach(t=>{t||(e=!1)}),e&&(M?.(),k(N.current),u&&v?.(),d&&d())},anchorX:m,children:e},s)})})}},96474:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(62688).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},98664:(e,t,r)=>{Promise.resolve().then(r.bind(r,46857))}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[825,485,640,932],()=>r(47480));module.exports=a})();