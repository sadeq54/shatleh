(()=>{var e={};e.id=11,e.ids=[11],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21952:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>l.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var t=s(65239),o=s(48088),a=s(88170),l=s.n(a),n=s(30893),i={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);s.d(r,i);let d={children:["",{children:["[locale]",{children:["register",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,43753)),"C:\\Users\\Moham\\Desktop\\shatleh\\client\\src\\app\\[locale]\\register\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,11434)),"C:\\Users\\Moham\\Desktop\\shatleh\\client\\src\\app\\[locale]\\layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["C:\\Users\\Moham\\Desktop\\shatleh\\client\\src\\app\\[locale]\\register\\page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/[locale]/register/page",pathname:"/[locale]/register",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},36958:(e,r,s)=>{Promise.resolve().then(s.bind(s,88767))},43753:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Moham\\\\Desktop\\\\shatleh\\\\client\\\\src\\\\app\\\\[locale]\\\\register\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Moham\\Desktop\\shatleh\\client\\src\\app\\[locale]\\register\\page.tsx","default")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},88767:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>f});var t=s(60687),o=s(43210),a=s(77618),l=s(16189),n=s(85814),i=s.n(n),d=s(65069);s(90895);var c=s(97461),u=s.n(c),m=s(32319),p=s(69977);function f(){let e=(0,a.c3)("signup"),r=(0,l.usePathname)(),s=(0,l.useRouter)(),n=(0,l.useSearchParams)(),{login:c,isAuthenticated:f}=(0,m.A)(),h=r.split("/")[1]||"ar",x=n.get("redirect")||"/",b=(0,o.useRef)(null),[g,v]=(0,o.useState)({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),[w,y]=(0,o.useState)(""),[N,j]=(0,o.useState)(!1),C=e=>{v({...g,[e.target.id]:e.target.value})},P=async r=>{if(r.preventDefault(),y(""),j(!0),g.password!==g.confirmPassword){y(e("passwordMismatch")),j(!1);return}try{let r=b.current?(0,d.l)(`+${b.current}`):null;if(!r||!r.isValid()){console.log("Invalid phone number:",b.current),y(e("invalidPhone")),j(!1);return}let t=`+${r.countryCallingCode}${r.nationalNumber}`,o={first_name:g.firstName,last_name:g.lastName,email:g.email,password:g.password,phone_number:t,language:h,ip_country_id:"12"};console.log("Data to send:",o);let a=await (0,p.kz)(o);console.log("Response:",a);let{token:l,user:n}=a;if(!l||!n?.id)throw Error(e("signupFailed"));await c(l,n.id),s.push(`/${h}${x}`)}catch(s){console.error("Registration error:",s);let r=s instanceof Error?s:Error(e("signupFailed"));y(r.message.includes("Network Error")?e("corsError"):r.message||e("signupFailed"))}finally{j(!1)}};return(0,t.jsx)("main",{className:"flex-grow mx-auto px-4 py-10 flex justify-center max-w-7xl mb-40",children:(0,t.jsxs)("div",{className:"w-full max-w-md rounded-3xl border-2 border-[#94f198] p-8 shadow-lg relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-[var(--primary-bg)] backdrop-blur-md z-0"}),(0,t.jsxs)("div",{className:"relative z-10 mx-auto mb-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-center mb-1 text-[var(--text-primary)]",children:e("title")}),(0,t.jsx)("div",{className:"w-24 h-1 bg-[#94f198] mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-center text-gray-600 mb-8",children:e("welcome")}),w&&(0,t.jsx)("p",{className:"text-red-500 text-center mb-4",children:w}),(0,t.jsxs)("form",{onSubmit:P,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"firstName",className:"block text-gray-700 mb-2",children:e("firstName")}),(0,t.jsx)("input",{type:"text",id:"firstName",placeholder:e("firstName"),value:g.firstName,onChange:C,className:"w-full px-4 py-3 rounded-md bg-gradient-to-tl from-[#c1ebc3] to-[#94f198] border-none focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#94f198]",required:!0,autoComplete:"given-name"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"lastName",className:"block text-gray-700 mb-2",children:e("lastName")}),(0,t.jsx)("input",{type:"text",id:"lastName",placeholder:e("lastName"),value:g.lastName,onChange:C,className:"w-full px-4 py-3 rounded-md bg-gradient-to-tl from-[#c1ebc3] to-[#94f198] border-none focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#94f198]",required:!0,autoComplete:"family-name"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-gray-700 mb-2",children:e("email")}),(0,t.jsx)("input",{type:"email",id:"email",placeholder:e("email"),value:g.email,onChange:C,className:"w-full px-4 py-3 rounded-md bg-gradient-to-tl from-[#c1ebc3] to-[#94f198] border-none focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#94f198]",required:!0,autoComplete:"email"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"phone",className:"block text-gray-700 mb-2",children:e("phone")}),(0,t.jsx)("div",{dir:"ltr",className:"relative",children:(0,t.jsx)(u(),{country:"jo",value:b.current||"",containerClass:"w-full",onChange:e=>{b.current=e,console.log("Phone input:",e)},inputProps:{id:"phone",required:!0,className:"w-full pl-16 py-3 rounded-md bg-gradient-to-tl from-[#c1ebc3] to-[#94f198] border-none focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#94f198]"},buttonStyle:{border:"none",backgroundColor:"transparent",padding:"8px",cursor:"pointer",left:"0",top:"0",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},dropdownStyle:{zIndex:1e3,top:"100%",left:"0"}})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-gray-700 mb-2",children:e("password")}),(0,t.jsx)("input",{type:"password",id:"password",placeholder:e("password"),value:g.password,onChange:C,className:"w-full px-4 py-3 rounded-md bg-gradient-to-tl from-[#c1ebc3] to-[#94f198] border-none focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#94f198]",required:!0,autoComplete:"new-password"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:"block text-gray-700 mb-2",children:e("confirmPassword")}),(0,t.jsx)("input",{type:"password",id:"confirmPassword",placeholder:e("confirmPassword"),value:g.confirmPassword,onChange:C,className:"w-full px-4 py-3 rounded-md bg-gradient-to-tl from-[#c1ebc3] to-[#94f198] border-none focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#94f198]",required:!0,autoComplete:"new-password"})]}),(0,t.jsx)("button",{type:"submit",disabled:N,className:"w-full bg-[#94f198] hover:bg-[#7ad97e] text-black py-3 rounded-md font-medium uppercase transition-colors disabled:bg-gray-400",children:N?e("loading"):e("signup")}),(0,t.jsx)("div",{className:"text-center mt-6",children:(0,t.jsxs)("p",{className:"text-gray-600",children:[e("haveAccount")," ",(0,t.jsx)(i(),{href:x?`/${h}/login?redirect=${encodeURIComponent(x)}`:`/${h}/login`,className:"font-bold text-[var(--text-primary)] hover:text-[var(--text-hover)]",children:e("login")})," ",e("loginLinkText")]})})]})]})]})})}},90102:(e,r,s)=>{Promise.resolve().then(s.bind(s,43753))}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[825,485,523,69,932],()=>s(21952));module.exports=t})();