(()=>{var e={};e.id=230,e.ids=[230],e.modules={1648:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>d});var r=s(65239),a=s(48088),l=s(88170),i=s.n(l),o=s(30893),n={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);s.d(t,n);let d={children:["",{children:["[locale]",{children:["search",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,46252)),"C:\\Users\\Moham\\Desktop\\shatleh\\client\\src\\app\\[locale]\\search\\page.tsx"]}]},{error:[()=>Promise.resolve().then(s.bind(s,69047)),"C:\\Users\\Moham\\Desktop\\shatleh\\client\\src\\app\\[locale]\\search\\error.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,90025)),"C:\\Users\\Moham\\Desktop\\shatleh\\client\\src\\app\\[locale]\\search\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,11434)),"C:\\Users\\Moham\\Desktop\\shatleh\\client\\src\\app\\[locale]\\layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["C:\\Users\\Moham\\Desktop\\shatleh\\client\\src\\app\\[locale]\\search\\page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/[locale]/search/page",pathname:"/[locale]/search",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5748:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14839:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(60687),a=s(16189),l=s(77618);function i(){let e=(0,l.c3)("search"),t=(0,a.usePathname)().split("/")[1]||"en";return(0,r.jsxs)("main",{className:"min-h-screen mx-auto px-4 py-10 max-w-7xl",dir:"ar"===t?"rtl":"ltr",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-6",children:e("loading")}),(0,r.jsx)("div",{className:"relative mb-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between gap-2 px-4 py-2 bg-gray-200 rounded-md min-w-[150px] h-10",children:[(0,r.jsx)("div",{className:"w-20 h-4 bg-gray-300 rounded"}),(0,r.jsx)("div",{className:"w-4 h-4 bg-gray-300 rounded-full"})]})}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:e("products")}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:Array.from({length:4}).map((e,t)=>(0,r.jsxs)("div",{className:"bg-[#337a5b] rounded-xl p-4 flex flex-col justify-between h-[400px] w-full",children:[(0,r.jsx)("div",{className:"mb-4 flex justify-center items-center rounded-lg h-[270px] w-full",children:(0,r.jsx)("div",{className:"w-full h-full bg-gray-300 rounded-lg"})}),(0,r.jsxs)("div",{className:"flex flex-col flex-grow",children:[(0,r.jsx)("div",{className:"w-3/4 h-6 bg-gray-300 rounded mb-2 mx-auto"}),(0,r.jsx)("div",{className:"w-full h-4 bg-gray-300 rounded mb-2 mx-auto"}),(0,r.jsx)("div",{className:"flex justify-center mb-2",children:(0,r.jsx)("div",{className:"w-20 h-4 bg-gray-300 rounded"})}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("div",{className:"w-16 h-4 bg-gray-300 rounded"}),(0,r.jsx)("div",{className:"w-8 h-8 bg-gray-300 rounded-md"})]})]})]},t))})]}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:e("posts")}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:Array.from({length:4}).map((e,t)=>(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 flex flex-col h-[350px]",children:[(0,r.jsx)("div",{className:"relative h-56",children:(0,r.jsx)("div",{className:"w-full h-full bg-gray-300 rounded-t-xl"})}),(0,r.jsxs)("div",{className:"p-4 bg-green-50 flex flex-col justify-between flex-grow",children:[(0,r.jsx)("div",{className:"w-3/4 h-6 bg-gray-300 rounded mb-2"}),(0,r.jsx)("div",{className:"w-full h-4 bg-gray-300 rounded mb-4"}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("div",{className:"w-16 h-4 bg-gray-300 rounded"}),(0,r.jsx)("div",{className:"w-20 h-4 bg-gray-300 rounded"})]})]})]},t))})]}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:e("services")}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:Array.from({length:4}).map((e,t)=>(0,r.jsxs)("div",{className:"bg-[#337a5b] rounded-xl p-4 flex flex-col justify-between h-[400px] w-[280px]",children:[(0,r.jsx)("div",{className:"mb-4 flex justify-center items-center rounded-lg h-[270px] w-full",children:(0,r.jsx)("div",{className:"w-full h-full bg-gray-300 rounded-lg"})}),(0,r.jsxs)("div",{className:"flex flex-col flex-grow",children:[(0,r.jsx)("div",{className:"w-3/4 h-6 bg-gray-300 rounded mb-2 mx-auto"}),(0,r.jsx)("div",{className:"w-full h-4 bg-gray-300 rounded mb-2 mx-auto"})]})]},t))})]})]})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},24547:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(60687),a=s(77618),l=s(16189),i=s(85814),o=s.n(i);let n=(0,s(62688).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);function d(){let e=(0,a.c3)("search"),t=(0,l.usePathname)().split("/")[1]||"en";return(0,r.jsx)("main",{className:"min-h-screen mx-auto px-4 py-10 max-w-7xl",dir:"ar"===t?"rtl":"ltr",children:(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center",children:[(0,r.jsx)(n,{className:"h-16 w-16 text-red-500 mb-4"}),(0,r.jsx)("h2",{className:"text-2xl font-semibold text-[#0f4229] mb-2",children:e("errorTitle",{default:"Something Went Wrong"})}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:e("error",{default:"Unable to perform search. Please try again later."})}),(0,r.jsx)(o(),{href:`/${t}`,className:"px-4 py-2 bg-[#337a5b] text-white rounded-md hover:bg-[#2a634a] transition-colors",children:e("goBack",{default:"Go Back"})})]})})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},33968:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var r=s(60687),a=s(43210),l=s(77618),i=s(16189),o=s(29640),n=s(78272),d=s(99270);s(69977);var c=s(33976),m=s(30474),h=s(85814),x=s.n(h);let u=(e,t=100)=>e.length<=t?e:e.substring(0,t-3)+"...",p=function({service:e,index:t}){let s=(0,i.usePathname)().split("/")[1]||"ar",a=u("ar"===s?e.description_ar:e.description_en,100);return(0,r.jsx)(x(),{href:`/${s}/services/${e.id}`,passHref:!0,children:(0,r.jsxs)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1*t,ease:"easeOut"},whileHover:{scale:1.03,boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)"},className:"bg-[#337a5b] rounded-xl p-4 text-white flex flex-col justify-between h-full w-[280px] relative cursor-pointer","aria-label":"ar"===s?e.name_ar:e.name_en,children:[(0,r.jsx)("div",{className:"mb-4 flex justify-center items-center rounded-lg h-[270px] w-full relative",children:(0,r.jsx)(m.default,{src:"http://127.0.0.1:8000"+e.image,alt:"ar"===s?e.name_ar:e.name_en,width:300,height:270,className:"object-cover rounded-lg w-full h-full"})}),(0,r.jsxs)("div",{className:"flex flex-col flex-grow",children:[(0,r.jsx)("h3",{className:"font-medium text-center mb-1 text-white",children:"ar"===s?e.name_ar:e.name_en}),(0,r.jsx)("p",{className:"text-xs text-center mb-2 flex-grow text-white overflow-hidden overflow-ellipsis whitespace-nowrap",children:a})]})]})})};var f=s(96408);function g(){let e=(0,l.c3)("search"),t=(0,i.usePathname)();(0,i.useSearchParams)();let s=t.split("/")[1]||"en",[m,h]=(0,a.useState)("all"),[u,g]=(0,a.useState)({products:[],posts:[],services:[]}),[b,v]=(0,a.useState)(!0),[j,y]=(0,a.useState)(""),[w,N]=(0,a.useState)(!1),k=(0,a.useRef)(null),[_,C]=(0,a.useState)(""),[A,P]=(0,a.useState)([]),[M,S]=(0,a.useState)(!1),$=e=>{h(e),N(!1)},q=[{id:"all",label:e("all")},{id:"products",label:e("products")},{id:"posts",label:e("posts")},{id:"services",label:e("services")}];return console.log("Content types:",q),console.log("Current results:",u),console.log("Current query:",_),(0,r.jsxs)("main",{className:"min-h-screen mx-auto px-4 py-10 max-w-7xl",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-6",children:e("title",{query:_})}),(0,r.jsxs)("div",{className:"relative mb-6",ref:k,children:[(0,r.jsxs)("button",{onClick:()=>N(!w),className:"flex items-center justify-between gap-2 px-4 py-2 bg-white border border-[#80ce97] rounded-md text-[#0f4229] min-w-[150px]","aria-expanded":w,"aria-label":e("filter"),children:[(0,r.jsx)("span",{children:q.find(e=>e.id===m)?.label||e("all")}),(0,r.jsx)(n.A,{className:"h-4 w-4"})]}),w&&(0,r.jsx)(o.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`absolute top-full ${"ar"===s?"right-0":"left-0"} mt-1 bg-white border border-[#80ce97] rounded-md shadow-lg z-10 min-w-[150px]`,role:"menu","aria-label":e("filterOptions"),children:(0,r.jsx)("div",{className:"p-2 space-y-2",children:q.map(e=>(0,r.jsx)("button",{onClick:()=>$(e.id),className:`w-full ${"ar"===s?"text-right":"text-left"} px-4 py-2 hover:bg-gray-100 text-[#414141]`,children:e.label},e.id))})})]}),b?(0,r.jsx)("p",{children:e("loading")}):j?(0,r.jsx)("p",{className:"text-red-500",children:j}):0===u.products.length&&0===u.posts.length&&0===u.services.length?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[50vh] text-center",children:[(0,r.jsx)(d.A,{className:"h-16 w-16 text-[#80ce97] mb-4"}),(0,r.jsx)("h2",{className:"text-2xl font-semibold text-[#0f4229] mb-2",children:e("noResultsTitle",{default:"No Results Found"})}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:e("noResultsMessage",{default:"Sorry, we couldn’t find any results for your search query. Try a different search term or check out our categories."})}),(0,r.jsx)(x(),{href:`/${s}`,className:"px-4 py-2 bg-[#337a5b] text-white rounded-md hover:bg-[#2a634a] transition-colors",children:e("goBack",{default:"Go Back"})})]}):(0,r.jsxs)("div",{children:[("all"===m||"products"===m)&&(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:e("products")}),u.products.length>0?(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3  gap-6",children:u.products.map((e,t)=>(0,r.jsx)(f.A,{product:{...e,image:Array.isArray(e.image)?e.image:[e.image]},index:t,pageName:"search"},e.id))}):(0,r.jsx)("p",{children:e("noResults")})]}),("all"===m||"posts"===m)&&(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:e("posts")}),A.length>0?(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3  gap-6",children:A.map(e=>(0,r.jsx)(c.A,{post:e,currentLocale:s,setPosts:P,pageName:"search"},e.id))}):(0,r.jsx)("p",{children:e("noResults")})]}),("all"===m||"services"===m)&&(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:e("services")}),u.services.length>0?(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3  gap-6",children:u.services.map((e,t)=>(0,r.jsx)(p,{service:e,index:t},e.id))}):(0,r.jsx)("p",{children:e("noResults")})]})]})]})}},33976:(e,t,s)=>{"use strict";s.d(t,{A:()=>u});var r=s(60687),a=s(30474),l=s(85814),i=s.n(l),o=s(29640),n=s(49014);let d=(0,s(62688).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var c=s(77618),m=s(43210),h=s(69977),x=s(16189);function u({post:e,currentLocale:t,setPosts:s,pageName:l}){let u=(0,c.c3)(),p=(0,x.useRouter)(),f="ar"===t?e.title_ar:e.title_en,g="ar"===t?e.content_ar:e.content_en,b="ar"===t?e.category_ar:e.category_en,[v,j]=(0,m.useState)(!1),y=async r=>{if(r.preventDefault(),r.stopPropagation(),!v){j(!0);try{let t=await (0,h.dC)(e.id);s&&s(s=>s.map(s=>s.id===e.id?{...s,bookmarked:t}:s))}catch(e){e instanceof Error&&(e.message.includes("Authentication required")||e.message.includes("No authentication token found"))?p.push(`/${t}/login?redirect=/${l}`):console.error("Bookmark error:",e)}finally{j(!1)}}};return(0,r.jsx)(i(),{href:`/${t}/blog/${e.id}`,scroll:!0,children:(0,r.jsxs)(o.P.div,{id:`blog-post-${e.id}`,className:"bg-white rounded-xl overflow-hidden shadow-md border border-gray-200 relative",whileHover:{scale:1.05,boxShadow:"0 10px 20px rgba(0,0,0,0.2)"},transition:{duration:.3},dir:"ar"===t?"rtl":"ltr",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(a.default,{src:e.image||"/7.svg",width:400,height:300,alt:f,className:"w-full h-56 object-cover"}),(0,r.jsx)(o.P.button,{onClick:y,disabled:v,className:`absolute top-2 ${"ar"===t?"left-2":"right-2"} p-2 rounded-full ${e.bookmarked?"bg-teal-600 text-white":"bg-white text-teal-600"} hover:bg-teal-600 hover:text-white transition-colors shadow-sm`,"aria-label":e.bookmarked?u("education.removeBookmark",{default:"Remove from Bookmarks"}):u("education.addBookmark",{default:"Add to Bookmarks"}),variants:{idle:{scale:1,rotate:0},clicked:{scale:[1,1.2,.9,1],rotate:[0,5,-5,0],transition:{duration:.3,ease:"easeInOut"}}},initial:"idle",animate:v?"clicked":"idle",whileHover:{scale:1.1},transition:{type:"spring",stiffness:300,damping:20},children:(0,r.jsx)(n.A,{className:"h-5 w-5"})})]}),(0,r.jsxs)("div",{className:"p-4 bg-green-50 min-h-[200px] flex flex-col justify-between",children:[(0,r.jsx)("h3",{className:"text-xl font-medium text-teal-600 mb-2",children:f}),(0,r.jsx)("p",{className:"text-sm text-gray-700 mb-4 line-clamp-3",children:g}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-sm text-teal-600 bg-teal-100 px-2 py-1 rounded-full",children:b}),(0,r.jsxs)("div",{className:"text-sm text-teal-600 flex items-center font-medium",children:[u("home.readMore",{default:"Read more"}),(0,r.jsx)(d,{className:`w-4 h-4 ${"ar"===t?"mr-1":"ml-1"}`})]})]})]})]})})}},46252:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Moham\\\\Desktop\\\\shatleh\\\\client\\\\src\\\\app\\\\[locale]\\\\search\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Moham\\Desktop\\shatleh\\client\\src\\app\\[locale]\\search\\page.tsx","default")},49014:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]])},51249:(e,t,s)=>{Promise.resolve().then(s.bind(s,33968))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64398:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},69047:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Moham\\\\Desktop\\\\shatleh\\\\client\\\\src\\\\app\\\\[locale]\\\\search\\\\error.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Moham\\Desktop\\shatleh\\client\\src\\app\\[locale]\\search\\error.tsx","default")},72920:(e,t,s)=>{Promise.resolve().then(s.bind(s,90025))},78272:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},82648:(e,t,s)=>{Promise.resolve().then(s.bind(s,14839))},86097:(e,t,s)=>{Promise.resolve().then(s.bind(s,46252))},86994:(e,t,s)=>{Promise.resolve().then(s.bind(s,69047))},90025:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Moham\\\\Desktop\\\\shatleh\\\\client\\\\src\\\\app\\\\[locale]\\\\search\\\\loading.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Moham\\Desktop\\shatleh\\client\\src\\app\\[locale]\\search\\loading.tsx","default")},92730:(e,t,s)=>{Promise.resolve().then(s.bind(s,24547))},96241:(e,t,s)=>{"use strict";function r(e,t){let s="string"==typeof e?parseFloat(e):e;if(isNaN(s))return"ar"===t?"غير متوفر":"Not available";let r=new Intl.NumberFormat("ar"===t?"ar-JO":"en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return`${r.format(s)} ${"ar"===t?"د.أ":"JD"}`}function a(e,t,s,r=10){if(!e||!e.categories||0===e.categories.length)return t.filter(t=>t.id!==e?.id).sort(()=>Math.random()-.5).slice(0,r);let l=e.categories.filter(e=>null===e.parent_id).map(e=>e.id),i=e.categories.filter(e=>null!==e.parent_id).map(e=>e.id),o=new Set;for(let e of i)for(let t of s)t.subcategories.some(t=>t.id===e)&&o.add(t.id);let n=[...t.filter(t=>{if(t.id===e.id)return!1;let r=t.categories.map(e=>e.id);if(r.some(e=>r.includes(e))||r.some(e=>o.has(e)))return!0;for(let e of l)for(let t of s)if(t.id===e&&r.some(e=>t.subcategories.some(t=>t.id===e)))return!0;return!1})];if(n.length<r){let s=new Set(n.map(e=>e.id).concat(e.id)),a=t.filter(e=>!s.has(e.id)).sort(()=>Math.random()-.5);n.push(...a.slice(0,r-n.length))}return n.sort(()=>Math.random()-.5).slice(0,r)}s.d(t,{$:()=>r,S:()=>a})},96408:(e,t,s)=>{"use strict";s.d(t,{A:()=>v});var r=s(60687),a=s(30474),l=s(43210),i=s(29640),o=s(64398),n=s(28561),d=s(5748),c=s(96474),m=s(24785),h=s(77618),x=s(16189),u=s(85814),p=s.n(u),f=s(96241),g=s(32319);let b=(e,t=100)=>e.length<=t?e:e.substring(0,t-3)+"...",v=(0,l.memo)(function({product:e,pageName:t}){let s=(0,h.c3)(""),u=(0,x.usePathname)().split("/")[1]||"ar",{userId:v}=(0,g.A)(),j=(0,m.useCartStore)(t=>t.items.find(t=>t.product_id===e.id)),y=(0,m.useCartStore)(e=>e.addItem),w=(0,m.useCartStore)(e=>e.updateQuantity),N=(0,m.useCartStore)(e=>e.isLoading),k=j?.quantity||0,_=e.availability?e.sold_quantity&&e.sold_quantity>10?s("products.topSellingLabel"):null:s("products.outOfStockLabel"),C=b("ar"===u?e.description_ar:e.description_en,100),A=(0,l.useCallback)(async t=>{t.preventDefault(),t.stopPropagation();try{await y({product_id:e.id,name_en:e.name_en,name_ar:e.name_ar,description_en:e.description_en,description_ar:e.description_ar,price:e.price,image:e.image[0]},v,u)}catch(e){console.error("Error adding to cart:",e)}},[y,e,v,u,e.image]),P=(0,l.useCallback)(async(t,s)=>{t.preventDefault(),t.stopPropagation();try{await w(e.id,s,v,u)}catch(e){console.error("Error updating quantity:",e)}},[w,e.id,v,u]);return(0,r.jsx)(p(),{href:`/${u}/products/${e.id}`,passHref:!0,children:(0,r.jsxs)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.2,ease:"easeOut"},whileHover:{scale:1.03,boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)"},className:"products"!==t?"bg-[#337a5b] rounded-xl p-4 text-white flex flex-col justify-between h-full w-full relative cursor-pointer":"bg-[#337a5b] rounded-xl p-4 text-white flex flex-col justify-between h-full relative cursor-pointer w-[280px]","aria-label":"ar"===u?e.name_ar:e.name_en,children:[(0,r.jsxs)("div",{className:"mb-4 flex justify-center items-center rounded-lg h-[270px] w-full relative",children:[_&&(0,r.jsx)("span",{className:"absolute top-2 right-2 px-2 py-1 text-xs font-medium text-white bg-[#025162] rounded-md",children:_}),(0,r.jsx)(a.default,{src:"http://127.0.0.1:8000"+e.image[0],alt:"ar"===u?e.name_ar:e.name_en,width:300,height:270,className:"object-cover rounded-lg w-full h-full"})]}),(0,r.jsxs)("div",{className:"flex flex-col flex-grow",children:[(0,r.jsx)("h3",{className:"font-medium text-center mb-1 text-white",children:"ar"===u?e.name_ar:e.name_en}),(0,r.jsx)("p",{className:"text-xs text-center mb-2 flex-grow text-white overflow-hidden overflow-ellipsis whitespace-nowrap",children:C}),(0,r.jsx)("div",{className:"flex justify-center mb-2",children:Array.from({length:5}).map((t,s)=>(0,r.jsx)(o.A,{className:`h-4 w-4 ${s<Math.floor(e.rating||0)?"text-yellow-400 fill-yellow-400":"text-[#e5e5e5]"}`},s))}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[e.price?(0,r.jsx)("span",{className:"font-medium text-white",children:(0,f.$)(parseFloat(e.price),u)}):(0,r.jsx)("span",{className:"font-medium text-white",children:s("products.contactForPrice")}),0===k?(0,r.jsx)("button",{onClick:A,disabled:N||!e.availability,className:`h-8 w-8 flex items-center justify-center rounded-md transition-colors bg-white text-[#337a5b] hover:bg-gray-200 ${N||!e.availability?"cursor-not-allowed":""}`,"aria-label":s("products.addToCart"),children:(0,r.jsx)(n.A,{className:"h-4 w-4"})}):(0,r.jsxs)("div",{className:"flex items-center rounded-md overflow-hidden border border-white",role:"group","aria-label":s("products.quantityControl"),children:[(0,r.jsx)("button",{onClick:e=>P(e,k-1),disabled:N,className:`h-8 w-8 flex items-center justify-center transition-colors bg-white text-[#337a5b] hover:bg-gray-200 ${N?"cursor-wait":""}`,"aria-label":s("products.decreaseQuantity"),children:(0,r.jsx)(d.A,{className:"h-4 w-4"})}),(0,r.jsx)("span",{className:"h-8 w-8 flex items-center justify-center bg-[#337a5b] text-white","aria-live":"polite",children:k}),(0,r.jsx)("button",{onClick:e=>P(e,k+1),disabled:N||!e.availability,className:`h-8 w-8 flex items-center justify-center transition-colors bg-white text-[#337a5b] hover:bg-gray-200 ${N||!e.availability?"cursor-not-allowed":""}`,"aria-label":s("products.increaseQuantity"),children:(0,r.jsx)(c.A,{className:"h-4 w-4"})})]})]})]})]})})})},96474:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[825,485,640,932],()=>s(1648));module.exports=r})();