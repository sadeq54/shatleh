exports.id=432,exports.ids=[432],exports.modules={11860:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(62688).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},14952:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(62688).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},16550:(e,t,a)=>{Promise.resolve().then(a.bind(a,48955))},34702:(e,t,a)=>{Promise.resolve().then(a.bind(a,95235))},39192:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var r=a(60687),s=a(85814),i=a.n(s),l=a(47033),n=a(14952),o=a(77618),c=a(16189),d=a(43210);let m=(0,d.memo)(function({pageName:e,product:t}){let a=(0,o.c3)(""),s=(0,c.usePathname)(),m=s.split("/")[1]||"ar",h=a(`pages.${e.toLocaleLowerCase()}`);return"ar"===m?(0,r.jsxs)("div",{className:"flex items-center text-sm mb-2",children:[(0,r.jsx)(i(),{href:"/",className:"text-[#025162]",children:a("home.title")}),(0,r.jsx)(l.A,{className:"h-4 w-4 mx-1 text-[#80ce97]"}),(0,r.jsx)(i(),{href:`/${m}/${e}`,className:"text-[#025162]",children:(0,r.jsx)("span",{className:"text-[#025162]",children:h})}),t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.A,{className:"h-4 w-4 mx-1 text-[#80ce97]"}),(0,r.jsx)("span",{className:"text-[#025162]",children:t})]})]}):(0,r.jsxs)("div",{className:"flex items-center text-sm mb-2",children:[(0,r.jsx)(i(),{href:"/",className:"text-[#025162]",children:a("home.title")}),s.split("/").map((e,t)=>1!==t&&0!==t&&isNaN(parseInt(e))?(0,r.jsxs)(d.Fragment,{children:[(0,r.jsx)(n.A,{className:"h-4 w-4 mx-1 text-[#80ce97]"}),(0,r.jsx)(i(),{href:`/${e}`,className:"text-[#025162]",children:(0,r.jsx)("span",{className:"text-[#025162]",children:e})})]},e):null),t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.A,{className:"h-4 w-4 mx-1 text-[#80ce97]"}),(0,r.jsx)("span",{className:"text-[#025162]",children:t})]})]})})},47033:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(62688).A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},48955:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Moham\\\\Desktop\\\\shatleh\\\\client\\\\src\\\\app\\\\[locale]\\\\products\\\\error.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Moham\\Desktop\\shatleh\\client\\src\\app\\[locale]\\products\\error.tsx","default")},78272:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(62688).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},95235:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var r=a(60687);a(43210);var s=a(29640),i=a(77618),l=a(39192);let n=(0,a(62688).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);function o({error:e,reset:t}){let a=(0,i.c3)("");return(0,r.jsxs)("div",{className:"min-h-screen bg-[#e8f5e9] flex flex-col items-center justify-center px-4",children:[(0,r.jsx)("div",{className:"mb-8 w-full max-w-4xl",children:(0,r.jsx)(l.A,{pageName:"products"})}),(0,r.jsxs)(s.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},className:"bg-white rounded-xl shadow-lg p-8 text-center max-w-lg w-full",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-[#0f4229] mb-4",children:a("error.title")}),(0,r.jsx)("p",{className:"text-lg text-[#414141] mb-6",children:a("error.message")}),(0,r.jsxs)("button",{onClick:()=>t(),className:"flex items-center justify-center gap-2 px-6 py-3 bg-[#43bb67] text-white rounded-md hover:bg-[#3aa55b] transition-colors",children:[(0,r.jsx)(n,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:a("error.retry")})]})]})]})}},96241:(e,t,a)=>{"use strict";function r(e,t){let a="string"==typeof e?parseFloat(e):e;if(isNaN(a))return"ar"===t?"غير متوفر":"Not available";let r=new Intl.NumberFormat("ar"===t?"ar-JO":"en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return`${r.format(a)} ${"ar"===t?"د.أ":"JD"}`}function s(e,t,a,r=10){if(!e||!e.categories||0===e.categories.length)return t.filter(t=>t.id!==e?.id).sort(()=>Math.random()-.5).slice(0,r);let i=e.categories.filter(e=>null===e.parent_id).map(e=>e.id),l=e.categories.filter(e=>null!==e.parent_id).map(e=>e.id),n=new Set;for(let e of l)for(let t of a)t.subcategories.some(t=>t.id===e)&&n.add(t.id);let o=[...t.filter(t=>{if(t.id===e.id)return!1;let r=t.categories.map(e=>e.id);if(r.some(e=>r.includes(e))||r.some(e=>n.has(e)))return!0;for(let e of i)for(let t of a)if(t.id===e&&r.some(e=>t.subcategories.some(t=>t.id===e)))return!0;return!1})];if(o.length<r){let a=new Set(o.map(e=>e.id).concat(e.id)),s=t.filter(e=>!a.has(e.id)).sort(()=>Math.random()-.5);o.push(...s.slice(0,r-o.length))}return o.sort(()=>Math.random()-.5).slice(0,r)}a.d(t,{$:()=>r,S:()=>s})},96408:(e,t,a)=>{"use strict";a.d(t,{A:()=>w});var r=a(60687),s=a(30474),i=a(43210),l=a(29640),n=a(64398),o=a(28561),c=a(5748),d=a(96474),m=a(24785),h=a(77618),x=a(16189),u=a(85814),p=a.n(u),f=a(96241),b=a(32319);let g=(e,t=100)=>e.length<=t?e:e.substring(0,t-3)+"...",w=(0,i.memo)(function({product:e,pageName:t}){let a=(0,h.c3)(""),u=(0,x.usePathname)().split("/")[1]||"ar",{userId:w}=(0,b.A)(),j=(0,m.useCartStore)(t=>t.items.find(t=>t.product_id===e.id)),y=(0,m.useCartStore)(e=>e.addItem),v=(0,m.useCartStore)(e=>e.updateQuantity),N=(0,m.useCartStore)(e=>e.isLoading),A=j?.quantity||0,_=e.availability?e.sold_quantity&&e.sold_quantity>10?a("products.topSellingLabel"):null:a("products.outOfStockLabel"),k=g("ar"===u?e.description_ar:e.description_en,100),C=(0,i.useCallback)(async t=>{t.preventDefault(),t.stopPropagation();try{await y({product_id:e.id,name_en:e.name_en,name_ar:e.name_ar,description_en:e.description_en,description_ar:e.description_ar,price:e.price,image:e.image[0]},w,u)}catch(e){console.error("Error adding to cart:",e)}},[y,e,w,u,e.image]),$=(0,i.useCallback)(async(t,a)=>{t.preventDefault(),t.stopPropagation();try{await v(e.id,a,w,u)}catch(e){console.error("Error updating quantity:",e)}},[v,e.id,w,u]);return(0,r.jsx)(p(),{href:`/${u}/products/${e.id}`,passHref:!0,children:(0,r.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.2,ease:"easeOut"},whileHover:{scale:1.03,boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)"},className:"products"!==t?"bg-[#337a5b] rounded-xl p-4 text-white flex flex-col justify-between h-full w-full relative cursor-pointer":"bg-[#337a5b] rounded-xl p-4 text-white flex flex-col justify-between h-full relative cursor-pointer w-[280px]","aria-label":"ar"===u?e.name_ar:e.name_en,children:[(0,r.jsxs)("div",{className:"mb-4 flex justify-center items-center rounded-lg h-[270px] w-full relative",children:[_&&(0,r.jsx)("span",{className:"absolute top-2 right-2 px-2 py-1 text-xs font-medium text-white bg-[#025162] rounded-md",children:_}),(0,r.jsx)(s.default,{src:"http://127.0.0.1:8000"+e.image[0],alt:"ar"===u?e.name_ar:e.name_en,width:300,height:270,className:"object-cover rounded-lg w-full h-full"})]}),(0,r.jsxs)("div",{className:"flex flex-col flex-grow",children:[(0,r.jsx)("h3",{className:"font-medium text-center mb-1 text-white",children:"ar"===u?e.name_ar:e.name_en}),(0,r.jsx)("p",{className:"text-xs text-center mb-2 flex-grow text-white overflow-hidden overflow-ellipsis whitespace-nowrap",children:k}),(0,r.jsx)("div",{className:"flex justify-center mb-2",children:Array.from({length:5}).map((t,a)=>(0,r.jsx)(n.A,{className:`h-4 w-4 ${a<Math.floor(e.rating||0)?"text-yellow-400 fill-yellow-400":"text-[#e5e5e5]"}`},a))}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[e.price?(0,r.jsx)("span",{className:"font-medium text-white",children:(0,f.$)(parseFloat(e.price),u)}):(0,r.jsx)("span",{className:"font-medium text-white",children:a("products.contactForPrice")}),0===A?(0,r.jsx)("button",{onClick:C,disabled:N||!e.availability,className:`h-8 w-8 flex items-center justify-center rounded-md transition-colors bg-white text-[#337a5b] hover:bg-gray-200 ${N||!e.availability?"cursor-not-allowed":""}`,"aria-label":a("products.addToCart"),children:(0,r.jsx)(o.A,{className:"h-4 w-4"})}):(0,r.jsxs)("div",{className:"flex items-center rounded-md overflow-hidden border border-white",role:"group","aria-label":a("products.quantityControl"),children:[(0,r.jsx)("button",{onClick:e=>$(e,A-1),disabled:N,className:`h-8 w-8 flex items-center justify-center transition-colors bg-white text-[#337a5b] hover:bg-gray-200 ${N?"cursor-wait":""}`,"aria-label":a("products.decreaseQuantity"),children:(0,r.jsx)(c.A,{className:"h-4 w-4"})}),(0,r.jsx)("span",{className:"h-8 w-8 flex items-center justify-center bg-[#337a5b] text-white","aria-live":"polite",children:A}),(0,r.jsx)("button",{onClick:e=>$(e,A+1),disabled:N||!e.availability,className:`h-8 w-8 flex items-center justify-center transition-colors bg-white text-[#337a5b] hover:bg-gray-200 ${N||!e.availability?"cursor-not-allowed":""}`,"aria-label":a("products.increaseQuantity"),children:(0,r.jsx)(d.A,{className:"h-4 w-4"})})]})]})]})]})})})}};