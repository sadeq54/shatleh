exports.id=932,exports.ids=[932],exports.modules={124:(e,t,r)=>{"use strict";r.d(t,{default:()=>f});var a=r(60687),o=r(43210),s=r(77618),n=r(85814),i=r.n(n),c=r(16189),l=r(99270),d=r(28561),h=r(30474),p=r(24785),u=r(32319),m=r(69977);let f=()=>{let e=(0,s.c3)(),t=(0,c.usePathname)(),r=(0,c.useRouter)(),{isAuthenticated:n,userId:f,logout:g}=(0,u.A)(),[x,y]=(0,o.useState)(!1),[v,w]=(0,o.useState)(!1),[b,j]=(0,o.useState)(!1),[N,E]=(0,o.useState)(!1),[k,$]=(0,o.useState)(""),[C,A]=(0,o.useState)(!1),[P,S]=(0,o.useState)(null),T=t.split("/")[1]||"en",{items:_,syncWithBackend:I}=(0,p.useCartStore)(),F=(0,o.useRef)(null),L=(0,o.useRef)(null),B=(0,o.useRef)(null),O=(0,o.useRef)(null),z=_.reduce((e,t)=>e+(t.quantity||0),0);(0,o.useEffect)(()=>{(async()=>{if(n&&f)try{let e=await (0,m.eO)();S({first_name:e.first_name,last_name:e.last_name,photo:e.photo})}catch(e){console.error("Failed to fetch profile:",e)}})()},[n,f]),(0,o.useEffect)(()=>{f&&I(f,T).catch(e=>{console.error("Failed to sync cart on locale change:",e)})},[T,I,f]),(0,o.useEffect)(()=>{let e=e=>{F.current&&!F.current.contains(e.target)&&w(!1),L.current&&!L.current.contains(e.target)&&j(!1),B.current&&!B.current.contains(e.target)&&E(!1),O.current&&!O.current.contains(e.target)&&C&&A(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[C]);let D=()=>y(!x),q=()=>w(!v),G=()=>E(!N),M=e=>{let a=t.replace(/^\/(en|ar)/,`/${e}`);r.push(a),j(!1)},U=async()=>{try{await g(),w(!1),S(null)}catch(e){console.error("Logout failed:",e)}},R=e=>{e.preventDefault(),k.trim()&&(localStorage.setItem("searchQuery",k),r.push(`/search?q=${k}`),$(""),A(!1),O.current?.blur())},J=[{label:e("header.home"),path:"/"},{label:e("header.products"),path:"products"},{label:e("header.blog"),path:"blog"},{label:e("header.services"),path:"services"},{label:e("header.about"),path:"about-us"},{label:e("header.feedback"),path:"feedback"}],W=[{locale:"en",label:"EN",icon:"/flags/GB.png"},{locale:"ar",label:"العربية",icon:"/flags/SA.png"}],H=e=>{let r=`/${T}/${e}`;return t===r||t.startsWith(`${r}/`)};return(0,a.jsxs)("header",{className:"w-full text-text-primary h-[10vh] shadow-md transition-all duration-300 ease-in-out md:px-6 sm:px-6 sticky z-50 top-0 bg-[var(--primary-bg)]",children:[(0,a.jsxs)("div",{className:"px-10 flex justify-between items-center h-full relative",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(i(),{href:`/${T}`,className:"overflow-hidden",children:(0,a.jsx)(h.default,{src:"/logo shatleh.svg",alt:"Logo",width:35,height:35,className:"w-30 h-30 object-cover mt-4",priority:!0})}),(0,a.jsx)("nav",{className:"hidden md:flex space-x-6 items-center",children:J.map(e=>(0,a.jsxs)(i(),{href:`/${T}/${e.path}`,className:"relative text-sm font-medium transition-all duration-200 ease-in-out hover:font-semibold hover:px-1",onClick:()=>y(!1),children:[(0,a.jsx)("span",{className:` text-nowrap ${H(e.path)?"text-accent":"hover:text-accent"}`,children:e.label}),H(e.path)&&(0,a.jsx)("span",{className:"absolute bottom-[-4px] left-0 w-full h-0.5 bg-accent animate-underline border-b-2"})]},e.label))})]}),(0,a.jsxs)("div",{className:"flex flex-row items-center space-x-3",children:[(0,a.jsxs)("div",{className:"hidden md:flex items-center relative",children:[(0,a.jsx)("button",{onClick:()=>A(!C),className:"text-text-primary hover:text-accent focus:outline-none hover:cursor-pointer px-2 py-1","aria-label":e("header.searchButton"),children:(0,a.jsx)(l.A,{className:"w-5 h-5"})}),(0,a.jsx)("form",{onSubmit:R,className:`overflow-hidden transition-all duration-300 ease-in-out ${C?"w-32 lg:w-48 opacity-100":"w-0 opacity-0"}`,children:(0,a.jsx)("input",{ref:O,type:"text",value:k,onChange:e=>$(e.target.value),placeholder:e("header.search"),className:"w-full px-3 py-1.5 text-sm text-text-primary bg-[var(--primary-bg)] border border-gray-300 rounded-sm focus:outline-green-600 hover:bg-gray-100 transition-all duration-200","aria-label":e("header.search")})})]}),(0,a.jsxs)("div",{className:"relative",ref:L,children:[(0,a.jsxs)("button",{onClick:()=>j(!b),className:"flex items-center gap-1 hover:text-accent hover:cursor-pointer px-2 py-1 transition-all duration-200 ease-in-out",children:[(0,a.jsx)(h.default,{src:W.find(e=>e.locale===T)?.icon||"/flags/GB.png",alt:`${T} flag`,width:20,height:20,className:"w-5 h-5 rounded-full"}),(0,a.jsx)("span",{children:W.find(e=>e.locale===T)?.label}),(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),b&&(0,a.jsx)("div",{className:`absolute ${"ar"===T?"left-0":"right-0"} mt-2 w-32 bg-[var(--primary-bg)] text-text-primary rounded-sm shadow-lg z-50`,children:W.map(e=>(0,a.jsxs)("button",{onClick:()=>M(e.locale),className:"w-full flex items-center gap-2 px-4 py-2 text-left hover:bg-gray-200 hover:text-accent hover:cursor-pointer transition-all duration-200",children:[(0,a.jsx)(h.default,{src:e.icon,alt:`${e.locale} flag`,width:20,height:20,className:"w-5 h-5 rounded-full"}),(0,a.jsx)("span",{children:e.label})]},e.locale))})]}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsxs)(i(),{href:`/${T}/cart`,className:"md:flex hidden mx-3",children:[(0,a.jsx)(d.A,{className:"w-6 h-6 text-text-primary hover:text-accent transition-all duration-200 ease-in-out hover:font-semibold hover:px-1"}),(0,a.jsx)("span",{className:"absolute -top-2 left-7 w-5 h-5 bg-red-400 text-white rounded-full flex items-center justify-center border-2 text-xs",children:z})]})}),n&&(0,a.jsxs)("div",{className:"relative",ref:F,dir:"ltr",children:[(0,a.jsx)("button",{onClick:q,className:"focus:outline-none hover:cursor-pointer",children:P&&P.photo?(0,a.jsx)(h.default,{width:40,height:40,src:`http://127.0.0.1:8000${P.photo}`,alt:"User profile",className:"w-10 h-10 rounded-full hover:scale-105 transition-all duration-200"}):(0,a.jsx)("div",{className:"w-10 h-10 rounded-full border bg-[var(--primary-bg)] flex items-center justify-center text-text-primary font-medium hover:scale-105 transition-all duration-200",children:(0,a.jsx)(h.default,{src:"/user.svg",alt:"User profile",width:40,height:40,className:"w-10 h-10 rounded-full hover:scale-105 transition-all duration-200"})})}),v&&(0,a.jsxs)("div",{className:`absolute ${"ar"===T?"left-2":"right-2"} z-50 mt-2 w-48 bg-[var(--primary-bg)] text-text-primary rounded-sm shadow-lg`,children:[(0,a.jsx)(i(),{href:`/${T}/account`,className:"block px-4 py-2 hover:bg-gray-200 hover:text-accent transition-all duration-200",onClick:q,children:e("user.account")}),(0,a.jsx)(i(),{href:`/${T}/address`,className:"block px-4 py-2 hover:bg-gray-200 hover:text-accent transition-all duration-200",onClick:q,children:e("user.address")}),(0,a.jsx)(i(),{href:`/${T}/service-requests`,className:"block px-4 py-2 hover:bg-gray-200 hover:text-accent transition-all duration-200",onClick:q,children:e("user.serviceRequests")}),(0,a.jsx)(i(),{href:`/${T}/orders`,className:"block px-4 py-2 hover:bg-gray-200 hover:text-accent transition-all duration-200",onClick:q,children:e("user.myOrders")}),(0,a.jsx)("button",{onClick:U,className:"block w-full text-left px-4 py-2 hover:bg-gray-200 hover:text-accent transition-all duration-200",children:e("user.logout")})]})]}),!n&&(0,a.jsxs)("div",{className:"relative",ref:B,children:[(0,a.jsxs)("button",{onClick:G,className:"hidden md:flex items-center px-3 py-1.5 text-text-primary hover:bg-accent hover:text-[var(--text-gray)] transition-all duration-200 text-sm font-medium",children:[e("header.account"),(0,a.jsx)("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),N&&(0,a.jsxs)("div",{className:`absolute ${"ar"===T?"left-0":"right-0"} mt-2 w-32 bg-[var(--primary-bg)] text-text-primary rounded-sm shadow-lg z-50`,children:[(0,a.jsx)(i(),{href:`/${T}/login`,className:"block px-4 py-2 hover:bg-gray-200 hover:text-accent transition-all duration-200",onClick:G,children:e("header.login")}),(0,a.jsx)(i(),{href:`/${T}/register`,className:"block px-4 py-2 hover:bg-gray-200 hover:text-accent transition-all duration-200",onClick:G,children:e("header.signup")})]})]}),(0,a.jsx)("button",{className:`md:hidden focus:outline-none ${"ar"===T?" pr-3":""}`,onClick:D,"aria-label":"Toggle menu",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:x?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]})]}),x&&(0,a.jsx)("nav",{className:"md:hidden bg-[var(--primary-bg)] border-t border-accent absolute top-[10vh] left-0 w-full px-4 py-4 shadow-md",children:(0,a.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,a.jsx)("form",{onSubmit:R,className:"flex items-center relative",children:(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsx)("input",{ref:O,type:"text",value:k,onChange:e=>$(e.target.value),placeholder:e("header.search"),className:"w-full px-3 py-1.5 pr-8 text-sm text-text-primary bg-[var(--primary-bg)] border border-gray-300 rounded-sm focus:outline-none focus:ring-2 focus:ring-accent hover:bg-gray-100 transition-all duration-200","aria-label":e("header.search")}),(0,a.jsx)("button",{type:"submit",className:"absolute right-2 top-1/2 -translate-y-1/2 text-text-primary hover:text-accent","aria-label":e("header.searchButton"),children:(0,a.jsx)(l.A,{className:"w-5 h-5"})})]})}),J.map(e=>(0,a.jsxs)(i(),{href:`/${T}/${e.path}`,className:"relative py-2 text-sm font-medium transition-all duration-200 ease-in-out hover:font-semibold hover:px-1",onClick:D,children:[(0,a.jsx)("span",{className:`${H(e.path)?"text-accent":"hover:text-accent"}`,children:e.label}),H(e.path)&&(0,a.jsx)("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-accent animate-underline"})]},e.label)),!n&&(0,a.jsxs)("div",{className:"flex flex-col space-y-2 pt-2",children:[(0,a.jsx)(i(),{href:`/${T}/login`,className:"px-4 py-2 text-text-primary transition-all duration-200 text-sm font-medium text-center",onClick:D,children:e("header.login")}),(0,a.jsx)(i(),{href:`/${T}/register`,className:"px-4 py-2 text-gray-900 bg-accent hover:bg-opacity-80 transition-all duration-200 text-sm font-medium text-center",onClick:D,children:e("header.signup")})]}),(0,a.jsx)("div",{className:"relative py-2",children:(0,a.jsxs)(i(),{href:`/${T}/cart`,className:"md:hidden flex mx-4",children:[(0,a.jsx)(d.A,{className:"w-6 h-6 text-text-primary hover:text-accent transition-all duration-200 ease-in-out hover:font-semibold hover:px-1"}),(0,a.jsx)("span",{className:`absolute -top-0 ${"ar"===T?"right-1":"left-7"} w-5 h-5 bg-red-400 text-white rounded-full flex items-center justify-center border-2 text-xs`,children:z})]})})]})})]})}},11434:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m,generateMetadata:()=>u});var a=r(37413),o=r(90691),s=r.n(o);r(61135);var n=r(97663),i=r(42037),c=r(39916),l=r(27182),d=r(36920),h=r(40701),p=r(67990);async function u({params:e}){let t;let{locale:r}=await e;try{t=await (0,i.A)({locale:r,namespace:"metadata"})}catch(e){return console.error("Error loading translations for metadata:",e),{title:"Shatleh",description:"A multilingual ecommerce platform",icons:{icon:"/logo shatleh.png"}}}return{title:t("title")||"Shatleh",description:t("description")||"A multilingual ecommerce platform",icons:{icon:"/logo shatleh.png"}}}async function m({children:e,params:t}){let o;let{locale:i}=await t;try{o=(await r(76565)(`./${i}.json`)).default}catch(e){console.error("Error loading messages:",e),(0,c.notFound)()}let u="ar"===i?"rtl":"ltr";return(0,a.jsx)(n.A,{locale:i,messages:o,children:(0,a.jsx)("html",{lang:i,dir:u,"bbai-tooltip-injected":"true",children:(0,a.jsx)("body",{className:s().className,children:(0,a.jsx)(h.AuthProvider,{children:(0,a.jsxs)(p.ProductProvider,{children:[(0,a.jsx)(l.default,{}),(0,a.jsx)("main",{children:e}),(0,a.jsx)(d.default,{})]})})})})})}},11612:(e,t,r)=>{Promise.resolve().then(r.bind(r,64626)),Promise.resolve().then(r.bind(r,124)),Promise.resolve().then(r.bind(r,32319)),Promise.resolve().then(r.bind(r,24744)),Promise.resolve().then(r.bind(r,45196))},24744:(e,t,r)=>{"use strict";r.d(t,{ProductProvider:()=>i,Q:()=>c});var a=r(60687),o=r(43210),s=r(69977);let n=(0,o.createContext)(void 0),i=({children:e})=>{let[t,r]=(0,o.useState)([]),[i,c]=(0,o.useState)(!0),[l,d]=(0,o.useState)([]);return(0,o.useEffect)(()=>{(async()=>{c(!0);try{let e=await (0,s.eN)(l.length>0?l:void 0);r(e)}catch(e){console.error("Failed to load products:",e)}finally{c(!1)}})()},[l]),(0,a.jsx)(n.Provider,{value:{allProducts:t,isLoading:i,setCategoryIds:d},children:e})},c=()=>{let e=(0,o.useContext)(n);if(!e)throw Error("useProducts must be used within a ProductProvider");return e}},24785:(e,t,r)=>{"use strict";r.r(t),r.d(t,{useCartStore:()=>i});var a=r(26787),o=r(59350),s=r(69977);let n=e=>e instanceof Error?e.message.includes("customer_id")||e.message.includes("The selected")?"Invalid user ID. Please log in again or contact support.":e.message.includes("POST method is not supported")?"Cart sync failed due to server configuration. Please try again later.":e.message||"Operation failed. Please try again.":"Operation failed.",i=(0,a.v)()((0,o.eh)((0,o.Zr)((e,t)=>({items:[],isLoading:!1,error:null,addItem:async(r,a,o)=>{e({isLoading:!0,error:null});let i=t().items;try{let n=i.find(e=>e.product_id===r.product_id),c=n?n.quantity+1:1,l={...r,id:n?.id||Date.now(),customer_id:a||"guest",quantity:c};n?e({items:i.map(e=>e.product_id===r.product_id?l:e)}):e({items:[...i,l]}),a&&(await (0,s.V2)({customer_id:a,product_id:r.product_id,quantity:c},o),await t().syncWithBackend(a,o))}catch(t){console.error("Error adding item to cart:",t),e({items:i,error:n(t)})}finally{e({isLoading:!1})}},removeItem:async(r,a,o)=>{e({isLoading:!0,error:null});let i=t().items;try{let n=i.find(e=>e.product_id===r);if(!n)return;e({items:i.filter(e=>e.product_id!==r)}),a&&(await (0,s.V2)({customer_id:a,product_id:n.product_id,quantity:0},o),await t().syncWithBackend(a,o))}catch(t){console.error("Error removing item from cart:",t),e({items:i,error:n(t)})}finally{e({isLoading:!1})}},updateQuantity:async(r,a,o,i)=>{e({isLoading:!0,error:null});let c=t().items;try{let n=c.find(e=>e.product_id===r);if(!n)return;a<=0?e({items:c.filter(e=>e.product_id!==r)}):e({items:c.map(e=>e.product_id===r?{...e,quantity:a}:e)}),o&&(await (0,s.V2)({customer_id:o,product_id:n.product_id,quantity:a},i),await t().syncWithBackend(o,i))}catch(t){console.error("Error updating cart item quantity:",t),e({items:c,error:n(t)})}finally{e({isLoading:!1})}},clearCart:async(r,a)=>{e({isLoading:!0,error:null});let o=t().items,i=localStorage.getItem("token");try{e({items:[]}),r&&await (0,s.sX)(r,a,i),await t().syncWithBackend(r,a)}catch(t){console.error("Error clearing cart:",t),e({items:o,error:n(t)})}finally{e({isLoading:!1})}},syncWithBackend:async(e,t)=>{console.warn("No user authenticated or server-side, skipping cart sync")},logout:()=>{e({items:[],error:null}),console.log("Cart cleared on logout")},total:()=>t().items.reduce((e,t)=>e+(parseFloat(t.price)||0)*t.quantity,0),totalItems:()=>t().items.reduce((e,t)=>e+t.quantity,0)}),{name:"cart-storage",partialize:e=>({items:e.items})})))},27182:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Moham\\\\Desktop\\\\shatleh\\\\client\\\\components\\\\Header.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Moham\\Desktop\\shatleh\\client\\components\\Header.tsx","default")},32319:(e,t,r)=>{"use strict";r.d(t,{A:()=>d,AuthProvider:()=>l});var a=r(60687),o=r(43210),s=r(16189),n=r(69977),i=r(24785);let c=(0,o.createContext)(void 0),l=({children:e})=>{let[t,l]=(0,o.useState)(!1),[d,h]=(0,o.useState)(null),p=(0,s.useRouter)(),u=(0,s.usePathname)().split("/")[1]||"en";(0,o.useEffect)(()=>{let e=localStorage.getItem("token"),t=localStorage.getItem("userId"),a=localStorage.getItem("tokenTimestamp");e&&t&&a&&(Date.now()-parseInt(a,10)>864e5?f():(l(!0),h(t),Promise.resolve().then(r.bind(r,24785)).then(({useCartStore:e})=>{e.getState().syncWithBackend(t,u)}).catch(e=>{console.error("Error syncing cart on initial load:",e)})))},[u]);let m=async(e,t)=>{localStorage.setItem("token",e),localStorage.setItem("userId",t),localStorage.setItem("tokenTimestamp",Date.now().toString()),l(!0),h(t);try{await Promise.resolve().then(r.bind(r,24785)).then(({useCartStore:e})=>e.getState().syncWithBackend(t,u))}catch(e){console.error("Error syncing cart after login:",e)}},f=async()=>{try{let e=localStorage.getItem("token");if(!e)throw Error("No token found in localStorage for logout.");await (0,n.PZ)(e),console.log("Logout successful")}catch(e){console.error("Logout failed:",e)}localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("tokenTimestamp"),l(!1),h(null),i.useCartStore.getState().logout(),p.push(`/${u}/login`)};return(0,a.jsx)(c.Provider,{value:{isAuthenticated:t,userId:d,login:m,logout:f},children:e})},d=()=>{let e=(0,o.useContext)(c);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},36920:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Moham\\\\Desktop\\\\shatleh\\\\client\\\\components\\\\Footer.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Moham\\Desktop\\shatleh\\client\\components\\Footer.tsx","default")},39539:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,16444,23)),Promise.resolve().then(r.t.bind(r,16042,23)),Promise.resolve().then(r.t.bind(r,88170,23)),Promise.resolve().then(r.t.bind(r,49477,23)),Promise.resolve().then(r.t.bind(r,29345,23)),Promise.resolve().then(r.t.bind(r,12089,23)),Promise.resolve().then(r.t.bind(r,46577,23)),Promise.resolve().then(r.t.bind(r,31307,23))},40701:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>o});var a=r(12907);let o=(0,a.registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Moham\\Desktop\\shatleh\\client\\lib\\AuthContext.tsx","AuthProvider");(0,a.registerClientReference)(function(){throw Error("Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Moham\\Desktop\\shatleh\\client\\lib\\AuthContext.tsx","useAuth")},53468:(e,t,r)=>{Promise.resolve().then(r.bind(r,36920)),Promise.resolve().then(r.bind(r,27182)),Promise.resolve().then(r.bind(r,40701)),Promise.resolve().then(r.bind(r,67990)),Promise.resolve().then(r.bind(r,80994))},61135:()=>{},64626:(e,t,r)=>{"use strict";r.d(t,{default:()=>f});var a=r(60687),o=r(85814),s=r.n(o),n=r(41550),i=r(48340),c=r(19526),l=r(72575),d=r(66232),h=r(98876),p=r(2975),u=r(16189),m=r(77618);let f=()=>{let e=(0,m.c3)(""),t=(0,u.usePathname)().split("/")[1]||"en",r={en:[{id:"post1",title:"How to Choose the Best Plants for Your Garden?",date:"January 20, 2023"},{id:"post2",title:"Common Mistakes in Plant Care and How to Avoid Them",date:"January 10, 2023"},{id:"post3",title:"Secrets of Indoor Plant Care Throughout the Year",date:"January 15, 2023"}],ar:[{id:"post1",title:"كيف تختار أفضل النباتات لحديقتك؟",date:"20 يناير 2023"},{id:"post2",title:"أخطاء شائعة في العناية بالنباتات وكيفية تجنبها",date:"10 يناير 2023"},{id:"post3",title:"أسرار العناية بالنباتات الداخلية طوال السنة",date:"15 يناير 2023"}]},o=(r[t]||r.en).map(e=>({...e,href:`/${t}/blog/${e.id}`})),f=[{label:e("footer.products"),href:`/${t}/products`},{label:e("footer.blog"),href:`/${t}/blog`},{label:e("footer.services"),href:`/${t}/services`},{label:e("footer.about"),href:`/${t}/about`}];return(0,a.jsxs)("footer",{className:"bg-[var(--footer-bg)] text-white pt-10 relative md:px-6 sm:px-0 ",children:[(0,a.jsxs)("div",{className:"container mx-auto px-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 pb-10",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"footer-title",children:e("footer.contactInfo")}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)(n.A,{className:"w-5 h-5 mr-2 text-[var(--footer-accent)]"}),(0,a.jsx)("p",{className:"text-sm px-3",children:"shatlehteam@gmail.com"})]}),(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)(i.A,{className:"w-5 h-5 mr-2 text-[var(--footer-accent)]"}),(0,a.jsx)("p",{className:"text-sm px-3",children:"0798827244"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"footer-title",children:e("footer.quickLinks")}),(0,a.jsx)("ul",{className:"space-y-3",children:f.map(e=>(0,a.jsxs)("li",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-[var(--footer-hover)] mr-2",children:"•"}),(0,a.jsx)(s(),{href:e.href,className:"footer-link",children:e.label})]},e.label))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"footer-title",children:e("footer.recentPosts")}),(0,a.jsx)("div",{className:"space-y-4",children:o.map((e,t)=>(0,a.jsx)(s(),{href:e.href,children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm mb-1",children:e.title}),(0,a.jsx)("p",{className:"text-xs text-[#94f198] flex items-center",children:(0,a.jsx)("span",{className:"mr-1",children:e.date})})]})},t))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"footer-title",children:e("footer.aboutUs")}),(0,a.jsx)("p",{className:"text-sm mb-4",children:e("footer.aboutUsDescription")}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("a",{href:"#",className:"footer-icon",children:(0,a.jsx)(c.A,{className:"w-4 h-4"})}),(0,a.jsx)("a",{href:"#",className:"footer-icon",children:(0,a.jsx)(l.A,{className:"w-4 h-4"})}),(0,a.jsx)("a",{href:"#",className:"footer-icon",children:(0,a.jsx)(d.A,{className:"w-4 h-4"})}),(0,a.jsx)("a",{href:"#",className:"footer-icon",children:(0,a.jsx)(h.A,{className:"w-4 h-4"})})]})]})]}),(0,a.jsx)("div",{className:"border-t border-[var(--footer-accent)] py-4 text-center text-sm",children:(0,a.jsx)("p",{children:"ar"===t?`\xa9 ${new Date().getFullYear()} منصة شتلة. جميع الحقوق محفوظة.`:`\xa9 ${new Date().getFullYear()} Shatleh. All rights reserved.`})})]}),(0,a.jsx)("div",{className:"fixed bottom-6 right-6",children:(0,a.jsx)("a",{href:"#",className:"footer-icon w-10 h-10",children:(0,a.jsx)(p.A,{className:"w-5 h-5"})})})]})}},67990:(e,t,r)=>{"use strict";r.d(t,{ProductProvider:()=>o});var a=r(12907);let o=(0,a.registerClientReference)(function(){throw Error("Attempted to call ProductProvider() from the server but ProductProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Moham\\Desktop\\shatleh\\client\\lib\\ProductContext.tsx","ProductProvider");(0,a.registerClientReference)(function(){throw Error("Attempted to call useProducts() from the server but useProducts is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Moham\\Desktop\\shatleh\\client\\lib\\ProductContext.tsx","useProducts")},69977:(e,t,r)=>{"use strict";r.d(t,{E1:()=>x,VY:()=>O,N4:()=>L,Pt:()=>z,sX:()=>k,vh:()=>j,ab:()=>w,ls:()=>g,eN:()=>h,CF:()=>T,l4:()=>_,Fy:()=>N,jE:()=>d,w6:()=>B,Gb:()=>C,NW:()=>F,Lw:()=>$,eO:()=>m,w7:()=>D,jg:()=>b,Qq:()=>p,Li:()=>A,c4:()=>s,iD:()=>i,PZ:()=>l,kz:()=>c,$P:()=>u,y_:()=>v,zi:()=>S,$8:()=>P,dC:()=>I,yU:()=>y,V2:()=>E,r7:()=>f});let a=[{id:1,name_en:"Sample Product",name_ar:"منتج عينة",price:"19.99",image:"/images/sample.jpg",description_en:"A sample product description",description_ar:"وصف منتج عينة",availability:!0,sold_quantity:20,categories:[{id:1,name_en:"Electronics",name_ar:"إلكترونيات",parent_id:null},{id:2,name_en:"Mobile Phones",name_ar:"هواتف محمولة",parent_id:1}],rating:4.5}],o="http://127.0.0.1:8000",s=()=>localStorage.getItem("token"),n=async e=>{if(!e.ok){let t={};try{t=await e.json()}catch{}throw console.error("API Error:",{status:e.status,statusText:e.statusText,errorData:t}),Error(t.message||t.error||JSON.stringify(t.errors)||`HTTP error ${e.status}`)}return e.json()},i=async e=>{try{let t=await fetch(`${o}/api/login`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)}),r=await n(t);return localStorage.setItem("token",r.token),localStorage.setItem("userId",r.user.id),r}catch(e){throw Error(e instanceof Error?e.message:"Login failed")}},c=async e=>{try{let t=await fetch(`${o}/api/register`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)}),r=await n(t);return localStorage.setItem("token",r.token),localStorage.setItem("userId",r.user.id),r}catch(e){throw Error(e instanceof Error?e.message:"Registration failed")}},l=async e=>{try{let t=await fetch(`${o}/api/logout`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${e}`}});await n(t),localStorage.removeItem("token"),localStorage.removeItem("userId")}catch(e){throw Error(e instanceof Error?e.message:"Logout failed")}},d=async()=>{try{let e=await fetch(`${o}/api/categories`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});return(await n(e)).data.map(e=>({id:e.id,name:{en:e.name_en,ar:e.name_ar},subcategories:e.subcategories.map(e=>({id:e.id,name:{en:e.name_en,ar:e.name_ar},image:e.name_en,subcategories:[]})),image:e.subcategories.length>0?e.subcategories[0].name_en:""}))}catch(e){throw console.error("Failed to fetch categories:",e),Error(e instanceof Error?e.message:"Failed to fetch categories")}},h=async e=>{try{let t=e&&e.length>0?`?category_ids=${e.join(",")}`:"",r=await fetch(`${o}/api/all_products${t}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});return(await n(r)).data}catch(e){return console.error("Error fetching products:",e),a.map(e=>({...e,price:e.price.toString(),availability:!!e.availability,categories:e.categories?e.categories.map(e=>({id:e.id,name_en:e.name_en||"",name_ar:e.name_ar||"",parent_id:null})):[],rating:e.rating||void 0}))}},p=async()=>{try{let e=await fetch(`${o}/api/top_sellers`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},next:{revalidate:86400}});return(await n(e)).data}catch(e){throw Error(e instanceof Error?e.message:"Failed to fetch top products")}},u=async(e,t="all")=>{try{let r=await fetch(`${o}/api/search?q=${encodeURIComponent(e)}&type=${t}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},next:{revalidate:30}});return await n(r)}catch(e){throw console.error("Error performing search:",e),Error(e instanceof Error?e.message:"Search failed")}},m=async()=>{let e=s();if(!e)throw Error("No authentication token found");try{let t=await fetch(`${o}/api/profile`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${e}`}});return(await n(t)).data}catch(e){throw Error(e instanceof Error?e.message:"Failed to fetch profile")}},f=async e=>{let t=s();if(!t)throw Error("No authentication token found");try{let r=await fetch(`${o}/api/profile`,{method:"POST",headers:{Accept:"application/json",Authorization:`Bearer ${t}`},body:e});return(await n(r)).data}catch(e){throw Error(e instanceof Error?e.message:"Failed to update profile")}},g=async()=>{let e=s();if(!e)throw Error("No authentication token found");try{let t=await fetch(`${o}/api/addresses`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${e}`}});return(await n(t)).data}catch(e){throw Error(e instanceof Error?e.message:"Failed to fetch addresses")}},x=async e=>{let t=s();if(!t)throw Error("No authentication token found");try{let r=await fetch(`${o}/api/addresses`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(e)});return(await n(r)).address}catch(e){throw Error(e instanceof Error?e.message:"Failed to add address")}},y=async(e,t)=>{let r=s();if(!r)throw Error("No authentication token found");try{let a=await fetch(`${o}/api/addresses/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)});return(await n(a)).address}catch(e){throw Error(e instanceof Error?e.message:"Failed to update address")}},v=async e=>{let t=s();if(!t)throw Error("No authentication token found");try{let r=await fetch(`${o}/api/addresses/${e}/set-default`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${t}`}});await n(r)}catch(e){throw Error(e instanceof Error?e.message:"Failed to set default address")}},w=async e=>{let t=s();if(!t)throw Error("No authentication token found");try{let r=await fetch(`${o}/api/addresses/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${t}`}});await n(r)}catch(e){throw Error(e instanceof Error?e.message:"Failed to delete address")}},b=async()=>{try{let e=await fetch(`${o}/api/services`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});return(await n(e)).data}catch(e){throw Error(e instanceof Error?e.message:"Failed to fetch services")}},j=async e=>{let t=s();if(!t)throw Error("No authentication token found");try{let r=new FormData;r.append("service_id",e.service_id.toString()),r.append("address_id",e.address_id.toString()),r.append("customer_id",e.customer_id),r.append("details",e.details),e.image&&r.append("image",e.image);let a=await fetch(`${o}/api/service-requests`,{method:"POST",headers:{Accept:"application/json",Authorization:`Bearer ${t}`},body:r});return n(a)}catch(e){throw Error(e instanceof Error?e.message:"Failed to create service request")}},N=async(e,t)=>{let r=s();if(!r)throw Error("No authentication token found");try{let a=await fetch(`${o}/api/cart`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${r}`,"Accept-Language":t},body:JSON.stringify({customer_id:e})});return(await n(a)).data.map(e=>({...e,price:e.price.toString()}))}catch(e){throw Error(e instanceof Error?e.message:"Failed to fetch cart")}},E=async(e,t)=>{let r=s();if(!r)throw Error("No authentication token found");try{let a=await fetch(`${o}/api/cart/update`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${r}`,"Accept-Language":t},body:JSON.stringify(e)});return n(a)}catch(e){throw Error(e instanceof Error?e.message:"Failed to update cart")}},k=async(e,t,r)=>{if(!r)throw Error("No authentication token found");try{let a=await fetch(`${o}/api/cart/clear`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${r}`,"Accept-Language":t},body:JSON.stringify({customer_id:e})});return n(a)}catch(e){throw Error(e instanceof Error?e.message:"Failed to clear cart")}},$=async e=>{try{let t=await fetch(`${o}/api/products/${e}/reviews`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}),r=await n(t);return{reviews:r.data.reviews,averageRating:r.data.average_rating}}catch(e){throw Error(e instanceof Error?e.message:"Failed to fetch product reviews")}},C=async e=>{let t=s();if(!t)throw Error("No authentication token found");try{let r=await fetch(`${o}/api/orders`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${t}`,"Accept-Language":e}});return(await n(r)).data}catch(e){throw Error(e instanceof Error?e.message:"Failed to fetch orders")}},A=async e=>{let t=s();if(!t)return[];try{let r=await fetch(`${o}/api/orders/unrated`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${t}`,"Accept-Language":e}});return(await n(r)).data}catch(e){throw Error(e instanceof Error?e.message:"Failed to fetch unrated orders")}},P=async(e,t,r)=>{let a=s();if(!a)throw Error("No authentication token found");try{let s=await fetch(`${o}/api/orders/${e}/ratings`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${a}`,"Accept-Language":r},body:JSON.stringify({ratings:t})});await n(s)}catch(e){throw Error(e instanceof Error?e.message:"Failed to submit ratings")}},S=async(e,t)=>{let r=s();if(!r)throw Error("No authentication token found");try{let a=await fetch(`${o}/api/orders/${e}/skip-rating`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${r}`,"Accept-Language":t}});await n(a)}catch(e){throw Error(e instanceof Error?e.message:"Failed to skip rating")}},T=async()=>{try{let e=await fetch(`${o}/api/blog`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});return await n(e)}catch(e){throw Error(e instanceof Error?e.message:"Failed to fetch blog posts")}},_=async()=>{let e=s();if(!e)return[];try{let t=await fetch(`${o}/api/bookmarks`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${e}`}});return await n(t)}catch(e){throw Error(e instanceof Error?e.message:"Failed to fetch bookmarked posts")}},I=async e=>{let t=s();if(!t)throw Error("No authentication token found");try{let r=await fetch(`${o}/api/blog/${e}/bookmark`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${t}`}});return(await n(r)).bookmarked}catch(e){throw Error(e instanceof Error?e.message:"Failed to toggle bookmark")}},F=async e=>{try{let t=await fetch(`${o}/api/categories`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","Accept-Language":e}});return(await n(t)).data.map(e=>({id:e.id,name:{en:e.name_en,ar:e.name_ar},selected:!1}))}catch(e){throw console.error("Failed to fetch post categories:",e),Error(e instanceof Error?e.message:"Failed to fetch post categories")}},L=async(e,t)=>{let r=s();if(!r)throw Error("No authentication token found");try{let a=await fetch(`http://127.0.0.1:8000/api/orders/${e}/cancel`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${r}`,"Accept-Language":t}});if(!a.ok){let e=await a.json();throw Error(e.message||"Failed to cancel order")}}catch(e){throw Error(e instanceof Error?e.message:"Failed to cancel order")}},B=async()=>{try{let e=await fetch(`${o}/api/coupons`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});return(await n(e)).data}catch(e){return console.error("Failed to fetch coupons:",e),[]}},O=async(e,t)=>{let r=s();if(!r)throw Error("No authentication token found");try{let a=await fetch(`${o}/api/coupons/apply`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({code:e,country_id:t})});return await n(a)}catch(e){throw Error(e instanceof Error?e.message:"Failed to apply coupon")}},z=async(e,t)=>{if(!t)throw Error("No authentication token found");console.log("Checkout token:",t);try{let r=await fetch(`${o}/api/checkout`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(e)});if(401===r.status)throw localStorage.removeItem("token"),localStorage.removeItem("userId"),Error("Session expired. Please log in again.");return await n(r)}catch(e){throw console.error("Checkout error:",e),Error(e instanceof Error?e.message:"Checkout failed")}},D=async e=>{let t=s();if(!t)throw Error("No authentication token found");try{let r=await fetch(`${o}/api/service-requests`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${t}`,"Accept-Language":e}});return(await n(r)).data}catch(e){throw Error(e instanceof Error?e.message:"Failed to fetch service requests")}}},73683:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(35471),o=r(14967);let s=(0,r(55946).A)({locales:["en","ar"],defaultLocale:"ar"}),n=(0,a.A)(async({requestLocale:e})=>{let t=await e,a=(0,o.EL)(s.locales,t)?t:s.defaultLocale;return{locale:a,messages:(await r(76565)(`./${a}.json`)).default}})},76491:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,86346,23)),Promise.resolve().then(r.t.bind(r,27924,23)),Promise.resolve().then(r.t.bind(r,35656,23)),Promise.resolve().then(r.t.bind(r,40099,23)),Promise.resolve().then(r.t.bind(r,38243,23)),Promise.resolve().then(r.t.bind(r,28827,23)),Promise.resolve().then(r.t.bind(r,62763,23)),Promise.resolve().then(r.t.bind(r,97173,23))},76565:(e,t,r)=>{var a={"./ar.json":[87552,552],"./en.json":[87368,368]};function o(e){if(!r.o(a,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=a[e],o=t[0];return r.e(t[1]).then(()=>r.t(o,19))}o.keys=()=>Object.keys(a),o.id=76565,e.exports=o}};