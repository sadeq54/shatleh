(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7454],{1004:(e,a,t)=>{"use strict";t.d(a,{A:()=>m});var s=t(5155),r=t(6874),i=t.n(r),l=t(2355),n=t(3052),c=t(7652),o=t(5695),d=t(2115);let m=(0,d.memo)(function(e){let{pageName:a,product:t}=e,r=(0,c.c3)(""),m=(0,o.usePathname)(),x=m.split("/")[1]||"ar",u=r("pages.".concat(a.toLocaleLowerCase()));return"ar"===x?(0,s.jsxs)("div",{className:"flex items-center text-sm mb-2",children:[(0,s.jsx)(i(),{href:"/",className:"text-[#025162]",children:r("home.title")}),(0,s.jsx)(l.A,{className:"h-4 w-4 mx-1 text-[#80ce97]"}),(0,s.jsx)(i(),{href:"/".concat(x,"/").concat(a),className:"text-[#025162]",children:(0,s.jsx)("span",{className:"text-[#025162]",children:u})}),t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.A,{className:"h-4 w-4 mx-1 text-[#80ce97]"}),(0,s.jsx)("span",{className:"text-[#025162]",children:t})]})]}):(0,s.jsxs)("div",{className:"flex items-center text-sm mb-2",children:[(0,s.jsx)(i(),{href:"/",className:"text-[#025162]",children:r("home.title")}),m.split("/").map((e,a)=>1!==a&&0!==a&&isNaN(parseInt(e))?(0,s.jsxs)(d.Fragment,{children:[(0,s.jsx)(n.A,{className:"h-4 w-4 mx-1 text-[#80ce97]"}),(0,s.jsx)(i(),{href:"/".concat(e),className:"text-[#025162]",children:(0,s.jsx)("span",{className:"text-[#025162]",children:e})})]},e):null),t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.A,{className:"h-4 w-4 mx-1 text-[#80ce97]"}),(0,s.jsx)("span",{className:"text-[#025162]",children:t})]})]})})},2132:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>j});var s=t(5155),r=t(2115),i=t(7652),l=t(5695),n=t(4105),c=t(760),o=t(2108),d=t(6255),m=t(1004),x=t(6474),u=t(4416);function h(e){let{filters:a,setFilters:t,currentLocale:l}=e,c=(0,i.c3)(""),[o,d]=(0,r.useState)(!1),m=(0,r.useRef)(null);(0,r.useEffect)(()=>{function e(e){m.current&&!m.current.contains(e.target)&&d(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let h=e=>{t(a=>({...a,categories:a.categories.map(a=>a.id===e?{...a,selected:!a.selected}:a)}))},p=e=>{t(a=>({...a,categories:a.categories.map(a=>a.id===e?{...a,selected:!1}:a)}))};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex justify-center mb-4 mx-5",children:(0,s.jsxs)("div",{className:"relative",ref:m,children:[(0,s.jsxs)("button",{onClick:()=>{d(!o)},className:"flex items-center justify-between gap-2 px-4 py-3 bg-white border border-[#80ce97] rounded-md text-[#0f4229] min-w-[150px]","aria-expanded":o,"aria-label":c("products.category"),children:[a.categories.filter(e=>e.selected).length>0?(0,s.jsx)("span",{className:"truncate max-w-[100px]",children:a.categories.filter(e=>e.selected).map(e=>"ar"===l?e.name.ar:e.name.en).join(", ")}):(0,s.jsx)("span",{children:c("products.category")}),(0,s.jsx)(x.A,{className:"h-4 w-4"})]}),o&&(0,s.jsx)(n.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 mt-1 bg-white border border-[#80ce97] rounded-md shadow-lg z-10 min-w-[200px]",role:"menu","aria-label":c("products.categoryOptions"),children:(0,s.jsx)("div",{className:"p-2 space-y-2",children:a.categories.map(e=>(0,s.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:e.selected,onChange:()=>h(e.id),className:"rounded border-[#80ce97]","aria-label":"ar"===l?e.name.ar:e.name.en}),(0,s.jsx)("span",{className:"text-[#414141]",children:"ar"===l?e.name.ar:e.name.en})]},e.id))})})]})}),a.categories.some(e=>e.selected)&&(0,s.jsxs)(n.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"flex flex-wrap items-center gap-2 mb-6 justify-center",children:[a.categories.map(e=>e.selected?(0,s.jsxs)(n.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center gap-1 px-3 py-1 bg-[#80ce97]/20 rounded-full text-sm",children:[(0,s.jsx)("span",{children:"ar"===l?e.name.ar:e.name.en}),(0,s.jsx)("button",{onClick:()=>p(e.id),className:"text-[#0f4229] hover:text-[#e75313]","aria-label":c("products.removeFilter",{name:"ar"===l?e.name.ar:e.name.en}),children:(0,s.jsx)(u.A,{className:"h-3 w-3"})})]},"category-".concat(e.id)):null),(0,s.jsx)("button",{onClick:()=>{t(e=>({...e,categories:e.categories.map(e=>({...e,selected:!1}))}))},className:"text-sm text-[#e75313] hover:underline","aria-label":c("products.clearAll"),children:c("products.clearAll")})]})]})}var p=t(9251),g=t(7924);function f(e){let{searchTerm:a,setSearchTerm:t,onSearch:r}=e,n=(0,i.c3)(""),c=(0,l.usePathname)().split("/")[1]||"ar";return(0,s.jsxs)("div",{className:"relative lg:min-w-xl sm:max-w-lg  mb-2 ",children:[(0,s.jsx)("input",{type:"text",value:a,onChange:e=>t(e.target.value),onKeyDown:e=>{"Enter"===e.key&&r()},placeholder:n("education.search"),className:"w-full py-3 px-4 pr-12 rounded-md border border-[#80ce97]/30 bg-white/80 focus:outline-none focus:ring-2 focus:ring-[#80ce97]"}),(0,s.jsx)("button",{onClick:r,className:"absolute top-6  -translate-y-1/2 bg-[#80ce97] p-2 rounded-full ".concat("ar"===c?"left-1":"right-1","   "),children:(0,s.jsx)(g.A,{className:"h-5 w-5 text-white"})})]})}var b=t(6720);function j(){let e=(0,i.c3)(""),a=(0,l.usePathname)().split("/")[1]||"ar",[t,x]=(0,r.useState)(""),[u,g]=(0,r.useState)(1),[j,y]=(0,r.useState)(!0),[w,v]=(0,r.useState)([]),[N,k]=(0,r.useState)({categories:[]}),[P,A]=(0,r.useState)(null),[C,_]=(0,r.useState)(!1),[S,E]=(0,r.useState)(!1);(0,r.useEffect)(()=>{E(!!(0,b.c4)())},[]);let L=async()=>{y(!0),A(null);try{let e=await (0,b.CF)(),t=[];S&&(t=await (0,b.l4)());let s=new Set(t.map(e=>e.id)),r=e.map(e=>({...e,bookmarked:s.has(e.id)}));v(r);let i=await (0,b.NW)(a),l=new Set(e.map(e=>"ar"===a?e.category_ar:e.category_en).filter(e=>!!e)),n=i.filter(e=>l.has("ar"===a?e.name.ar:e.name.en));k({categories:n})}catch(a){A(e("error.fetchFailed",{default:"Failed to fetch data"})),console.error("Fetch error:",a)}finally{y(!1)}};(0,r.useEffect)(()=>{L()},[a,S]),(0,r.useEffect)(()=>{g(1)},[t,N,C]);let B=w.filter(e=>{if(C&&!e.bookmarked)return!1;let t="ar"===a?e.category_ar:e.category_en;return!N.categories.some(e=>e.selected)||!!t&&N.categories.some(e=>e.selected&&("ar"===a?e.name.ar:e.name.en)===t)}).filter(e=>(("ar"===a?e.title_ar:e.title_en)||"").toLowerCase().includes(t.toLowerCase())||(("ar"===a?e.content_ar:e.content_en)||"").toLowerCase().includes(t.toLowerCase())),F=Math.ceil(B.length/6),O=(u-1)*6,R=B.slice(O,O+6),I={hidden:{opacity:0,y:30,rotate:2},visible:{opacity:1,y:0,rotate:0,transition:{type:"spring",stiffness:100,damping:15,duration:.5}},exit:{opacity:0,y:-30,rotate:-2,transition:{duration:.3,ease:"easeIn"}}},M=()=>(0,s.jsxs)(n.P.div,{className:"bg-white rounded-xl overflow-hidden shadow-sm h-[400px] animate-pulse",initial:{opacity:.7},animate:{opacity:[.7,1,.7]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:[(0,s.jsx)("div",{className:"h-56 w-full bg-gray-300"}),(0,s.jsxs)("div",{className:"p-4 bg-gray-50 flex flex-col",children:[(0,s.jsx)("div",{className:"h-6 bg-gray-300 rounded w-3/4 mb-2"}),(0,s.jsx)("div",{className:"h-4 bg-gray-300 rounded w-full mb-1"}),(0,s.jsx)("div",{className:"h-4 bg-gray-300 rounded w-5/6"}),(0,s.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,s.jsx)("div",{className:"h-5 bg-gray-300 rounded-full w-20"}),(0,s.jsx)("div",{className:"h-4 bg-gray-300 rounded w-24"})]})]})]}),H=(e,a)=>"".concat(e.id,"-").concat(u,"-").concat(a);return(0,s.jsx)("div",{className:"min-h-screen bg-[#e8f5e9] mx-10",children:(0,s.jsxs)("main",{className:"container mx-auto px-5 py-2",children:[(0,s.jsx)("div",{className:"mb-4 mx-8",children:(0,s.jsx)(m.A,{pageName:"blog"})}),(0,s.jsx)("div",{className:"mb-3",children:(0,s.jsx)("div",{className:"flex flex-wrap items-center mb-4",children:(0,s.jsxs)("div",{className:"flex flex-wrap",children:[(0,s.jsx)(f,{searchTerm:t,setSearchTerm:x,onSearch:()=>{console.log("Search submitted:",t)}}),S&&(0,s.jsxs)(n.P.button,{onClick:()=>{_(e=>!e)},className:"flex items-center gap-2 px-4 py-2 rounded-md mb-5 ".concat(C?"bg-teal-600 text-white":"bg-white text-teal-600"," ").concat("ar"===a?"mr-10":"ml-2"," hover:bg-teal-600 hover:text-white transition-colors shadow-sm font-medium text-sm"),"aria-label":C?e("education.showAllPosts",{default:"Show All Posts"}):e("education.showBookmarked",{default:"Show Bookmarked Posts"}),variants:{idle:{scale:1,rotate:0},clicked:{scale:[1,1.2,.9,1],transition:{duration:.3}}},initial:"idle",animate:C?"clicked":"idle",whileHover:{scale:1.05},children:[(0,s.jsx)(o.A,{className:"h-5 w-5"}),(0,s.jsx)("span",{children:C?e("education.showAllPosts",{default:"Show All Posts"}):e("education.showBookmarked",{default:"Bookmarks"})})]}),(0,s.jsx)(h,{filters:N,setFilters:k,currentLocale:a})]})})}),P&&(0,s.jsx)(n.P.p,{className:"col-span-full text-center text-red-600",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:P}),(0,s.jsx)(n.P.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",variants:{hidden:{opacity:0,scale:.98},visible:{opacity:1,scale:1,transition:{duration:.5,ease:"easeOut",staggerChildren:.15}}},initial:"hidden",animate:"visible",children:j?Array.from({length:6}).map((e,a)=>(0,s.jsx)(M,{},"skeleton-".concat(a))):(0,s.jsx)(c.N,{mode:"popLayout",children:R.length>0?R.map((e,t)=>(0,s.jsx)(n.P.div,{variants:I,layout:!0,initial:"hidden",animate:"visible",exit:"exit",children:(0,s.jsx)(d.A,{post:e,currentLocale:a,setPosts:v,pageName:"blog"})},H(e,t))):(0,s.jsx)(n.P.p,{className:"col-span-full text-center text-[#0f4229]",variants:I,initial:"hidden",animate:"visible",exit:"exit",children:C?e("education.noBookmarkedPosts",{default:"No bookmarked posts found"}):e("education.noResults",{default:"No results found"})},"no-results")})}),!j&&F>1&&(0,s.jsx)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},children:(0,s.jsx)(p.A,{currentPage:u,totalPages:F,onPageChange:g})})]})})}},6255:(e,a,t)=>{"use strict";t.d(a,{A:()=>h});var s=t(5155),r=t(6766),i=t(6874),l=t.n(i),n=t(4105),c=t(2108),o=t(2138),d=t(7652),m=t(2115),x=t(6720),u=t(5695);function h(e){let{post:a,currentLocale:t,setPosts:i,pageName:h}=e,p=(0,d.c3)(),g=(0,u.useRouter)(),f="ar"===t?a.title_ar:a.title_en,b="ar"===t?a.content_ar:a.content_en,j="ar"===t?a.category_ar:a.category_en,[y,w]=(0,m.useState)(!1),v=async e=>{if(e.preventDefault(),e.stopPropagation(),!y){w(!0);try{let e=await (0,x.dC)(a.id);i&&i(t=>t.map(t=>t.id===a.id?{...t,bookmarked:e}:t))}catch(e){e instanceof Error&&(e.message.includes("Authentication required")||e.message.includes("No authentication token found"))?g.push("/".concat(t,"/login?redirect=/").concat(h)):console.error("Bookmark error:",e)}finally{w(!1)}}};return(0,s.jsx)(l(),{href:"/".concat(t,"/blog/").concat(a.id),scroll:!0,children:(0,s.jsxs)(n.P.div,{id:"blog-post-".concat(a.id),className:"bg-white rounded-xl overflow-hidden shadow-md border border-gray-200 relative",whileHover:{scale:1.05,boxShadow:"0 10px 20px rgba(0,0,0,0.2)"},transition:{duration:.3},dir:"ar"===t?"rtl":"ltr",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(r.default,{src:a.image||"/7.svg",width:400,height:300,alt:f,className:"w-full h-56 object-cover"}),(0,s.jsx)(n.P.button,{onClick:v,disabled:y,className:"absolute top-2 ".concat("ar"===t?"left-2":"right-2"," p-2 rounded-full ").concat(a.bookmarked?"bg-teal-600 text-white":"bg-white text-teal-600"," hover:bg-teal-600 hover:text-white transition-colors shadow-sm"),"aria-label":a.bookmarked?p("education.removeBookmark",{default:"Remove from Bookmarks"}):p("education.addBookmark",{default:"Add to Bookmarks"}),variants:{idle:{scale:1,rotate:0},clicked:{scale:[1,1.2,.9,1],rotate:[0,5,-5,0],transition:{duration:.3,ease:"easeInOut"}}},initial:"idle",animate:y?"clicked":"idle",whileHover:{scale:1.1},transition:{type:"spring",stiffness:300,damping:20},children:(0,s.jsx)(c.A,{className:"h-5 w-5"})})]}),(0,s.jsxs)("div",{className:"p-4 bg-green-50 min-h-[200px] flex flex-col justify-between",children:[(0,s.jsx)("h3",{className:"text-xl font-medium text-teal-600 mb-2",children:f}),(0,s.jsx)("p",{className:"text-sm text-gray-700 mb-4 line-clamp-3",children:b}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-sm text-teal-600 bg-teal-100 px-2 py-1 rounded-full",children:j}),(0,s.jsxs)("div",{className:"text-sm text-teal-600 flex items-center font-medium",children:[p("home.readMore",{default:"Read more"}),(0,s.jsx)(o.A,{className:"w-4 h-4 ".concat("ar"===t?"mr-1":"ml-1")})]})]})]})]})})}},6855:(e,a,t)=>{Promise.resolve().then(t.bind(t,2132))},9251:(e,a,t)=>{"use strict";t.d(a,{A:()=>l});var s=t(5155),r=t(7652),i=t(2115);function l(e){let{currentPage:a,totalPages:t,onPageChange:l}=e,n=(0,r.c3)(""),c=(0,i.useCallback)(e=>{l(e),window.scrollTo({top:0,behavior:"smooth"})},[l]);return(0,s.jsxs)("nav",{className:"flex flex-wrap justify-center mt-6 sm:mt-8 md:mt-10 gap-2 sm:gap-3 md:gap-4 px-4","aria-label":"Pagination",children:[(0,s.jsx)("button",{onClick:()=>c(a-1),disabled:1===a,className:"px-3 py-1.5 sm:px-4 sm:py-2 text-sm sm:text-base border border-[#80ce97] rounded-md text-[#0f4229] hover:bg-[#80ce97]/10 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 min-w-[80px] sm:min-w-[100px]","aria-label":n("pagination.prev"),children:n("pagination.prev")}),(()=>{let e=[];if(t<=5)return Array.from({length:t},(e,a)=>a+1);let s=Math.max(1,a-2),r=Math.min(t,a+2);s>1&&(e.push(1),s>2&&e.push("..."));for(let a=s;a<=r;a++)e.push(a);return r<t&&(r<t-1&&e.push("..."),e.push(t)),e})().map((e,t)=>"string"==typeof e?(0,s.jsx)("span",{className:"px-3 py-1.5 sm:px-4 sm:py-2 text-sm sm:text-base text-[#0f4229] flex items-center",children:e},"ellipsis-".concat(t)):(0,s.jsx)("button",{onClick:()=>c(e),className:"px-3 py-1.5 sm:px-4 sm:py-2 text-sm sm:text-base border rounded-md transition-colors duration-200 min-w-[40px] sm:min-w-[48px] ".concat(a===e?"bg-[#0f4229] border-[#0f4229] text-white":"border-[#80ce97] text-[#0f4229] hover:bg-[#80ce97]/10"),"aria-current":a===e?"page":void 0,children:e},e)),(0,s.jsx)("button",{onClick:()=>c(a+1),disabled:a===t,className:"px-3 py-1.5 sm:px-4 sm:py-2 text-sm sm:text-base border border-[#80ce97] rounded-md text-[#0f4229] hover:bg-[#80ce97]/10 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 min-w-[80px] sm:min-w-[100px]","aria-label":n("pagination.next"),children:n("pagination.next")})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[7652,7244,4105,6766,9326,6720,8441,1684,7358],()=>a(6855)),_N_E=e.O()}]);