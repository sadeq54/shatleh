(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2280],{668:(e,t,s)=>{"use strict";s.d(t,{A:()=>d,AuthProvider:()=>i});var r=s(5155),a=s(2115),l=s(5695),o=s(6720),c=s(5203);let n=(0,a.createContext)(void 0),i=e=>{let{children:t}=e,[i,d]=(0,a.useState)(!1),[m,u]=(0,a.useState)(null),x=(0,l.useRouter)(),h=(0,l.usePathname)().split("/")[1]||"en";(0,a.useEffect)(()=>{let e=localStorage.getItem("token"),t=localStorage.getItem("userId"),r=localStorage.getItem("tokenTimestamp");e&&t&&r&&(Date.now()-parseInt(r,10)>864e5?g():(d(!0),u(t),Promise.resolve().then(s.bind(s,5203)).then(e=>{let{useCartStore:s}=e;s.getState().syncWithBackend(t,h)}).catch(e=>{console.error("Error syncing cart on initial load:",e)})))},[h]);let y=async(e,t)=>{localStorage.setItem("token",e),localStorage.setItem("userId",t),localStorage.setItem("tokenTimestamp",Date.now().toString()),d(!0),u(t);try{await Promise.resolve().then(s.bind(s,5203)).then(e=>{let{useCartStore:s}=e;return s.getState().syncWithBackend(t,h)})}catch(e){console.error("Error syncing cart after login:",e)}},g=async()=>{try{let e=localStorage.getItem("token");if(!e)throw Error("No token found in localStorage for logout.");await (0,o.PZ)(e),console.log("Logout successful")}catch(e){console.error("Logout failed:",e)}localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("tokenTimestamp"),d(!1),u(null),c.useCartStore.getState().logout(),x.push("/".concat(h,"/login"))};return(0,r.jsx)(n.Provider,{value:{isAuthenticated:i,userId:m,login:y,logout:g},children:t})},d=()=>{let e=(0,a.useContext)(n);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},1004:(e,t,s)=>{"use strict";s.d(t,{A:()=>m});var r=s(5155),a=s(6874),l=s.n(a),o=s(2355),c=s(3052),n=s(7652),i=s(5695),d=s(2115);let m=(0,d.memo)(function(e){let{pageName:t,product:s}=e,a=(0,n.c3)(""),m=(0,i.usePathname)(),u=m.split("/")[1]||"ar",x=a("pages.".concat(t.toLocaleLowerCase()));return"ar"===u?(0,r.jsxs)("div",{className:"flex items-center text-sm mb-2",children:[(0,r.jsx)(l(),{href:"/",className:"text-[#025162]",children:a("home.title")}),(0,r.jsx)(o.A,{className:"h-4 w-4 mx-1 text-[#80ce97]"}),(0,r.jsx)(l(),{href:"/".concat(u,"/").concat(t),className:"text-[#025162]",children:(0,r.jsx)("span",{className:"text-[#025162]",children:x})}),s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.A,{className:"h-4 w-4 mx-1 text-[#80ce97]"}),(0,r.jsx)("span",{className:"text-[#025162]",children:s})]})]}):(0,r.jsxs)("div",{className:"flex items-center text-sm mb-2",children:[(0,r.jsx)(l(),{href:"/",className:"text-[#025162]",children:a("home.title")}),m.split("/").map((e,t)=>1!==t&&0!==t&&isNaN(parseInt(e))?(0,r.jsxs)(d.Fragment,{children:[(0,r.jsx)(c.A,{className:"h-4 w-4 mx-1 text-[#80ce97]"}),(0,r.jsx)(l(),{href:"/".concat(e),className:"text-[#025162]",children:(0,r.jsx)("span",{className:"text-[#025162]",children:e})})]},e):null),s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.A,{className:"h-4 w-4 mx-1 text-[#80ce97]"}),(0,r.jsx)("span",{className:"text-[#025162]",children:s})]})]})})},2355:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},2525:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},2629:(e,t,s)=>{"use strict";s.d(t,{_:()=>a});var r=s(2115);function a(e){let[t,s]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let t=document.querySelector(e);if(!t)return;let r=new IntersectionObserver(e=>{let[t]=e;s(t.isIntersecting)},{threshold:0});return r.observe(t),()=>r.disconnect()},[e]),t}},3052:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},5203:(e,t,s)=>{"use strict";s.r(t),s.d(t,{useCartStore:()=>c});var r=s(5453),a=s(6786),l=s(6720);let o=e=>e instanceof Error?e.message.includes("customer_id")||e.message.includes("The selected")?"Invalid user ID. Please log in again or contact support.":e.message.includes("POST method is not supported")?"Cart sync failed due to server configuration. Please try again later.":e.message||"Operation failed. Please try again.":"Operation failed.",c=(0,r.v)()((0,a.eh)((0,a.Zr)((e,t)=>({items:[],isLoading:!1,error:null,addItem:async(s,r,a)=>{e({isLoading:!0,error:null});let c=t().items;try{let o=c.find(e=>e.product_id===s.product_id),n=o?o.quantity+1:1,i={...s,id:(null==o?void 0:o.id)||Date.now(),customer_id:r||"guest",quantity:n};o?e({items:c.map(e=>e.product_id===s.product_id?i:e)}):e({items:[...c,i]}),r&&(await (0,l.V2)({customer_id:r,product_id:s.product_id,quantity:n},a),await t().syncWithBackend(r,a))}catch(t){console.error("Error adding item to cart:",t),e({items:c,error:o(t)})}finally{e({isLoading:!1})}},removeItem:async(s,r,a)=>{e({isLoading:!0,error:null});let c=t().items;try{let o=c.find(e=>e.product_id===s);if(!o)return;e({items:c.filter(e=>e.product_id!==s)}),r&&(await (0,l.V2)({customer_id:r,product_id:o.product_id,quantity:0},a),await t().syncWithBackend(r,a))}catch(t){console.error("Error removing item from cart:",t),e({items:c,error:o(t)})}finally{e({isLoading:!1})}},updateQuantity:async(s,r,a,c)=>{e({isLoading:!0,error:null});let n=t().items;try{let o=n.find(e=>e.product_id===s);if(!o)return;r<=0?e({items:n.filter(e=>e.product_id!==s)}):e({items:n.map(e=>e.product_id===s?{...e,quantity:r}:e)}),a&&(await (0,l.V2)({customer_id:a,product_id:o.product_id,quantity:r},c),await t().syncWithBackend(a,c))}catch(t){console.error("Error updating cart item quantity:",t),e({items:n,error:o(t)})}finally{e({isLoading:!1})}},clearCart:async(s,r)=>{e({isLoading:!0,error:null});let a=t().items,c=localStorage.getItem("token");try{e({items:[]}),s&&await (0,l.sX)(s,r,c),await t().syncWithBackend(s,r)}catch(t){console.error("Error clearing cart:",t),e({items:a,error:o(t)})}finally{e({isLoading:!1})}},syncWithBackend:async(s,r)=>{if(!s){console.warn("No user authenticated or server-side, skipping cart sync");return}if(!localStorage.getItem("token")){console.warn("No token found, skipping cart sync");return}e({isLoading:!0,error:null});try{let a=(await (0,l.Fy)(s,r)).map(e=>({id:e.id,product_id:e.product_id,customer_id:e.customer_id,name_en:e.name_en,name_ar:e.name_ar,description_en:e.description_en,description_ar:e.description_ar,price:e.price,image:e.image,quantity:e.quantity})),o=t().items.filter(e=>"guest"===e.customer_id||e.customer_id===s),c=[];for(let e of a)c.push(e);for(let e of o)c.some(t=>t.product_id===e.product_id)||c.push({...e,customer_id:s});for(let t of(e({items:c,error:null}),c))await (0,l.V2)({customer_id:s,product_id:t.product_id,quantity:t.quantity},r)}catch(t){console.error("Error syncing with backend:",t),e({error:o(t)})}finally{e({isLoading:!1})}},logout:()=>{e({items:[],error:null}),console.log("Cart cleared on logout")},total:()=>t().items.reduce((e,t)=>e+(parseFloat(t.price)||0)*t.quantity,0),totalItems:()=>t().items.reduce((e,t)=>e+t.quantity,0)}),{name:"cart-storage",partialize:e=>({items:e.items})})));(async()=>{let e=localStorage.getItem("token"),t=localStorage.getItem("userId");if(e&&t)try{let e=localStorage.getItem("locale")||"ar";await c.getState().syncWithBackend(t,e)}catch(e){console.error("Initial cart load error:",e)}})()},6217:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var r=s(5155),a=s(2115),l=s(7652),o=s(5695),c=s(2629),n=s(5203);function i(e,t){let s="string"==typeof e?parseFloat(e):e;if(isNaN(s))return"ar"===t?"غير متوفر":"Not available";let r=new Intl.NumberFormat("ar"===t?"ar-JO":"en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return"".concat(r.format(s)," ").concat("ar"===t?"د.أ":"JD")}let d=(0,a.memo)(function(){let e=(0,l.c3)("Cart"),t=(0,o.useRouter)(),s="en"===(0,o.usePathname)().split("/")[1]?"en":"ar",{items:d}=(0,n.useCartStore)(),[m,u]=(0,a.useState)(!1),{subtotal:x,shipping:h,tax:y,total:g}=((0,c._)(".footer"),(0,a.useMemo)(()=>{let e=d.reduce((e,t)=>e+(parseFloat(t.price)||0)*t.quantity,0);return{subtotal:e,shipping:2,tax:0,total:e+2+0}},[d])),p=(0,a.useCallback)(()=>{if(0===d.length){alert(e("empty"));return}u(!0),t.push("/".concat(s,"/checkout")),u(!1)},[d.length,s,t,e]);return(0,r.jsxs)("div",{className:"sticky-container p-6 w-full max-w-md sm:max-w-lg lg:max-w-lg min-h-[450px] sm:mx-auto lg:mx-0 flex flex-col z-10 ".concat("lg:sticky lg:top-24"),role:"region","aria-label":e("summary"),children:[(0,r.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold mb-10",style:{color:"var(--text-primary)"},children:e("summary")}),(0,r.jsxs)("div",{className:"space-y-6 mb-10 flex-grow",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm sm:text-base",children:[(0,r.jsx)("span",{style:{color:"var(--text-gray)"},children:e("subtotal")}),(0,r.jsx)("span",{className:"font-medium",children:i(x,s)})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm sm:text-base",children:[(0,r.jsx)("span",{style:{color:"var(--text-gray)"},dir:"ar"===s?"rtl":"ltr",children:e("shipping")}),(0,r.jsx)("span",{className:"font-medium",children:i(h,s)})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm sm:text-base",children:[(0,r.jsx)("span",{style:{color:"var(--text-gray)"},children:e("tax")}),(0,r.jsx)("span",{className:"font-medium",children:i(y,s)})]})]}),(0,r.jsx)("div",{className:"border-t pt-8 mb-10",style:{borderColor:"var(--accent-color)"},children:(0,r.jsxs)("div",{className:"flex justify-between items-center text-base sm:text-xl",children:[(0,r.jsx)("span",{className:"font-semibold",children:e("total")}),(0,r.jsx)("span",{className:"font-bold",children:i(g,s)})]})}),(0,r.jsx)("button",{onClick:p,disabled:m||0===d.length,className:"w-full py-4 text-white text-sm sm:text-base font-medium rounded-md transition-colors disabled:opacity-70 mt-auto hover:bg-[var(--text-hover)] hover:cursor-pointer",style:{backgroundColor:m||0===d.length?"var(--text-gray)":"var(--accent-color)"},"aria-label":m?e("processing"):e("checkout"),children:m?e("processing"):e("checkout")})]})});var m=s(6766),u=s(7712),x=s(4616),h=s(2525),y=s(6874),g=s.n(y),p=s(668);let v=(0,a.memo)(function(e){let{item:t,currentLocale:s}=e,o=(0,l.c3)("Cart"),[c,d]=(0,a.useState)(null),[y,v]=(0,a.useState)(!1),{updateQuantity:f,removeItem:b}=(0,n.useCartStore)(),{userId:j}=(0,p.A)(),[w,N]=(0,a.useState)(t.quantity);(0,a.useEffect)(()=>{let e=n.useCartStore.subscribe(e=>{var s;return null===(s=e.items.find(e=>e.product_id===t.product_id))||void 0===s?void 0:s.quantity},e=>{void 0!==e&&N(e)});return()=>e()},[t.product_id]);let k=null,C=(0,a.useCallback)(async e=>{if(e.preventDefault(),e.stopPropagation(),w<=1)return;let r=w-1;v(!0),d(null),k&&clearTimeout(k),k=setTimeout(async()=>{try{await f(t.product_id,r,j,s)}catch(e){d(o("updateQuantityError")),console.error("Error updating quantity:",e)}finally{v(!1)}},300)},[w,t.product_id,j,s,f,o]),_=(0,a.useCallback)(async e=>{e.preventDefault(),e.stopPropagation();let r=w+1;v(!0),d(null),k&&clearTimeout(k),k=setTimeout(async()=>{try{await f(t.product_id,r,j,s)}catch(e){d(o("updateQuantityError")),console.error("Error updating quantity:",e)}finally{v(!1)}},300)},[w,t.product_id,j,s,f,o]),S=(0,a.useCallback)(async e=>{e.preventDefault(),e.stopPropagation(),v(!0),d(null);try{await b(t.product_id,j,s)}catch(e){d(o("removeItemError")),console.error("Error removing item:",e)}finally{v(!1)}},[t.product_id,j,s,b,o]);return(0,r.jsxs)("div",{className:"rounded-lg overflow-hidden border shadow-sm w-full my-2 sm:my-3",style:{borderColor:"var(--secondary-bg)",backgroundColor:"var(--accent-color)"},children:[c&&(0,r.jsx)("div",{className:"text-red-500 text-xs sm:text-sm p-2 text-center",role:"alert",children:c}),(0,r.jsxs)("div",{className:"flex  sm:flex-row items-start sm:items-center p-3 sm:p-4",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center sm:items-start mx-1 sm:mx-3 mb-3 sm:mb-0",children:[(0,r.jsx)("div",{className:"w-20 h-20 sm:w-24 sm:h-24 relative",children:(0,r.jsx)(g(),{href:"/".concat(s,"/products/").concat(t.product_id),passHref:!0,children:(0,r.jsx)(m.default,{src:"http://127.0.0.1:8000"+t.image[0],alt:t.name_en||t.name_ar||"",fill:!0,className:"object-cover rounded",loading:"lazy"})})}),(0,r.jsxs)("p",{className:"font-semibold text-xs sm:hidden mt-2 text-center",style:{color:"var(--text-white)"},children:[o("price"),": ",i(t.price,s)]})]}),(0,r.jsx)("div",{className:"flex-1 w-[40%]",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[(0,r.jsxs)("div",{className:"mb-3 sm:mb-0 max-w-[40%] sm:max-w-[60%]",children:[(0,r.jsx)("h3",{className:"font-medium text-sm sm:text-base",style:{color:"var(--text-white)"},children:"en"===s?t.name_en:t.name_ar}),(t.description_en||t.description_ar)&&(0,r.jsx)("p",{className:"text-xs sm:text-sm text-[#dbdada] line-clamp-2 overflow-hidden",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflowWrap:"break-word",direction:"ar"===s?"rtl":"ltr"},children:"en"===s?t.description_en:t.description_ar})]}),(0,r.jsxs)("div",{className:"flex items-center sm:items-start space-x-2 sm:space-x-4 w-full sm:w-auto",children:[(0,r.jsx)("div",{className:"flex flex-col items-center",children:(0,r.jsxs)("div",{className:"flex items-center border rounded",style:{borderColor:"var(--secondary-bg)"},children:[(0,r.jsx)("button",{onClick:C,className:"w-7 h-7 flex items-center justify-center hover:cousor-pointer",style:{color:"var(--text-white)"},disabled:y||w<=1,"aria-label":o("decrement"),children:(0,r.jsx)(u.A,{className:"h-4 w-4"})}),(0,r.jsx)("span",{className:"w-7 text-center text-sm",style:{color:"var(--text-white)"},"aria-live":"polite",children:w}),(0,r.jsx)("button",{onClick:_,className:"w-7 h-7 flex items-center justify-center hover:cousor-pointer",style:{color:"var(--text-white)"},disabled:y,"aria-label":o("increment"),children:(0,r.jsx)(x.A,{className:"h-4 w-4"})})]})}),(0,r.jsxs)("div",{className:"flex flex-col items-end",children:[(0,r.jsxs)("p",{className:"font-semibold    text-sm hidden sm:block",style:{color:"var(--text-white)"},children:[o("price"),": ",i(t.price,s)]}),(0,r.jsx)("button",{onClick:S,className:"mt-2 hover:text-[var(--text-hover)] hover:cursor-pointer",style:{color:"#ef4444"},disabled:y,"aria-label":o("remove"),children:(0,r.jsx)(h.A,{className:"w-6 h-6"})})]})]})]})})]})]})}),f=(0,a.memo)(function(){let e=(0,l.c3)("Cart"),t="en"===(0,o.usePathname)().split("/")[1]?"en":"ar",{items:s}=(0,n.useCartStore)();return 0===s.length?(0,r.jsxs)("div",{className:"text-center py-8 sm:py-10",children:[(0,r.jsx)("p",{className:"text-base sm:text-lg",style:{color:"var(--text-primary)"},children:e("empty")}),(0,r.jsx)(g(),{href:"/".concat(t,"/products"),className:"mt-4 inline-block px-4 py-2 text-white text-sm sm:text-base rounded-md",style:{backgroundColor:"var(--accent-color)"},children:e("continueShopping")})]}):(0,r.jsx)("div",{className:"space-y-3 sm:space-y-4 w-full",children:s.map(e=>(0,r.jsx)(v,{item:e,currentLocale:t},e.id))})}),b=(0,a.memo)(function(){return(0,r.jsx)("div",{className:"min-h-screen",style:{backgroundColor:"var(--primary-bg)"},children:(0,r.jsxs)("main",{className:"container mx-auto max-w-5/6 px-4 sm:px-6 lg:px-8 py-6 animate-pulse",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"h-4 w-24 rounded",style:{backgroundColor:"var(--secondary-bg)"}}),(0,r.jsx)("div",{className:"h-4 w-4 rounded",style:{backgroundColor:"var(--secondary-bg)"}}),(0,r.jsx)("div",{className:"h-4 w-16 rounded",style:{backgroundColor:"var(--secondary-bg)"}})]}),(0,r.jsx)("div",{className:"h-8 w-48 mt-4 rounded",style:{backgroundColor:"var(--secondary-bg)"}})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-4 sm:gap-6",children:[(0,r.jsx)("div",{className:"lg:col-span-3 space-y-3 sm:space-y-4",children:Array.from({length:3}).map((e,t)=>(0,r.jsx)("div",{className:"rounded-lg overflow-hidden border shadow-sm w-full my-2 sm:my-3",style:{borderColor:"var(--secondary-bg)",backgroundColor:"var(--accent-color)"},children:(0,r.jsxs)("div",{className:"flex sm:flex-row items-start sm:items-center p-3 sm:p-4",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center sm:items-start mx-1 sm:mx-3 mb-3 sm:mb-0",children:[(0,r.jsx)("div",{className:"w-20 h-20 sm:w-24 sm:h-24 rounded",style:{backgroundColor:"var(--secondary-bg)"}}),(0,r.jsx)("div",{className:"h-4 w-16 sm:hidden mt-2 rounded",style:{backgroundColor:"var(--secondary-bg)"}})]}),(0,r.jsx)("div",{className:"flex-1 w-[40%]",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[(0,r.jsxs)("div",{className:"mb-3 sm:mb-0 max-w-[40%] sm:max-w-[60%]",children:[(0,r.jsx)("div",{className:"h-5 w-32 sm:w-48 rounded",style:{backgroundColor:"var(--secondary-bg)"}}),(0,r.jsx)("div",{className:"h-4 w-24 sm:w-36 mt-2 rounded",style:{backgroundColor:"var(--secondary-bg)"}}),(0,r.jsx)("div",{className:"h-4 w-20 sm:w-32 mt-1 rounded",style:{backgroundColor:"var(--secondary-bg)"}})]}),(0,r.jsxs)("div",{className:"flex items-center sm:items-start space-x-2 sm:space-x-4 w-full sm:w-auto",children:[(0,r.jsx)("div",{className:"flex flex-col items-center",children:(0,r.jsxs)("div",{className:"flex items-center border rounded",style:{borderColor:"var(--secondary-bg)"},children:[(0,r.jsx)("div",{className:"w-7 h-7 rounded",style:{backgroundColor:"var(--secondary-bg)"}}),(0,r.jsx)("div",{className:"w-7 h-4 mx-1 rounded",style:{backgroundColor:"var(--secondary-bg)"}}),(0,r.jsx)("div",{className:"w-7 h-7 rounded",style:{backgroundColor:"var(--secondary-bg)"}})]})}),(0,r.jsxs)("div",{className:"flex flex-col items-end",children:[(0,r.jsx)("div",{className:"h-4 w-16 hidden sm:block rounded",style:{backgroundColor:"var(--secondary-bg)"}}),(0,r.jsx)("div",{className:"h-6 w-6 mt-2 rounded",style:{backgroundColor:"var(--secondary-bg)"}})]})]})]})})]})},t))}),(0,r.jsx)("div",{className:"lg:col-span-2 py-6 lg:py-0",children:(0,r.jsxs)("div",{className:"p-6 w-full max-w-md sm:max-w-lg lg:max-w-lg min-h-[450px] flex flex-col",style:{backgroundColor:"var(--accent-color)"},children:[(0,r.jsx)("div",{className:"h-6 w-32 mb-10 rounded",style:{backgroundColor:"var(--secondary-bg)"}}),(0,r.jsxs)("div",{className:"space-y-6 mb-10 flex-grow",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("div",{className:"h-4 w-20 rounded",style:{backgroundColor:"var(--secondary-bg)"}}),(0,r.jsx)("div",{className:"h-4 w-16 rounded",style:{backgroundColor:"var(--secondary-bg)"}})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("div",{className:"h-4 w-20 rounded",style:{backgroundColor:"var(--secondary-bg)"}}),(0,r.jsx)("div",{className:"h-4 w-16 rounded",style:{backgroundColor:"var(--secondary-bg)"}})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("div",{className:"h-4 w-20 rounded",style:{backgroundColor:"var(--secondary-bg)"}}),(0,r.jsx)("div",{className:"h-4 w-16 rounded",style:{backgroundColor:"var(--secondary-bg)"}})]})]}),(0,r.jsx)("div",{className:"border-t pt-8 mb-10",style:{borderColor:"var(--accent-color)"},children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("div",{className:"h-5 w-20 rounded",style:{backgroundColor:"var(--secondary-bg)"}}),(0,r.jsx)("div",{className:"h-5 w-24 rounded",style:{backgroundColor:"var(--secondary-bg)"}})]})}),(0,r.jsx)("div",{className:"h-12 w-full rounded-md mt-auto",style:{backgroundColor:"var(--secondary-bg)"}})]})})]})]})})});var j=s(1004);function w(){let e=(0,l.c3)("Cart"),t="en"===(0,o.usePathname)().split("/")[1]?"en":"ar",{userId:s}=(0,p.A)(),c=(0,n.useCartStore)(e=>e.syncWithBackend),[i,m]=(0,a.useState)(!0),u=(0,a.useCallback)(async()=>{if(s)try{await c(s,t)}finally{m(!1)}else m(!1)},[s,t,c]);return((0,a.useEffect)(()=>{u()},[u]),i)?(0,r.jsx)(b,{}):(0,r.jsx)("div",{className:"min-h-screen",style:{backgroundColor:"var(--primary-bg)"},children:(0,r.jsxs)("main",{className:"container mx-auto max-w-5/6 px-4 sm:px-6 lg:px-8 py-6",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)(j.A,{pageName:"cart"}),(0,r.jsx)("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold mt-4",style:{color:"var(--text-primary)"},children:e("title")})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-4 sm:gap-6",children:[(0,r.jsx)("div",{className:"lg:col-span-3",children:(0,r.jsx)(f,{})}),(0,r.jsx)("div",{className:"lg:col-span-2 py-6 lg:py-0",children:(0,r.jsx)(d,{})})]})]})})}},6245:(e,t,s)=>{Promise.resolve().then(s.bind(s,6217))}},e=>{var t=t=>e(e.s=t);e.O(0,[7652,7244,6766,5950,6720,8441,1684,7358],()=>t(6245)),_N_E=e.O()}]);