(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1372],{1004:(e,t,s)=>{"use strict";s.d(t,{A:()=>x});var a=s(5155),i=s(6874),r=s.n(i),l=s(2355),d=s(3052),n=s(7652),c=s(5695),o=s(2115);let x=(0,o.memo)(function(e){let{pageName:t,product:s}=e,i=(0,n.c3)(""),x=(0,c.usePathname)(),m=x.split("/")[1]||"ar",p=i("pages.".concat(t.toLocaleLowerCase()));return"ar"===m?(0,a.jsxs)("div",{className:"flex items-center text-sm mb-2",children:[(0,a.jsx)(r(),{href:"/",className:"text-[#025162]",children:i("home.title")}),(0,a.jsx)(l.A,{className:"h-4 w-4 mx-1 text-[#80ce97]"}),(0,a.jsx)(r(),{href:"/".concat(m,"/").concat(t),className:"text-[#025162]",children:(0,a.jsx)("span",{className:"text-[#025162]",children:p})}),s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.A,{className:"h-4 w-4 mx-1 text-[#80ce97]"}),(0,a.jsx)("span",{className:"text-[#025162]",children:s})]})]}):(0,a.jsxs)("div",{className:"flex items-center text-sm mb-2",children:[(0,a.jsx)(r(),{href:"/",className:"text-[#025162]",children:i("home.title")}),x.split("/").map((e,t)=>1!==t&&0!==t&&isNaN(parseInt(e))?(0,a.jsxs)(o.Fragment,{children:[(0,a.jsx)(d.A,{className:"h-4 w-4 mx-1 text-[#80ce97]"}),(0,a.jsx)(r(),{href:"/".concat(e),className:"text-[#025162]",children:(0,a.jsx)("span",{className:"text-[#025162]",children:e})})]},e):null),s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.A,{className:"h-4 w-4 mx-1 text-[#80ce97]"}),(0,a.jsx)("span",{className:"text-[#025162]",children:s})]})]})})},2355:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},2525:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},3052:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},4416:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5130:(e,t,s)=>{"use strict";s.d(t,{ProductProvider:()=>d,Q:()=>n});var a=s(5155),i=s(2115),r=s(6720);let l=(0,i.createContext)(void 0),d=e=>{let{children:t}=e,[s,d]=(0,i.useState)([]),[n,c]=(0,i.useState)(!0),[o,x]=(0,i.useState)([]);return(0,i.useEffect)(()=>{(async()=>{c(!0);try{let e=await (0,r.eN)(o.length>0?o:void 0);d(e)}catch(e){console.error("Failed to load products:",e)}finally{c(!1)}})()},[o]),(0,a.jsx)(l.Provider,{value:{allProducts:s,isLoading:n,setCategoryIds:x},children:t})},n=()=>{let e=(0,i.useContext)(l);if(!e)throw Error("useProducts must be used within a ProductProvider");return e}},5464:(e,t,s)=>{Promise.resolve().then(s.bind(s,9326))},6474:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},6661:()=>{},7863:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},9326:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>B});var a=s(5155),i=s(2115),r=s(8564),l=s(7809),d=s(7712),n=s(4616);let c=(0,s(9946).A)("shopping-bag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);var o=s(9137),x=s.n(o),m=s(5695),p=s(82),h=s(7677),u=s(1036);s(2252),s(6661),s(6970),s(9408);let w=(0,i.memo)(function(e){let{products:t}=e,s=(0,m.usePathname)().split("/")[1]||"ar",[r,l]=(0,i.useState)(4),[d,n]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{let e=()=>{n(window.innerWidth<640),window.innerWidth<480?l(1):window.innerWidth<640?l(1):window.innerWidth<768?l(2):window.innerWidth<1024?l(3):l(4)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,a.jsxs)("div",{className:"jsx-3fee632e3eff2031 w-full relative",children:[(0,a.jsx)(h.RC,{modules:[u.Vx,u.dK,u.Ij,u.Jq],spaceBetween:16,slidesPerView:r,navigation:{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"},pagination:{clickable:!0,el:".swiper-pagination"},autoplay:{delay:1e3,disableOnInteraction:!0,pauseOnMouseEnter:d},loop:t.length>r,dir:"ar"===s?"rtl":"ltr",className:"w-full py-4",grabCursor:!0,centeredSlides:!1,speed:1e3,watchSlidesProgress:!0,updateOnWindowResize:!0,breakpoints:{320:{slidesPerView:1,spaceBetween:8,centeredSlides:!1},480:{slidesPerView:1,spaceBetween:12,centeredSlides:!1},640:{slidesPerView:2,spaceBetween:16,centeredSlides:!1},768:{slidesPerView:3,spaceBetween:16,centeredSlides:!1},1024:{slidesPerView:4,spaceBetween:16,centeredSlides:!1},1280:{slidesPerView:4,spaceBetween:16,centeredSlides:!1}},children:t.map((e,t)=>(0,a.jsx)(h.qr,{className:"flex justify-center items-center mb-6",children:(0,a.jsx)("div",{className:"jsx-3fee632e3eff2031 w-full max-w-[280px] flex justify-center items-center",children:(0,a.jsx)(p.A,{product:{...e,image:Array.isArray(e.image)?e.image:[e.image]},index:t,pageName:"products"})})},e.id))}),(0,a.jsx)("div",{className:"jsx-3fee632e3eff2031 swiper-pagination flex justify-center mt-4"}),(0,a.jsx)(x(),{id:"3fee632e3eff2031",children:":root{--swiper-navigation-color:#026e78;--swiper-pagination-color:#026e78;--swiper-pagination-bullet-inactive-color:#d0d5dd}.swiper-button-prev,.swiper-button-next{background-color:rgba(255,255,255,.8);-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;width:40px;height:40px;-webkit-transition:background-color.3s;-moz-transition:background-color.3s;-o-transition:background-color.3s;transition:background-color.3s}.swiper-button-prev:hover,.swiper-button-next:hover{background-color:rgba(255,255,255,1)}.swiper-button-prev:after,.swiper-button-next:after{font-size:18px}.swiper-slide{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;height:auto;width:auto!important}.swiper-slide>div{width:100%;max-width:280px}.swiper-pagination-bullet{width:8px;height:8px;background-color:#68f16c;opacity:.5}.swiper-pagination-bullet-active{width:16px;height:8px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;background-color:#337a5b;opacity:1}@media(max-width:479px){.swiper-slide>div{max-width:100%}.swiper-button-prev,.swiper-button-next{width:28px;height:28px}.swiper-button-prev:after,.swiper-button-next:after{font-size:12px}.swiper{padding:0 8px}}@media(min-width:480px)and (max-width:639px){.swiper-slide>div{max-width:300px}.swiper-button-prev,.swiper-button-next{width:30px;height:30px}.swiper-button-prev:after,.swiper-button-next:after{font-size:14px}.swiper{padding:0 10px}}@media(min-width:640px)and (max-width:767px){.swiper-slide>div{max-width:280px}.swiper-button-prev,.swiper-button-next{width:32px;height:32px}.swiper-button-prev:after,.swiper-button-next:after{font-size:16px}.swiper{padding:0 12px}}@media(min-width:768px)and (max-width:1023px){.swiper-slide>div{max-width:280px}.swiper-button-prev,.swiper-button-next{width:36px;height:36px}.swiper-button-prev:after,.swiper-button-next:after{font-size:16px}.swiper{padding:0 16px}}@media(min-width:1024px){.swiper-slide>div{max-width:280px}.swiper-button-prev,.swiper-button-next{width:40px;height:40px}.swiper-button-prev:after,.swiper-button-next:after{font-size:18px}.swiper{padding:0 16px}}"})]})});var f=s(760),b=s(4105),g=s(4416),j=s(2525),v=s(6766),N=s(5203),y=s(7652),k=s(6874),A=s.n(k),_=s(668);function C(e){let{isOpen:t,onClose:s}=e,r=(0,y.c3)(""),c=(0,m.usePathname)().split("/")[1]||"ar",{items:o,updateQuantity:x,removeItem:p,total:h,isLoading:u}=(0,N.useCartStore)(),{userId:w}=(0,_.A)();(0,i.useEffect)(()=>{let e=e=>{"Escape"===e.key&&s()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[s]),(0,i.useEffect)(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[t]);let k=async(e,t)=>{t<=0?await p(e.product_id,w,c):await x(e.product_id,t,w,c)},C=e=>e.match(/[^0-9.,]/)?e:"en"===c?"".concat(e," JD"):"".concat(e," د.أ");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.N,{children:t&&(0,a.jsx)(b.P.div,{initial:{opacity:0},animate:{opacity:.5},exit:{opacity:0},className:"fixed inset-0 bg-black z-50",onClick:s})}),(0,a.jsx)(f.N,{children:t&&(0,a.jsxs)(b.P.div,{initial:{x:"ar"===c?"-100%":"100%"},animate:{x:0},exit:{x:"ar"===c?"-100%":"100%"},transition:{type:"tween",ease:"easeInOut",duration:.3},className:"fixed top-17x  ".concat("ar"===c?"left-0 rounded-r-lg":"right-0 rounded-l-lg"," h-[90vh] w-full sm:w-96 bg-white shadow-xl z-50 flex flex-col "),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,a.jsxs)("h2",{className:"text-xl font-medium flex items-center",children:[r("Cart.title"),(0,a.jsx)(l.A,{className:"mx-2 h-5 w-5"})]}),(0,a.jsx)("button",{onClick:s,className:"p-1 rounded-full hover:bg-gray-100 transition-colors",children:(0,a.jsx)(g.A,{className:"h-6 w-6"})})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:0===o.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center text-gray-500",children:[(0,a.jsx)(l.A,{className:"h-16 w-16 mb-4 opacity-20"}),(0,a.jsx)("p",{className:"text-lg font-medium",children:r("Cart.empty")}),(0,a.jsx)("p",{className:"mt-1",children:r("Cart.addProducts",{defaultMessage:"Add some products to your cart"})}),(0,a.jsx)("button",{onClick:s,className:"mt-6 bg-[#337a5b] text-white px-4 py-2 rounded-md hover:bg-[#025162] transition-colors",children:r("Cart.continueShopping")})]}):o.map(e=>(0,a.jsxs)("div",{className:"flex border-b pb-4",children:[(0,a.jsx)("div",{className:"h-20 w-20 flex-shrink-0 overflow-hidden rounded-md border border-gray-200 mx-2",children:(0,a.jsx)(v.default,{src:"http://127.0.0.1:8000"+e.image[0],alt:"en"===c?e.name_en:e.name_ar||"product",width:80,height:80,className:"h-full w-full object-cover object-center"})}),(0,a.jsxs)("div",{className:"mx-4 flex flex-1 flex-col",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[(0,a.jsx)("h3",{children:"en"===c?e.name_en:e.name_ar}),(0,a.jsx)("p",{children:C(e.price)})]})}),(0,a.jsxs)("div",{className:"flex flex-1 items-end justify-between text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center border rounded-md",children:[(0,a.jsx)("button",{onClick:()=>k(e,e.quantity-1),disabled:u,className:"px-2 py-1 text-gray-600 hover:bg-gray-100",children:(0,a.jsx)(d.A,{className:"h-3 w-3"})}),(0,a.jsx)("span",{className:"px-2 py-1 min-w-[30px] text-center",children:e.quantity}),(0,a.jsx)("button",{onClick:()=>k(e,e.quantity+1),disabled:u,className:"px-2 py-1 text-gray-600 hover:bg-gray-100",children:(0,a.jsx)(n.A,{className:"h-3 w-3"})})]}),(0,a.jsx)("button",{type:"button",onClick:()=>p(e.product_id,w,c),disabled:u,className:"font-medium text-[#337a5b] hover:text-[#025162]",children:(0,a.jsx)(j.A,{className:"h-4 w-4"})})]})]})]},e.id))}),o.length>0&&(0,a.jsxs)("div",{className:"border-t border-gray-200 p-4 space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[(0,a.jsx)("p",{children:r("Cart.total")}),(0,a.jsx)("p",{children:C(h().toFixed(2))})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:r("Cart.shippingTaxes",{defaultMessage:"Shipping and taxes calculated at checkout."})}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)(A(),{href:"/".concat(c,"/checkout"),children:(0,a.jsx)("button",{className:"w-full bg-[#20c015] hover:bg-[#27eb00] text-white px-6 py-3 rounded-md transition-colors",children:r("Cart.checkout")})})}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("button",{onClick:s,className:"w-full text-center text-[#337a5b] hover:text-[#025162] text-sm",children:r("Cart.continueShopping")})})]})]})})]})}function P(){let e=(0,m.usePathname)().split("/")[1]||"ar";return(0,a.jsxs)("div",{className:"min-h-screen bg-[#e8f5e9] overflow-hidden ".concat("ar"===e?"rtl":"ltr"),children:[(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-8",children:[(0,a.jsxs)("div",{className:"md:w-1/2 lg:w-5/12",children:[(0,a.jsx)("div",{className:"h-6 w-3/4 bg-gray-300 rounded mb-4 animate-pulse"}),(0,a.jsx)("div",{className:"h-[400px] w-full bg-gray-300 rounded-lg animate-pulse"})]}),(0,a.jsxs)("div",{className:"md:w-1/2 lg:w-7/12",children:[(0,a.jsx)("div",{className:"h-8 w-3/4 bg-gray-300 rounded mb-3 animate-pulse"}),(0,a.jsx)("div",{className:"h-4 w-full bg-gray-300 rounded mb-4 animate-pulse"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-3",children:(0,a.jsx)("div",{className:"h-6 w-24 bg-gray-300 rounded-full animate-pulse"})}),(0,a.jsx)("div",{className:"flex mb-4",children:Array.from({length:5}).map((e,t)=>(0,a.jsx)("div",{className:"h-5 w-5 bg-gray-300 rounded-full mr-1 animate-pulse"},t))}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("div",{className:"h-4 w-16 bg-gray-300 rounded mb-2 animate-pulse"}),(0,a.jsx)("div",{className:"h-8 w-32 bg-gray-300 rounded animate-pulse"})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 items-center",children:[(0,a.jsx)("div",{className:"h-10 w-32 bg-gray-300 rounded-md animate-pulse"}),(0,a.jsx)("div",{className:"h-10 w-32 bg-gray-300 rounded-full animate-pulse"}),(0,a.jsx)("div",{className:"h-10 w-32 bg-gray-300 rounded-full animate-pulse"})]})]})]})}),(0,a.jsxs)("div",{className:"md:max-w-7xl mx-auto px-4 py-12",children:[(0,a.jsx)("div",{className:"flex border-b border-[#d0d5dd] mb-6",children:Array.from({length:3}).map((e,t)=>(0,a.jsx)("div",{className:"h-10 w-24 bg-gray-300 rounded mr-4 animate-pulse"},t))}),(0,a.jsx)("div",{className:"h-[300px] w-full bg-gray-300 rounded-lg animate-pulse"})]}),(0,a.jsx)("div",{className:"border-t border-[#d0d5dd] py-8 bg-[#e8f5e9]",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4",children:[(0,a.jsx)("div",{className:"h-6 w-48 mx-auto bg-gray-300 rounded mb-8 animate-pulse"}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-10",children:Array.from({length:4}).map((e,t)=>(0,a.jsxs)("div",{className:"bg-[#337a5b] rounded-xl p-4 flex flex-col justify-between h-[400px] min-w-[280px] max-w-[280px] mx-2 animate-pulse",children:[(0,a.jsx)("div",{className:"h-[270px] w-full bg-gray-300 rounded-lg"}),(0,a.jsxs)("div",{className:"flex flex-col flex-grow",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-300 rounded w-3/4 mx-auto mt-2"}),(0,a.jsx)("div",{className:"h-4 bg-gray-300 rounded w-full mt-2"}),(0,a.jsx)("div",{className:"flex justify-center mt-2",children:Array.from({length:5}).map((e,t)=>(0,a.jsx)("div",{className:"h-4 w-4 bg-gray-300 rounded-full mx-1"},t))}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-300 rounded w-1/3"}),(0,a.jsx)("div",{className:"h-8 w-8 bg-gray-300 rounded-md"})]})]})]},t))})]})})]})}var S=s(1004),E=s(5130),M=s(3999),F=s(6720),z=s(7863),L=s(6474);function V(e){let{shortDescription:t,fullDescription:s,moreText:r="More ...",lessText:l="Less"}=e,[d,n]=(0,i.useState)(!1);return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(f.N,{initial:!1,mode:"wait",children:d?(0,a.jsx)(b.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-[#337a5b] leading-relaxed",children:s},"expanded"):(0,a.jsx)(b.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-[#337a5b] leading-relaxed",children:t},"collapsed")}),(0,a.jsx)("button",{onClick:()=>n(!d),className:"flex items-center text-[#86f607] font-medium hover:text-[#27eb00] transition-colors",children:d?(0,a.jsxs)(a.Fragment,{children:[l," ",(0,a.jsx)(z.A,{className:"ml-1 w-4 h-4"})]}):(0,a.jsxs)(a.Fragment,{children:[r," ",(0,a.jsx)(L.A,{className:"ml-1 w-4 h-4"})]})})]})}function q(e){let{tabs:t,initialTab:s}=e,[r,l]=(0,i.useState)(s||t[0].id);return(0,a.jsxs)("div",{className:"w-full max-w-4xl",children:[(0,a.jsx)("div",{className:"relative flex border-b border-[#d0d5dd] mb-6",children:t.map(e=>(0,a.jsxs)("button",{onClick:()=>l(e.id),className:"md:px-6 px-3 py-3 text-lg font-medium relative ".concat(r===e.id?"text-[#337a5b]":"text-[#667085]"),children:[e.label,r===e.id&&(0,a.jsx)(b.P.div,{className:"absolute bottom-0 left-0 right-0 h-1 bg-[#337a5b]",layoutId:"activeTab",initial:!1})]},e.id))}),(0,a.jsx)("div",{className:"relative overflow-hidden min-h-[300px]",children:t.map(e=>(0,a.jsx)(b.P.div,{initial:{opacity:0,x:r===e.id?0:r===t[0].id?100:-100},animate:{opacity:+(r===e.id),x:r===e.id?0:r===t[0].id?100:-100,position:r===e.id?"relative":"absolute"},transition:{duration:.5,ease:"easeInOut"},className:"w-full text-[#337a5b]",children:e.content},e.id))})]})}var I=s(2355),O=s(3052);function T(e){let{images:t,productName:s}=e,r=(0,y.c3)(""),[l,d]=(0,i.useState)(0),[n,c]=(0,i.useState)(0),o=e=>{c(e>l?1:-1),d(e)};return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"relative w-full h-[400px] rounded-lg overflow-hidden",children:[(0,a.jsx)(f.N,{initial:!1,custom:n,children:(0,a.jsx)(b.P.div,{custom:n,variants:{enter:e=>({x:e>0?100:-100,opacity:0}),center:{x:0,opacity:1},exit:e=>({x:e>0?-100:100,opacity:0})},initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.3}},className:"absolute w-full h-full",children:(0,a.jsx)(v.default,{src:"".concat("http://127.0.0.1:8000").concat(t[l]),alt:"".concat(s," - ").concat(l+1),width:700,height:400,className:"w-full h-full object-contain",priority:!0})},l)}),t.length>1&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.P.button,{onClick:()=>{c(-1),d(e=>0===e?t.length-1:e-1)},className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-white/80 p-2 rounded-full shadow-md hover:bg-white transition-colors hover:cursor-pointer","aria-label":r("products.previousImage"),children:(0,a.jsx)(I.A,{className:"w-6 h-6 text-[#026e78]"})}),(0,a.jsx)(b.P.button,{onClick:()=>{c(1),d(e=>e===t.length-1?0:e+1)},whileHover:{scale:1.1,opacity:1},whileTap:{scale:.95},className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-white/80 p-2 rounded-full shadow-md hover:bg-white transition-colors hover:cursor-pointer","aria-label":r("products.nextImage"),children:(0,a.jsx)(O.A,{className:"w-6 h-6 text-[#026e78] hover:cursor-pointer"})})]})]}),t.length>1&&(0,a.jsx)("div",{className:"flex justify-center gap-2 mt-4 overflow-x-auto pb-2",children:t.map((e,t)=>(0,a.jsx)(b.P.button,{onClick:()=>o(t),whileHover:{scale:1.05,opacity:1},whileTap:{scale:.95},className:"relative w-16 h-16 rounded-md overflow-hidden border-2 ".concat(l===t?"border-[#026e78] opacity-100":"border-transparent opacity-80"," hover:cursor-pointer"),children:(0,a.jsx)(v.default,{src:"".concat("http://127.0.0.1:8000").concat(e),alt:"".concat(s," - ").concat(t+1),width:64,height:64,className:"w-full h-full object-cover"})},t))})]})}function B(){let e=(0,y.c3)(""),t=(0,m.useParams)(),s=(0,m.usePathname)(),o=(0,m.useRouter)(),x=s.split("/")[1]||"ar",p=parseInt(t.id),[h,u]=(0,i.useState)(!1),{items:f,addItem:b,updateQuantity:g,isLoading:j}=(0,N.useCartStore)(),{allProducts:v,isLoading:k}=(0,E.Q)(),{userId:A}=(0,_.A)(),[z,L]=(0,i.useState)(!1),[I,O]=(0,i.useState)([]),[B,W]=(0,i.useState)(""),[R,D]=(0,i.useState)(""),[H,J]=(0,i.useState)(!0),[Q,K]=(0,i.useState)([]),[Z,$]=(0,i.useState)(0),[G,U]=(0,i.useState)(!0),X=v.find(e=>e.id===p);(0,i.useEffect)(()=>{(async()=>{J(!0);try{let e=await (0,F.jE)();O(e)}catch(e){console.error("Failed to load categories:",e),O([])}finally{J(!1)}})()},[]),(0,i.useEffect)(()=>{if(X&&X.categories&&X.categories.length>0&&I.length>0){let e="",t="";X.categories.forEach(s=>{for(let a of I){a.id===s.id&&null===s.parent_id&&(e="ar"===x?a.name.ar:a.name.en);let i=a.subcategories.find(e=>e.id===s.id&&null!==s.parent_id);i&&(e="ar"===x?a.name.ar:a.name.en,t="ar"===x?i.name.ar:i.name.en)}}),W(e),D(t)}else W(""),D("")},[X,I,x]),(0,i.useEffect)(()=>{let e=async()=>{U(!0);try{let{reviews:e,averageRating:t}=await (0,F.Lw)(p);K(e),$(t)}catch(e){console.error("Failed to load reviews:",e),K([]),$(0)}finally{U(!1)}};p&&e()},[p]);let Y=async e=>{if(X){L(!0);try{await g(X.id,e,A,x)}catch(e){console.error("Error updating quantity:",e)}finally{L(!1)}}},ee=async()=>{if(X){L(!0);try{await b({product_id:X.id,name_en:X.name_en,name_ar:X.name_ar,description_en:X.description_en,description_ar:X.description_ar,price:X.price,image:X.image[0]},A,x),u(!0)}catch(e){console.error("Error adding to cart:",e)}finally{L(!1)}}},et=async()=>{if(X){L(!0);try{let e=f.find(e=>e.product_id===X.id);e?e.quantity!==ec&&await g(X.id,ec,A,x):await b({product_id:X.id,name_en:X.name_en,name_ar:X.name_ar,description_en:X.description_en,description_ar:X.description_ar,price:X.price,image:X.image[0]},A,x),o.push("/".concat(x,"/checkout"))}catch(e){console.error("Error during buy now:",e)}finally{L(!1)}}},es=X&&("en"===x?X.description_en:X.description_ar)||"",ea=es.split("\n").filter(e=>e.trim()),ei=ea.slice(0,3).join("\n"),er=ea.length>5,el=(0,i.useMemo)(()=>X?(0,M.S)(X,v,I):[],[X,v,I]),ed=[{id:"description",label:e("products.description",{defaultMessage:"en"===x?"Description":"الوصف"}),content:(0,a.jsx)("div",{className:"text-[#667085]",children:er?(0,a.jsx)(V,{shortDescription:ei,fullDescription:es,moreText:e("products.readMore",{defaultMessage:"en"===x?"More ...":"المزيد ..."}),lessText:e("products.readLess",{defaultMessage:"en"===x?"Less":"أقل"})}):(0,a.jsx)("p",{children:es})})},{id:"reviews",label:e("products.reviews",{defaultMessage:"en"===x?"Reviews":"التقييمات"}),content:(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-lg font-medium text-[#026e78]",children:[Z.toFixed(1)," / 5"]}),(0,a.jsx)("div",{className:"flex",children:Array.from({length:5}).map((e,t)=>(0,a.jsx)(r.A,{className:"w-5 h-5 ".concat(t<Math.round(Z)?"fill-[#20c015] text-[#20c015]":"text-[#d0d5dd]")},t))})]})}),G?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Array.from({length:4}).map((e,t)=>(0,a.jsxs)("div",{className:"border border-[#d0d5dd] rounded-lg p-4 bg-white animate-pulse",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-[#d0d5dd] rounded-full"}),(0,a.jsx)("div",{className:"h-4 bg-[#d0d5dd] w-1/3 rounded"}),(0,a.jsx)("div",{className:"ml-auto flex gap-1",children:Array.from({length:5}).map((e,t)=>(0,a.jsx)("div",{className:"w-4 h-4 bg-[#d0d5dd] rounded"},t))})]}),(0,a.jsx)("div",{className:"h-4 bg-[#d0d5dd] w-1/2 rounded mb-2"}),(0,a.jsx)("div",{className:"h-3 bg-[#d0d5dd] w-full rounded"})]},t))}):0===Q.length?(0,a.jsx)("p",{className:"text-[#667085]",children:e("products.noReviews")}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Q.map(e=>(0,a.jsxs)("div",{className:"border border-[#d0d5dd] rounded-lg p-4 bg-white",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-[#d0d5dd] rounded-full flex items-center justify-center text-[#667085]",children:(0,a.jsx)("span",{className:"text-xs",children:e.customer_name[0]})}),(0,a.jsx)("span",{className:"font-medium",children:e.customer_name}),(0,a.jsx)("div",{className:"ml-auto flex",children:Array.from({length:5}).map((t,s)=>(0,a.jsx)(r.A,{className:"w-4 h-4 ".concat(s<e.rating?"fill-[#20c015] text-[#20c015]":"text-[#d0d5dd]")},s))})]}),(0,a.jsx)("p",{className:"text-sm text-[#667085]",children:e.text})]},e.id))})]})}],en=f.find(e=>e.product_id===p),ec=(null==en?void 0:en.quantity)||0;return k?(0,a.jsx)(P,{}):X?(0,a.jsxs)("div",{className:"min-h-screen bg-[#e8f5e9] overflow-hidden ".concat("ar"===x?"rtl":"ltr"),children:[(0,a.jsx)(C,{isOpen:h,onClose:()=>u(!1)}),(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-6",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-8",children:[(0,a.jsxs)("div",{className:"md:w-1/2 lg:w-5/12",children:[(0,a.jsx)(S.A,{pageName:"products",product:"en"===x?X.name_en:X.name_ar}),(0,a.jsx)(T,{images:Array.isArray(X.image)?X.image:[X.image],productName:"en"===x?X.name_en:X.name_ar,locale:x})]}),(0,a.jsxs)("div",{className:"md:w-1/2 lg:w-7/12 mt-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-medium text-[#026e78] mb-3",children:"en"===x?X.name_en:X.name_ar}),(0,a.jsx)("p",{className:"text-[#667085] mb-4",children:("en"===x?X.description_en:X.description_ar).split(".")[0]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:H?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"bg-gray-200 h-6 w-24 rounded-full animate-pulse"}),(0,a.jsx)("div",{className:"bg-gray-200 h-6 w-32 rounded-full animate-pulse ml-2"})]}):(0,a.jsxs)(a.Fragment,{children:[B?(0,a.jsx)("span",{className:"bg-[#038c8c] text-white px-3 py-1 rounded-full text-sm w-fit",children:B}):(0,a.jsx)("span",{className:"text-[#667085] text-sm",children:e("products.noCategory")}),R&&(0,a.jsx)("span",{className:"bg-[#038c8c] text-white px-3 py-1 rounded-full text-sm w-fit ml-2",children:R})]})}),(0,a.jsxs)("div",{className:"flex mb-4",children:[Array.from({length:5}).map((e,t)=>(0,a.jsx)(r.A,{className:"w-5 h-5 ".concat(t<Math.round(Z)?"fill-[#20c015] text-[#20c015]":"text-[#d0d5dd]")},t)),(0,a.jsxs)("span",{className:"ml-2 text-[#667085] text-sm",children:["(",Z.toFixed(1),")"]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("p",{className:"text-[#667085] text-sm",children:e("products.price")}),(0,a.jsx)("p",{className:"text-3xl font-semibold text-[#026e78]",children:X.price&&!isNaN(parseFloat(X.price))?(0,M.$)(parseFloat(X.price),x):e("products.contactForPrice")})]}),!X.availability&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-3",children:(0,a.jsx)("span",{className:"bg-[#038c8c] text-white px-3 py-1 rounded-full text-sm",children:e("products.outOfStock")})}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 items-center",children:[0===ec?(0,a.jsxs)("button",{onClick:ee,disabled:z||j||!X.availability,className:"bg-white text-[#337a5b] px-4 py-2 rounded-md transition-colors flex items-center ".concat(z||j||!X.availability?"opacity-70 cursor-not-allowed":"hover:bg-gray-200"),children:[(0,a.jsx)(l.A,{className:"w-4 h-4 mr-2"}),e("products.addToCart")]}):(0,a.jsxs)("div",{className:"flex items-center rounded-md overflow-hidden border border-[#d0d5dd]",children:[(0,a.jsx)("button",{onClick:()=>Y(ec-1),disabled:z||j,className:"px-3 py-2 text-[#667085] ".concat(z||j?"opacity-70 cursor-wait":""),children:(0,a.jsx)(d.A,{className:"w-4 h-4"})}),(0,a.jsx)("span",{className:"w-12 text-center bg-transparent border-x border-[#d0d5dd]",children:ec}),(0,a.jsx)("button",{onClick:()=>Y(ec+1),disabled:z||j||!X.availability,className:"px-3 py-2 text-[#667085] ".concat(z||j||!X.availability?"opacity-70 cursor-not-allowed":""),children:(0,a.jsx)(n.A,{className:"w-4 h-4"})})]}),(0,a.jsxs)("button",{onClick:et,disabled:z||j||!X.availability,className:"bg-[#8dfb9e] text-[#121619] px-6 py-2 rounded-full transition-colors flex items-center ".concat(z||j||!X.availability?"opacity-70 cursor-not-allowed":"hover:bg-[#27eb00]"),title:z||j?e("products.processing"):"",children:[e("products.buyNow"),(0,a.jsx)(l.A,{className:"w-4 h-4 mx-2"})]}),(0,a.jsxs)("button",{onClick:()=>u(!0),className:"border border-[#d0d5dd] text-[#667085] px-6 py-2 rounded-full hover:bg-white transition-colors flex items-center",children:[(0,a.jsx)(c,{className:"w-4 h-4 mr-2"}),e("products.viewCart")]})]})]})]})}),(0,a.jsx)("div",{className:"md:max-w-7xl mx-auto px-4 py-7",children:(0,a.jsx)(q,{tabs:ed,initialTab:"description"})}),(0,a.jsx)("div",{className:"border-t border-[#d0d5dd] py-8 items-center justify-center bg-[#e8f5e9]",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4",children:[(0,a.jsx)("h2",{className:"text-xl font-medium text-center mb-8 text-[#337a5b]",children:e("products.suggestedProducts")}),(0,a.jsx)(w,{products:el})]})})]}):(0,a.jsx)("div",{className:"min-h-screen bg-[#e8f5e9] flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("p",{className:"text-lg text-[#0f4229]",children:e("products.notFound")})})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[5269,452,3675,7652,7244,4105,6766,5950,5754,6720,82,8441,1684,7358],()=>t(5464)),_N_E=e.O()}]);