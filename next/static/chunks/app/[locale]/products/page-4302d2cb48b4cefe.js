(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4358],{1004:(e,a,t)=>{"use strict";t.d(a,{A:()=>m});var s=t(5155),l=t(6874),r=t.n(l),i=t(2355),c=t(3052),n=t(7652),d=t(5695),o=t(2115);let m=(0,o.memo)(function(e){let{pageName:a,product:t}=e,l=(0,n.c3)(""),m=(0,d.usePathname)(),x=m.split("/")[1]||"ar",u=l("pages.".concat(a.toLocaleLowerCase()));return"ar"===x?(0,s.jsxs)("div",{className:"flex items-center text-sm mb-2",children:[(0,s.jsx)(r(),{href:"/",className:"text-[#025162]",children:l("home.title")}),(0,s.jsx)(i.A,{className:"h-4 w-4 mx-1 text-[#80ce97]"}),(0,s.jsx)(r(),{href:"/".concat(x,"/").concat(a),className:"text-[#025162]",children:(0,s.jsx)("span",{className:"text-[#025162]",children:u})}),t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.A,{className:"h-4 w-4 mx-1 text-[#80ce97]"}),(0,s.jsx)("span",{className:"text-[#025162]",children:t})]})]}):(0,s.jsxs)("div",{className:"flex items-center text-sm mb-2",children:[(0,s.jsx)(r(),{href:"/",className:"text-[#025162]",children:l("home.title")}),m.split("/").map((e,a)=>1!==a&&0!==a&&isNaN(parseInt(e))?(0,s.jsxs)(o.Fragment,{children:[(0,s.jsx)(c.A,{className:"h-4 w-4 mx-1 text-[#80ce97]"}),(0,s.jsx)(r(),{href:"/".concat(e),className:"text-[#025162]",children:(0,s.jsx)("span",{className:"text-[#025162]",children:e})})]},e):null),t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.A,{className:"h-4 w-4 mx-1 text-[#80ce97]"}),(0,s.jsx)("span",{className:"text-[#025162]",children:t})]})]})})},1801:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>j});var s=t(5155),l=t(2115),r=t(4105),i=t(7924),c=t(7652),n=t(5695);function d(e){let{searchTerm:a,setSearchTerm:t,onSearch:l}=e,r=(0,c.c3)(""),d=(0,n.usePathname)().split("/")[1]||"ar";return(0,s.jsxs)("div",{className:"relative sm:max-w-xl md:min-w-xl    mb-2 ",children:[(0,s.jsx)("input",{type:"text",value:a,onChange:e=>t(e.target.value),onKeyDown:e=>{"Enter"===e.key&&l()},placeholder:r("products.searchPlaceholder"),className:"w-full py-3 px-4 pr-12 rounded-md border border-[#80ce97]/30 bg-white/80 focus:outline-none focus:ring-2 focus:ring-[#80ce97]"}),(0,s.jsx)("button",{onClick:l,className:"absolute top-6 -translate-y-1/2 bg-[#80ce97] p-2 rounded-full ".concat("ar"===d?"left-1":"right-1","   "),children:(0,s.jsx)(i.A,{className:"h-5 w-5 text-white"})})]})}var o=t(6474),m=t(8564),x=t(4416);function u(e){let{filters:a,setFilters:t,currentLocale:i}=e,n=(0,c.c3)(""),[d,u]=(0,l.useState)(null),p={category:(0,l.useRef)(null),availability:(0,l.useRef)(null),rating:(0,l.useRef)(null)};(0,l.useEffect)(()=>{function e(e){var a,t;d&&(null===(a=p[d])||void 0===a?void 0:a.current)&&!(null===(t=p[d].current)||void 0===t?void 0:t.contains(e.target))&&u(null)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[d]);let h=e=>{u(d===e?null:e)},g=(e,a)=>{t(t=>({...t,categories:t.categories.map(t=>{if(t.id===e){if(a){let e=t.subcategories.map(e=>e.id===a?{...e,selected:!e.selected}:e),s=e.every(e=>e.selected);return{...t,selected:s,subcategories:e}}{let e=!t.selected;return{...t,selected:e,subcategories:t.subcategories.map(a=>({...a,selected:e}))}}}return t})}))},b=(e,a)=>{t(t=>({...t,[e]:t[e].map(e=>e.id===a?{...e,selected:!e.selected}:e)}))},f=(e,a,s)=>{"bestSelling"===e?t(e=>({...e,bestSelling:!1})):"categories"===e&&void 0!==a?t(e=>({...e,categories:e.categories.map(e=>{if(e.id===a){if(s){let a=e.subcategories.map(e=>e.id===s?{...e,selected:!1}:e);return{...e,selected:!1,subcategories:a}}return{...e,selected:!1,subcategories:e.subcategories.map(e=>({...e,selected:!1}))}}return localStorage.removeItem("selectedCategory"),e})})):void 0!==a&&t(t=>({...t,[e]:t[e].map(e=>e.id===a?{...e,selected:!1}:e)}))},y=e=>"categories"===e?a.categories.reduce((e,a)=>{let t=a.subcategories.filter(e=>e.selected).length;return e+ +!!a.selected+t},0):a[e].filter(e=>e.selected).length,j=e=>{if("categories"===e){let e=[];return a.categories.forEach(a=>{a.selected&&e.push("ar"===i?a.name.ar:a.name.en),a.subcategories.forEach(a=>{a.selected&&e.push("ar"===i?a.name.ar:a.name.en)})}),e}return a[e].filter(e=>e.selected).map(e=>"ar"===i?e.name.ar:e.name.en)};return(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-3 justify-center",children:[(0,s.jsxs)("div",{className:"relative",ref:p.category,children:[(0,s.jsxs)("button",{onClick:()=>h("category"),className:"flex items-center justify-between gap-2 px-4 py-2 bg-white border border-[#80ce97] rounded-md text-[#0f4229] min-w-[150px]","aria-expanded":"category"===d,"aria-label":n("products.category"),children:[y("categories")>0?(0,s.jsx)("span",{className:"truncate max-w-[100px]",children:j("categories").join(", ")}):(0,s.jsx)("span",{children:n("products.category")}),(0,s.jsx)(o.A,{className:"h-4 w-4"})]}),"category"===d&&(0,s.jsx)(r.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 mt-1 bg-white border border-[#80ce97] rounded-md shadow-lg z-10 min-w-[200px]",role:"menu","aria-label":n("products.categoryOptions"),children:(0,s.jsx)("div",{className:"p-2 space-y-2",children:a.categories.map(e=>(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:e.selected,onChange:()=>g(e.id),className:"rounded border-[#80ce97]","aria-label":"ar"===i?e.name.ar:e.name.en}),(0,s.jsx)("span",{className:"text-[#414141] font-medium",children:"ar"===i?e.name.ar:e.name.en})]}),e.subcategories.length>0&&(0,s.jsx)("div",{className:"mx-6 space-y-1",children:e.subcategories.map(a=>(0,s.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:a.selected,onChange:()=>g(e.id,a.id),className:"rounded border-[#80ce97]","aria-label":"ar"===i?a.name.ar:a.name.en}),(0,s.jsx)("span",{className:"text-[#414141]",children:"ar"===i?a.name.ar:a.name.en})]},a.id))})]},e.id))})})]}),(0,s.jsx)("button",{onClick:()=>{t(e=>({...e,bestSelling:!e.bestSelling}))},className:"flex items-center justify-center px-4 py-2 border rounded-md min-w-[150px] ".concat(a.bestSelling?"bg-[#80ce97] text-white border-[#80ce97]":"bg-white text-[#0f4229] border-[#80ce97]"),"aria-label":n("products.bestSelling"),children:(0,s.jsx)("span",{children:n("products.bestSelling")})}),(0,s.jsxs)("div",{className:"relative",ref:p.availability,children:[(0,s.jsxs)("button",{onClick:()=>h("availability"),className:"flex items-center justify-between gap-2 px-4 py-2 bg-white border border-[#80ce97] rounded-md text-[#0f4229] min-w-[150px]","aria-expanded":"availability"===d,"aria-label":n("products.availability"),children:[y("availability")>0?(0,s.jsx)("span",{className:"truncate max-w-[100px]",children:j("availability").join(", ")}):(0,s.jsx)("span",{children:n("products.availability")}),(0,s.jsx)(o.A,{className:"h-4 w-4"})]}),"availability"===d&&(0,s.jsx)(r.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 mt-1 bg-white border border-[#80ce97] rounded-md shadow-lg z-10 min-w-[150px]",role:"menu","aria-label":n("products.availabilityOptions"),children:(0,s.jsx)("div",{className:"p-2 space-y-2",children:a.availability.map(e=>(0,s.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:e.selected,onChange:()=>b("availability",e.id),className:"rounded border-[#80ce97]","aria-label":"ar"===i?e.name.ar:e.name.en}),(0,s.jsx)("span",{className:"text-[#414141]",children:"ar"===i?e.name.ar:e.name.en})]},e.id))})})]}),(0,s.jsxs)("div",{className:"relative",ref:p.rating,children:[(0,s.jsxs)("button",{onClick:()=>h("rating"),className:"flex items-center justify-between gap-2 px-4 py-2 bg-white border border-[#80ce97] rounded-md text-[#0f4229] min-w-[150px]","aria-expanded":"rating"===d,"aria-label":n("products.rating"),children:[y("ratings")>0?(0,s.jsx)("span",{className:"truncate max-w-[100px]",children:j("ratings").join(", ")}):(0,s.jsx)("span",{children:n("products.rating")}),(0,s.jsx)(o.A,{className:"h-4 w-4"})]}),"rating"===d&&(0,s.jsx)(r.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 mt-1 bg-white border border-[#80ce97] rounded-md shadow-lg z-10 min-w-[200px]",role:"menu","aria-label":n("products.ratingOptions"),children:(0,s.jsx)("div",{className:"p-2 space-y-2",children:a.ratings.map(e=>(0,s.jsx)("label",{className:"flex items-center justify-between cursor-pointer p-1 hover:bg-[#e8f5e9]/50 rounded",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"checkbox",checked:e.selected,onChange:()=>b("ratings",e.id),className:"rounded border-[#80ce97]","aria-label":"ar"===i?e.name.ar:e.name.en}),(0,s.jsx)("div",{className:"flex",children:Array.from({length:5}).map((a,t)=>(0,s.jsx)(m.A,{className:"h-4 w-4 ".concat(t<e.stars?"text-[#e75313] fill-[#e75313]":"text-[#e5e5e5]")},t))})]})},e.id))})})]})]}),(a.categories.some(e=>e.selected||e.subcategories.some(e=>e.selected))||a.availability.some(e=>e.selected)||a.ratings.some(e=>e.selected)||a.bestSelling)&&(0,s.jsxs)(r.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"flex flex-wrap items-center gap-2 mb-6",children:[a.categories.map(e=>e.selected?(0,s.jsxs)(r.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center gap-1 px-3 py-1 bg-[#80ce97]/20 rounded-full text-sm",children:[(0,s.jsx)("span",{children:"ar"===i?e.name.ar:e.name.en}),(0,s.jsx)("button",{onClick:()=>f("categories",e.id),className:"text-[#0f4229] hover:text-[#e75313]","aria-label":n("products.removeFilter",{name:"ar"===i?e.name.ar:e.name.en}),children:(0,s.jsx)(x.A,{className:"h-3 w-3"})})]},"category-".concat(e.id)):null),a.categories.map(e=>e.subcategories.filter(e=>e.selected).map(a=>(0,s.jsxs)(r.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center gap-1 px-3 py-1 bg-[#80ce97]/20 rounded-full text-sm",children:[(0,s.jsx)("span",{children:"ar"===i?a.name.ar:a.name.en}),(0,s.jsx)("button",{onClick:()=>f("categories",e.id,a.id),className:"text-[#0f4229] hover:text-[#e75313]","aria-label":n("products.removeFilter",{name:"ar"===i?a.name.ar:a.name.en}),children:(0,s.jsx)(x.A,{className:"h-3 w-3"})})]},"subcategory-".concat(a.id)))),a.availability.filter(e=>e.selected).map(e=>(0,s.jsxs)(r.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center gap-1 px-3 py-1 bg-[#80ce97]/20 rounded-full text-sm",children:[(0,s.jsx)("span",{children:"ar"===i?e.name.ar:e.name.en}),(0,s.jsx)("button",{onClick:()=>f("availability",e.id),className:"text-[#0f4229] hover:text-[#e75313]","aria-label":n("products.removeFilter",{name:"ar"===i?e.name.ar:e.name.en}),children:(0,s.jsx)(x.A,{className:"h-3 w-3"})})]},"availability-".concat(e.id))),a.ratings.filter(e=>e.selected).map(e=>(0,s.jsxs)(r.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center gap-1 px-3 py-1 bg-[#80ce97]/20 rounded-full text-sm",children:[(0,s.jsx)("span",{children:"ar"===i?e.name.ar:e.name.en}),(0,s.jsx)("button",{onClick:()=>f("ratings",e.id),className:"text-[#0f4229] hover:text-[#e75313]","aria-label":n("products.removeFilter",{name:"ar"===i?e.name.ar:e.name.en}),children:(0,s.jsx)(x.A,{className:"h-3 w-3"})})]},"rating-".concat(e.id))),a.bestSelling&&(0,s.jsxs)(r.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center gap-1 px-3 py-1 bg-[#80ce97]/20 rounded-full text-sm",children:[(0,s.jsx)("span",{children:n("products.bestSelling")}),(0,s.jsx)("button",{onClick:()=>f("bestSelling"),className:"text-[#0f4229] hover:text-[#e75313]","aria-label":n("products.removeFilter",{name:n("products.bestSelling")}),children:(0,s.jsx)(x.A,{className:"h-3 w-3"})})]}),(0,s.jsx)("button",{onClick:()=>{t(e=>({...e,categories:e.categories.map(e=>({...e,selected:!1,subcategories:e.subcategories.map(e=>({...e,selected:!1}))})),availability:e.availability.map(e=>({...e,selected:!1})),ratings:e.ratings.map(e=>({...e,selected:!1})),bestSelling:!1})),localStorage.removeItem("selectedCategory")},className:"text-sm text-[#e75313] hover:underline","aria-label":n("products.clearAll"),children:n("products.clearAll")})]})]})}var p=t(82),h=t(9251),g=t(1004),b=t(5130),f=t(6720);let y=e=>({categories:e.map(e=>({id:e.id,name:e.name,selected:!1,subcategories:e.subcategories.map(e=>({id:e.id,name:e.name,selected:!1}))})),availability:[{id:1,name:{en:"In Stock",ar:"متوفر"},stars:0,selected:!1},{id:2,name:{en:"Out of Stock",ar:"غير متوفر"},stars:0,selected:!1}],ratings:[{id:5,name:{en:"5 Stars",ar:"5 نجوم"},stars:5,selected:!1},{id:4,name:{en:"4 Stars",ar:"4 نجوم"},stars:4,selected:!1},{id:3,name:{en:"3 Stars",ar:"3 نجوم"},stars:3,selected:!1},{id:2,name:{en:"2 Stars",ar:"2 نجوم"},stars:2,selected:!1},{id:1,name:{en:"1 Star",ar:"1 نجمة"},stars:1,selected:!1},{id:0,name:{en:"0 Stars",ar:"0 نجوم"},stars:0,selected:!1}],bestSelling:!1});function j(){let e=(0,c.c3)(""),a=(0,n.usePathname)(),t=(0,n.useRouter)(),i=a.split("/")[1],{allProducts:o,isLoading:m,setCategoryIds:x}=(0,b.Q)(),[j,v]=(0,l.useState)([]),[N,w]=(0,l.useState)(y([])),[k,C]=(0,l.useState)(""),[S,A]=(0,l.useState)(""),[P,E]=(0,l.useState)([]),[L,_]=(0,l.useState)(1),F=Math.ceil(P.length/12);(0,l.useEffect)(()=>{(async()=>{try{let e=await (0,f.jE)();v(e),w(y(e))}catch(e){console.error("Failed to load categories:",e),v([]),w(y([]))}})()},[]),(0,l.useEffect)(()=>{var e;let a=null===(e=localStorage.getItem("selectedCategory"))||void 0===e?void 0:e.toLowerCase();a&&j.length>0&&w(e=>({...e,categories:e.categories.map(e=>{let t=e.name.en.toLowerCase()===a||e.name.ar.toLowerCase()===a,s=e.subcategories.find(e=>e.name.en.toLowerCase()===a||e.name.ar.toLowerCase()===a);return t?{...e,selected:!0,subcategories:e.subcategories.map(e=>({...e,selected:!0}))}:s?{...e,selected:!1,subcategories:e.subcategories.map(e=>({...e,selected:e.id===s.id}))}:e}),availability:e.availability.map(e=>({...e,selected:!1})),ratings:e.ratings.map(e=>({...e,selected:!1})),bestSelling:!1}))},[j]),(0,l.useEffect)(()=>{let e=setTimeout(()=>{A(k)},300);return()=>clearTimeout(e)},[k]);let M=e=>{let a=[];e.categories.forEach(e=>{e.selected&&a.push(e.id),e.subcategories.forEach(e=>{e.selected&&a.push(e.id)})}),x(a)};(0,l.useEffect)(()=>{let e=[];N.categories.forEach(a=>{a.selected&&e.push(a.id),a.subcategories.forEach(a=>{a.selected&&e.push(a.id)})}),x(e)},[N.categories,x]),(0,l.useEffect)(()=>{M(N)},[N.categories]);let q=(0,l.useMemo)(()=>{var e,a;let t=[...o];S&&(t=t.filter(e=>{let a=S.toLowerCase(),t=e.name_en.toLowerCase().includes(a)||e.name_ar.toLowerCase().includes(a),s=e.description_en.toLowerCase().includes(a)||e.description_ar.toLowerCase().includes(a);return t||s}));let s=null===(e=N.availability.find(e=>"In Stock"===e.name.en))||void 0===e?void 0:e.selected,l=null===(a=N.availability.find(e=>"Out of Stock"===e.name.en))||void 0===a?void 0:a.selected;s&&!l?t=t.filter(e=>e.availability):!s&&l&&(t=t.filter(e=>!e.availability));let r=N.ratings.filter(e=>e.selected).map(e=>e.stars);return r.length>0&&(t=t.filter(e=>e.rating&&r.includes(Math.floor(e.rating)))),N.bestSelling&&(0===(t=t.filter(e=>(e.sold_quantity||0)>10)).length||(t=t.sort((e,a)=>(a.sold_quantity||0)-(e.sold_quantity||0)))),t},[N,S,o]);(0,l.useEffect)(()=>{E(q),_(1)},[q]);let I=12*L,O=P.slice(I-12,I),z=()=>(0,s.jsxs)("div",{className:"bg-[#337a5b] rounded-xl p-4 flex flex-col justify-between h-[400px] min-w-[280px] max-w-[280px] mx-2 animate-pulse",children:[(0,s.jsx)("div",{className:"h-[270px] w-full bg-gray-300 rounded-lg"}),(0,s.jsxs)("div",{className:"flex flex-col flex-grow",children:[(0,s.jsx)("div",{className:"h-6 bg-gray-300 rounded w-3/4 mx-auto mt-2"}),(0,s.jsx)("div",{className:"h-4 bg-gray-300 rounded w-full mt-2"}),(0,s.jsx)("div",{className:"flex justify-center mt-2",children:Array.from({length:5}).map((e,a)=>(0,s.jsx)("div",{className:"h-4 w-4 bg-gray-300 rounded-full mx-1"},a))}),(0,s.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,s.jsx)("div",{className:"h-6 bg-gray-300 rounded w-1/3"}),(0,s.jsx)("div",{className:"h-8 w-8 bg-gray-300 rounded-md"})]})]})]});return(0,s.jsx)("div",{className:"min-h-screen bg-[#e8f5e9] overflow-hidden",children:(0,s.jsxs)("main",{className:"container mx-auto px-4 py-2",children:[(0,s.jsx)("div",{className:"mb-4 mx-8",children:(0,s.jsx)(g.A,{pageName:"products"})}),(0,s.jsxs)("div",{className:"flex flex-wrap justify-center space-x-6 mb-3",children:[(0,s.jsx)(d,{searchTerm:k,setSearchTerm:C,onSearch:()=>{}}),(0,s.jsx)(u,{filters:N,setFilters:w,currentLocale:i})]}),(0,s.jsx)("div",{className:"flex flex-wrap justify-center md:justify-end gap-6 sm:w-[280px] md:w-[90%] mx-auto",children:m?Array.from({length:12}).map((e,a)=>(0,s.jsx)(z,{},a)):O.length>0?O.map((e,a)=>(0,s.jsx)("div",{onClick:()=>t.push("/".concat(i,"/products/").concat(e.id)),className:"cursor-pointer mx-4 max-w-6xl rounded-3xl relative",children:(0,s.jsx)(p.A,{product:e,index:a,pageName:"products"})},e.id)):(0,s.jsxs)(r.P.div,{initial:{opacity:0},animate:{opacity:1},className:"flex-1 col-span-full text-center py-10",children:[(0,s.jsx)("p",{className:"text-lg text-[#0f4229]",children:e("products.noProducts")}),(0,s.jsx)("button",{onClick:()=>{w(y(j)),localStorage.removeItem("selectedCategory"),C(""),x([])},className:"mt-4 px-4 py-2 bg-[#43bb67] text-white rounded-md",children:e("products.clearFilters")})]})}),!m&&P.length>0&&(0,s.jsx)(h.A,{currentPage:L,totalPages:F,onPageChange:_})]})})}},2355:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(9946).A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},3052:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(9946).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},4416:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(9946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5130:(e,a,t)=>{"use strict";t.d(a,{ProductProvider:()=>c,Q:()=>n});var s=t(5155),l=t(2115),r=t(6720);let i=(0,l.createContext)(void 0),c=e=>{let{children:a}=e,[t,c]=(0,l.useState)([]),[n,d]=(0,l.useState)(!0),[o,m]=(0,l.useState)([]);return(0,l.useEffect)(()=>{(async()=>{d(!0);try{let e=await (0,r.eN)(o.length>0?o:void 0);c(e)}catch(e){console.error("Failed to load products:",e)}finally{d(!1)}})()},[o]),(0,s.jsx)(i.Provider,{value:{allProducts:t,isLoading:n,setCategoryIds:m},children:a})},n=()=>{let e=(0,l.useContext)(i);if(!e)throw Error("useProducts must be used within a ProductProvider");return e}},5899:(e,a,t)=>{Promise.resolve().then(t.bind(t,1801))},6474:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(9946).A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},7809:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(9946).A)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},7924:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(9946).A)("search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},8564:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(9946).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},9251:(e,a,t)=>{"use strict";t.d(a,{A:()=>i});var s=t(5155),l=t(7652),r=t(2115);function i(e){let{currentPage:a,totalPages:t,onPageChange:i}=e,c=(0,l.c3)(""),n=(0,r.useCallback)(e=>{i(e),window.scrollTo({top:0,behavior:"smooth"})},[i]);return(0,s.jsxs)("nav",{className:"flex flex-wrap justify-center mt-6 sm:mt-8 md:mt-10 gap-2 sm:gap-3 md:gap-4 px-4","aria-label":"Pagination",children:[(0,s.jsx)("button",{onClick:()=>n(a-1),disabled:1===a,className:"px-3 py-1.5 sm:px-4 sm:py-2 text-sm sm:text-base border border-[#80ce97] rounded-md text-[#0f4229] hover:bg-[#80ce97]/10 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 min-w-[80px] sm:min-w-[100px]","aria-label":c("pagination.prev"),children:c("pagination.prev")}),(()=>{let e=[];if(t<=5)return Array.from({length:t},(e,a)=>a+1);let s=Math.max(1,a-2),l=Math.min(t,a+2);s>1&&(e.push(1),s>2&&e.push("..."));for(let a=s;a<=l;a++)e.push(a);return l<t&&(l<t-1&&e.push("..."),e.push(t)),e})().map((e,t)=>"string"==typeof e?(0,s.jsx)("span",{className:"px-3 py-1.5 sm:px-4 sm:py-2 text-sm sm:text-base text-[#0f4229] flex items-center",children:e},"ellipsis-".concat(t)):(0,s.jsx)("button",{onClick:()=>n(e),className:"px-3 py-1.5 sm:px-4 sm:py-2 text-sm sm:text-base border rounded-md transition-colors duration-200 min-w-[40px] sm:min-w-[48px] ".concat(a===e?"bg-[#0f4229] border-[#0f4229] text-white":"border-[#80ce97] text-[#0f4229] hover:bg-[#80ce97]/10"),"aria-current":a===e?"page":void 0,children:e},e)),(0,s.jsx)("button",{onClick:()=>n(a+1),disabled:a===t,className:"px-3 py-1.5 sm:px-4 sm:py-2 text-sm sm:text-base border border-[#80ce97] rounded-md text-[#0f4229] hover:bg-[#80ce97]/10 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 min-w-[80px] sm:min-w-[100px]","aria-label":c("pagination.next"),children:c("pagination.next")})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[7652,7244,4105,6766,5950,6720,82,8441,1684,7358],()=>a(5899)),_N_E=e.O()}]);