(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1822],{760:(e,t,s)=>{"use strict";s.d(t,{N:()=>g});var a=s(5155),i=s(2115),r=s(869),n=s(2885),l=s(7494),c=s(845),o=s(1508);class d extends i.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,s=e instanceof HTMLElement&&e.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function m(e){let{children:t,isPresent:s,anchorX:r}=e,n=(0,i.useId)(),l=(0,i.useRef)(null),c=(0,i.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=(0,i.useContext)(o.Q);return(0,i.useInsertionEffect)(()=>{let{width:e,height:t,top:a,left:i,right:o}=c.current;if(s||!l.current||!e||!t)return;l.current.dataset.motionPopId=n;let d=document.createElement("style");return m&&(d.nonce=m),document.head.appendChild(d),d.sheet&&d.sheet.insertRule('\n          [data-motion-pop-id="'.concat(n,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===r?"left: ".concat(i):"right: ".concat(o),"px !important;\n            top: ").concat(a,"px !important;\n          }\n        ")),()=>{document.head.removeChild(d)}},[s]),(0,a.jsx)(d,{isPresent:s,childRef:l,sizeRef:c,children:i.cloneElement(t,{ref:l})})}let x=e=>{let{children:t,initial:s,isPresent:r,onExitComplete:l,custom:o,presenceAffectsLayout:d,mode:x,anchorX:u}=e,p=(0,n.M)(h),f=(0,i.useId)(),g=(0,i.useCallback)(e=>{for(let t of(p.set(e,!0),p.values()))if(!t)return;l&&l()},[p,l]),v=(0,i.useMemo)(()=>({id:f,initial:s,isPresent:r,custom:o,onExitComplete:g,register:e=>(p.set(e,!1),()=>p.delete(e))}),d?[Math.random(),g]:[r,g]);return(0,i.useMemo)(()=>{p.forEach((e,t)=>p.set(t,!1))},[r]),i.useEffect(()=>{r||p.size||!l||l()},[r]),"popLayout"===x&&(t=(0,a.jsx)(m,{isPresent:r,anchorX:u,children:t})),(0,a.jsx)(c.t.Provider,{value:v,children:t})};function h(){return new Map}var u=s(2082);let p=e=>e.key||"";function f(e){let t=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&t.push(e)}),t}let g=e=>{let{children:t,custom:s,initial:c=!0,onExitComplete:o,presenceAffectsLayout:d=!0,mode:m="sync",propagate:h=!1,anchorX:g="left"}=e,[v,j]=(0,u.xQ)(h),y=(0,i.useMemo)(()=>f(t),[t]),N=h&&!v?[]:y.map(p),w=(0,i.useRef)(!0),b=(0,i.useRef)(y),k=(0,n.M)(()=>new Map),[P,C]=(0,i.useState)(y),[A,E]=(0,i.useState)(y);(0,l.E)(()=>{w.current=!1,b.current=y;for(let e=0;e<A.length;e++){let t=p(A[e]);N.includes(t)?k.delete(t):!0!==k.get(t)&&k.set(t,!1)}},[A,N.length,N.join("-")]);let L=[];if(y!==P){let e=[...y];for(let t=0;t<A.length;t++){let s=A[t],a=p(s);N.includes(a)||(e.splice(t,0,s),L.push(s))}return"wait"===m&&L.length&&(e=L),E(f(e)),C(y),null}let{forceRender:R}=(0,i.useContext)(r.L);return(0,a.jsx)(a.Fragment,{children:A.map(e=>{let t=p(e),i=(!h||!!v)&&(y===A||N.includes(t));return(0,a.jsx)(x,{isPresent:i,initial:(!w.current||!!c)&&void 0,custom:s,presenceAffectsLayout:d,mode:m,onExitComplete:i?void 0:()=>{if(!k.has(t))return;k.set(t,!0);let e=!0;k.forEach(t=>{t||(e=!1)}),e&&(null==R||R(),E(b.current),h&&(null==j||j()),o&&o())},anchorX:g,children:e},t)})})}},1004:(e,t,s)=>{"use strict";s.d(t,{A:()=>m});var a=s(5155),i=s(6874),r=s.n(i),n=s(2355),l=s(3052),c=s(7652),o=s(5695),d=s(2115);let m=(0,d.memo)(function(e){let{pageName:t,product:s}=e,i=(0,c.c3)(""),m=(0,o.usePathname)(),x=m.split("/")[1]||"ar",h=i("pages.".concat(t.toLocaleLowerCase()));return"ar"===x?(0,a.jsxs)("div",{className:"flex items-center text-sm mb-2",children:[(0,a.jsx)(r(),{href:"/",className:"text-[#025162]",children:i("home.title")}),(0,a.jsx)(n.A,{className:"h-4 w-4 mx-1 text-[#80ce97]"}),(0,a.jsx)(r(),{href:"/".concat(x,"/").concat(t),className:"text-[#025162]",children:(0,a.jsx)("span",{className:"text-[#025162]",children:h})}),s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.A,{className:"h-4 w-4 mx-1 text-[#80ce97]"}),(0,a.jsx)("span",{className:"text-[#025162]",children:s})]})]}):(0,a.jsxs)("div",{className:"flex items-center text-sm mb-2",children:[(0,a.jsx)(r(),{href:"/",className:"text-[#025162]",children:i("home.title")}),m.split("/").map((e,t)=>1!==t&&0!==t&&isNaN(parseInt(e))?(0,a.jsxs)(d.Fragment,{children:[(0,a.jsx)(l.A,{className:"h-4 w-4 mx-1 text-[#80ce97]"}),(0,a.jsx)(r(),{href:"/".concat(e),className:"text-[#025162]",children:(0,a.jsx)("span",{className:"text-[#025162]",children:e})})]},e):null),s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.A,{className:"h-4 w-4 mx-1 text-[#80ce97]"}),(0,a.jsx)("span",{className:"text-[#025162]",children:s})]})]})})},2355:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},3032:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var a=s(5155),i=s(2115),r=s(4105),n=s(5695);function l(e){let{message:t,isVisible:s,onClose:l}=e,c="en"===(0,n.usePathname)().split("/")[1]?"en":"ar";return((0,i.useEffect)(()=>{if(s){let e=setTimeout(()=>{l()},3e3);return()=>clearTimeout(e)}},[s,l]),s)?(0,a.jsx)(r.P.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},transition:{duration:.3},className:"fixed top-[13vh] left-1/2 transform -translate-x-1/2 bg-[var(--accent-color)] text-[var(--text-white)] px-6 py-3 rounded-lg shadow-[var(--shadow-md)] max-w-md w-full text-center z-50",dir:"ar"===c?"rtl":"ltr",role:"alert","aria-live":"polite",children:t}):null}},3052:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},4647:(e,t,s)=>{Promise.resolve().then(s.bind(s,8728))},8728:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var a=s(5155),i=s(2115),r=s(7652),n=s(5695),l=s(4105),c=s(760),o=s(6766),d=s(3032),m=s(1004),x=s(6720);function h(){let e=(0,r.c3)("serviceRequests"),t=(0,n.usePathname)(),s=(0,n.useRouter)(),h="en"===t.split("/")[1]?"en":"ar",[u,p]=(0,i.useState)("all"),[f,g]=(0,i.useState)(null),[v,j]=(0,i.useState)(!1),[y]=(0,i.useState)(""),[N,w]=(0,i.useState)([]),[b,k]=(0,i.useState)(!0),[P,C]=(0,i.useState)(null);(0,i.useEffect)(()=>{(async()=>{try{let e=await (0,x.w7)(h);w(e)}catch(t){C(t instanceof Error?t.message:e("errors.fetchFailed"))}finally{k(!1)}})()},[h,e]);let A=N.filter(e=>"all"===u||e.status===u),E=e=>{g(f===e?null:e)};return b?(0,a.jsx)("div",{className:"min-h-screen bg-[var(--primary-bg)] flex flex-col",dir:"ar"===h?"rtl":"ltr",children:(0,a.jsxs)("div",{className:"max-w-3xl mx-auto w-full px-4 md:px-8 py-[7vh]",children:[(0,a.jsxs)("div",{className:"w-full rounded-lg",children:[(0,a.jsx)(l.P.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4,ease:[.4,0,.2,1]},className:"text-2xl font-semibold text-green-700 mb-4",children:e("title")}),(0,a.jsx)(m.A,{pageName:"serviceRequests"})]}),(0,a.jsx)("div",{className:"animate-pulse space-y-4",children:[void 0,void 0,void 0].map((e,t)=>(0,a.jsxs)("div",{className:"bg-green-100 rounded-lg p-4 shadow-sm",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})})]},t))})]})}):P?(0,a.jsx)("div",{className:"min-h-screen bg-[var(--primary-bg)] flex flex-col",dir:"ar"===h?"rtl":"ltr",children:(0,a.jsxs)("div",{className:"max-w-3xl mx-auto w-full px-4 md:px-8 py-[7vh]",children:[(0,a.jsxs)("div",{className:"w-full rounded-lg",children:[(0,a.jsx)(l.P.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4,ease:[.4,0,.2,1]},className:"text-2xl font-semibold text-green-700 mb-4",children:e("title")}),(0,a.jsx)(m.A,{pageName:"serviceRequests"})]}),(0,a.jsxs)("div",{className:"text-center text-red-500",children:[(0,a.jsx)("p",{children:P}),(0,a.jsx)(l.P.button,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded",onClick:()=>s.push("/".concat(h,"/login")),children:e("goToLogin")})]})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-[var(--primary-bg)] flex flex-col overflow-auto",dir:"ar"===h?"rtl":"ltr",children:[(0,a.jsxs)("div",{className:"max-w-3xl mx-auto w-full px-4 md:px-8 py-[7vh]",children:[(0,a.jsx)("div",{className:"flex mr-5 mb-4",children:(0,a.jsx)(m.A,{pageName:"serviceRequests"})}),(0,a.jsxs)("div",{className:"w-full rounded-lg",children:[(0,a.jsx)(l.P.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4,ease:[.4,0,.2,1]},className:"text-2xl font-semibold text-green-700 mb-4",children:e("title")}),(0,a.jsxs)(l.P.div,{className:"mb-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4,ease:[.4,0,.2,1],delay:.1},children:[(0,a.jsx)("div",{className:"sm:hidden",children:(0,a.jsx)(l.P.select,{value:u,onChange:e=>p(e.target.value),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-green-200 rounded-full focus:outline-none focus:ring-2 focus:ring-green-300 transition-colors",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4,ease:[.4,0,.2,1],delay:.15},dir:"ar"===h?"rtl":"ltr",children:["all","pending","inProgress","completed","cancelled"].map(t=>(0,a.jsx)("option",{value:t,children:e(t)},t))})}),(0,a.jsx)("div",{className:"hidden sm:flex flex-wrap gap-2 justify-center md:justify-start",children:["all","pending","inProgress","completed","cancelled"].map((t,s)=>(0,a.jsx)(l.P.button,{whileHover:{scale:1.05,y:-2,transition:{duration:.2,ease:[.4,0,.2,1]}},whileTap:{scale:.95,transition:{duration:.2,ease:[.4,0,.2,1]}},className:"px-4 py-2 rounded-full text-sm font-medium transition-colors whitespace-nowrap ".concat(u===t?"bg-white text-black border border-green-200 shadow-sm":"bg-transparent text-gray-600 hover:text-black border border-transparent hover:bg-green-50"),onClick:()=>p(t),initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4,ease:[.4,0,.2,1],delay:.1+.03*s},"aria-current":u===t?"true":"false",children:e(t)},t))})]})]}),(0,a.jsx)(l.P.div,{className:"space-y-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4,ease:[.4,0,.2,1],delay:.2},children:0===A.length?(0,a.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[(0,a.jsx)("p",{children:e("noRequests")}),(0,a.jsx)(l.P.button,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded",onClick:()=>s.push("/".concat(h,"/services")),children:e("requestService")})]}):(0,a.jsx)(c.N,{children:A.map((t,s)=>{var i,r,n;return(0,a.jsxs)(l.P.div,{className:"bg-green-100 rounded-lg p-4 shadow-sm overflow-hidden",initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.98},transition:{duration:.4,ease:[.4,0,.2,1],delay:.05*s},layout:!0,children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between mb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-lg font-medium",children:[e("request")," #",t.id]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:new Date(t.created_at).toLocaleDateString(h,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,a.jsx)("div",{className:"flex items-center mt-2 md:mt-0",children:(0,a.jsx)(l.P.div,{whileHover:{scale:1.05,y:-2,transition:{duration:.2,ease:[.4,0,.2,1]}},className:"inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold text-white ".concat("completed"===t.status?"bg-green-500":"cancelled"===t.status?"bg-red-500":"pending"===t.status?"bg-yellow-500":"bg-blue-500"),children:e(t.status)})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"bg-white p-2 rounded-full mr-3",children:(0,a.jsxs)("svg",{className:"h-5 w-5 text-gray-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),(0,a.jsx)("polyline",{points:"22 4 12 14.01 9 11.01"})]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e("serviceId")}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"en"===h?null===(i=t.service)||void 0===i?void 0:i.name_en:null===(r=t.service)||void 0===r?void 0:r.name_ar})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"bg-white p-2 rounded-full mr-3",children:(0,a.jsxs)("svg",{className:"h-5 w-5 text-gray-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),(0,a.jsx)("circle",{cx:"12",cy:"10",r:"3"})]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e("address")}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:(null===(n=t.address)||void 0===n?void 0:n.title)||e("noAddress")})]})]}),(0,a.jsx)("div",{className:"flex justify-end items-center gap-2",children:(0,a.jsxs)(l.P.button,{whileHover:{scale:1.05,y:-2,transition:{duration:.2,ease:[.4,0,.2,1]}},whileTap:{scale:.95,transition:{duration:.2,ease:[.4,0,.2,1]}},className:"text-green-700 hover:text-green-800 hover:bg-green-200 px-4 py-1 rounded-md flex flex-row items-center whitespace-nowrap",onClick:()=>E(t.id.toString()),"aria-expanded":f===t.id.toString(),"aria-controls":"request-details-".concat(t.id),children:[(0,a.jsx)("span",{className:"inline-flex",children:f===t.id.toString()?e("hideDetails"):e("viewDetails")}),(0,a.jsx)("svg",{className:"ml-1 h-4 w-4 transition-transform ".concat(f===t.id.toString()?"rotate-180":""),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("polyline",{points:"6 9 12 15 18 9"})})]})})]}),(0,a.jsx)(c.N,{mode:"wait",children:f===t.id.toString()&&(0,a.jsxs)(l.P.div,{className:"mt-4 bg-white rounded-lg p-4 overflow-hidden",initial:{opacity:0,maxHeight:0},animate:{opacity:1,maxHeight:1e3},exit:{opacity:0,maxHeight:0},transition:{duration:.3,ease:[.4,0,.2,1],opacity:{duration:.2}},id:"request-details-".concat(t.id),children:[(0,a.jsx)("div",{className:"flex justify-between items-center py-3 border-b",children:(0,a.jsxs)("div",{className:"flex items-center",children:[t.image&&(0,a.jsx)("div",{className:"bg-green-50 p-2 rounded-md mr-3",children:(0,a.jsx)(o.default,{src:t.image?"".concat("http://127.0.0.1:8000").concat(t.image):"/placeholder.svg",alt:e("requestImage"),width:40,height:40,className:"object-cover",priority:!0})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm",children:e("details")}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:t.details})]})]})}),t.address&&(0,a.jsxs)(l.P.div,{className:"mt-4",initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.2,ease:[.4,0,.2,1]},children:[(0,a.jsx)("p",{className:"font-medium",children:e("serviceAddress")}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[t.address.title,", ",t.address.city,", ",t.address.address_line]})]})]},t.id)})]},t.id)})})})]}),(0,a.jsx)(d.A,{message:y,isVisible:v,onClose:()=>j(!1)})]})}},9946:(e,t,s)=>{"use strict";s.d(t,{A:()=>d});var a=s(2115);let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),n=e=>{let t=r(e);return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,a.forwardRef)((e,t)=>{let{color:s="currentColor",size:i=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:d,iconNode:m,...x}=e;return(0,a.createElement)("svg",{ref:t,...c,width:i,height:i,stroke:s,strokeWidth:n?24*Number(r)/Number(i):r,className:l("lucide",o),...x},[...m.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(d)?d:[d]])}),d=(e,t)=>{let s=(0,a.forwardRef)((s,r)=>{let{className:c,...d}=s;return(0,a.createElement)(o,{ref:r,iconNode:t,className:l("lucide-".concat(i(n(e))),"lucide-".concat(e),c),...d})});return s.displayName=n(e),s}}},e=>{var t=t=>e(e.s=t);e.O(0,[7652,7244,4105,6766,6720,8441,1684,7358],()=>t(4647)),_N_E=e.O()}]);